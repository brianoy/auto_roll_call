(window.webpackJsonp=window.webpackJsonp||[]).push([[122],{972:function(t,e,n){var o;!function(r,h){t.exports?t.exports=r.document?h(r):h:void 0===(o=function(){return h(r)}.call(e,n,e,t))||(t.exports=o)}("undefined"!=typeof window?window:this,(function(t){var a,e,n,o,q,r,h,l,c=(a=void 0===t?window:t,e=a.document,n=a.navigator&&a.navigator.userAgent||"",o=e&&e.createElementNS&&!!e.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect,q=/(edge|msie|trident)/i.test(n)&&!a.opera,r=-1!==n.indexOf("Firefox"),h=-1!==n.indexOf("Chrome"),l=r&&4>parseInt(n.split("Firefox/")[1],10),a.Highcharts?a.Highcharts.error(16,!0):{product:"Highstock",version:"6.2.0",deg2rad:2*Math.PI/360,doc:e,hasBidiBug:l,hasTouch:e&&void 0!==e.documentElement.ontouchstart,isMS:q,isWebKit:-1!==n.indexOf("AppleWebKit"),isFirefox:r,isChrome:h,isSafari:!h&&-1!==n.indexOf("Safari"),isTouchDevice:/(Mobile|Android|Windows Phone)/.test(n),SVG_NS:"http://www.w3.org/2000/svg",chartCount:0,seriesTypes:{},symbolSizes:{},svg:o,win:a,marginNames:["plotTop","marginRight","marginBottom","plotLeft"],noop:function(){},charts:[]});!function(a){a.timers=[];var t=a.charts,e=a.doc,n=a.win;a.error=function(q,t){if(q=a.isNumber(q)?"Highcharts error #"+q+": www.highcharts.com/errors/"+q:q,t)throw Error(q);n.console&&console.log(q)},a.Fx=function(a,t,e){this.options=t,this.elem=a,this.prop=e},a.Fx.prototype={dSetter:function(){var t,a=this.paths[0],e=this.paths[1],n=[],o=this.now,r=a.length;if(1===o)n=this.toD;else if(r===e.length&&1>o)for(;r--;)t=parseFloat(a[r]),n[r]=isNaN(t)?e[r]:o*parseFloat(e[r]-t)+t;else n=e;this.elem.attr("d",n,null,!0)},update:function(){var a=this.elem,t=this.prop,e=this.now,n=this.options.step;this[t+"Setter"]?this[t+"Setter"]():a.attr?a.element&&a.attr(t,e,null,!0):a.style[t]=e+this.unit,n&&n.call(a,e,this)},run:function(q,t,e){var o=this,r=o.options,h=function(a){return!h.stopped&&o.step(a)},l=n.requestAnimationFrame||function(a){setTimeout(a,13)},c=function(){for(var t=0;t<a.timers.length;t++)a.timers[t]()||a.timers.splice(t--,1);a.timers.length&&l(c)};q!==t||this.elem["forceAnimate:"+this.prop]?(this.startTime=+new Date,this.start=q,this.end=t,this.unit=e,this.now=this.start,this.pos=0,h.elem=this.elem,h.prop=this.prop,h()&&1===a.timers.push(h)&&l(c)):(delete r.curAnim[this.prop],r.complete&&0===a.keys(r.curAnim).length&&r.complete.call(this.elem))},step:function(q){var t,e=+new Date,n=this.options,o=this.elem,r=n.complete,h=n.duration,l=n.curAnim;return o.attr&&!o.element?q=!1:q||e>=h+this.startTime?(this.now=this.end,this.pos=1,this.update(),t=l[this.prop]=!0,a.objectEach(l,(function(a){!0!==a&&(t=!1)})),t&&r&&r.call(o),q=!1):(this.pos=n.easing((e-this.startTime)/h),this.now=this.start+(this.end-this.start)*this.pos,this.update(),q=!0),q},initPath:function(q,t,e){function n(a){var b,t;for(c=a.length;c--;)b="M"===a[c]||"L"===a[c],t=/[a-zA-Z]/.test(a[c+3]),b&&t&&a.splice(c+1,0,a[c+1],a[c+2],a[c+1],a[c+2])}function o(a,b){for(;a.length<l;){a[0]=b[l-a.length];var t=a.slice(0,x);[].splice.apply(a,[0,0].concat(t)),y&&(t=a.slice(a.length-x),[].splice.apply(a,[a.length,0].concat(t)),c--)}a[0]="M"}function r(a,t){for(var e=(l-a.length)/x;0<e&&e--;)(b=a.slice().splice(a.length/k-x,x*k))[0]=t[l-x-e*x],m&&(b[x-6]=b[x-2],b[x-5]=b[x-1]),[].splice.apply(a,[a.length/k,0].concat(b)),y&&e--}t=t||"";var h,l,b,c,d=q.startX,f=q.endX,m=-1<t.indexOf("C"),x=m?7:3;t=t.split(" "),e=e.slice();var v,y=q.isArea,k=y?2:1;if(m&&(n(t),n(e)),d&&f){for(c=0;c<d.length;c++){if(d[c]===f[0]){h=c;break}if(d[0]===f[f.length-d.length+c]){h=c,v=!0;break}}void 0===h&&(t=[])}return t.length&&a.isNumber(h)&&(l=e.length+h*k*x,v?(o(t,e),r(e,t)):(o(e,t),r(t,e))),[t,e]},fillSetter:function(){a.Fx.prototype.strokeSetter.apply(this,arguments)},strokeSetter:function(){this.elem.attr(this.prop,a.color(this.start).tweenTo(a.color(this.end),this.pos),null,!0)}},a.merge=function(){var q,t,e=arguments,n={},o=function(t,e){return"object"!=typeof t&&(t={}),a.objectEach(e,(function(n,r){!a.isObject(n,!0)||a.isClass(n)||a.isDOMElement(n)?t[r]=e[r]:t[r]=o(t[r]||{},n)})),t};for(!0===e[0]&&(n=e[1],e=Array.prototype.slice.call(e,2)),t=e.length,q=0;q<t;q++)n=o(n,e[q]);return n},a.pInt=function(a,t){return parseInt(a,t||10)},a.isString=function(a){return"string"==typeof a},a.isArray=function(a){return"[object Array]"===(a=Object.prototype.toString.call(a))||"[object Array Iterator]"===a},a.isObject=function(q,t){return!(!q||"object"!=typeof q||t&&a.isArray(q))},a.isDOMElement=function(q){return a.isObject(q)&&"number"==typeof q.nodeType},a.isClass=function(q){var t=q&&q.constructor;return!(!a.isObject(q,!0)||a.isDOMElement(q)||!t||!t.name||"Object"===t.name)},a.isNumber=function(a){return"number"==typeof a&&!isNaN(a)&&1/0>a&&-1/0<a},a.erase=function(a,t){for(var e=a.length;e--;)if(a[e]===t){a.splice(e,1);break}},a.defined=function(a){return null!=a},a.attr=function(q,t,e){var n;return a.isString(t)?a.defined(e)?q.setAttribute(t,e):q&&q.getAttribute&&((n=q.getAttribute(t))||"class"!==t||(n=q.getAttribute(t+"Name"))):a.defined(t)&&a.isObject(t)&&a.objectEach(t,(function(a,t){q.setAttribute(t,a)})),n},a.splat=function(q){return a.isArray(q)?q:[q]},a.syncTimeout=function(a,t,e){if(t)return setTimeout(a,t,e);a.call(0,e)},a.clearTimeout=function(q){a.defined(q)&&clearTimeout(q)},a.extend=function(a,t){var e;for(e in a||(a={}),t)a[e]=t[e];return a},a.pick=function(){var t,e,a=arguments,n=a.length;for(t=0;t<n;t++)if(null!=(e=a[t]))return e},a.css=function(q,t){a.isMS&&!a.svg&&t&&void 0!==t.opacity&&(t.filter="alpha(opacity="+100*t.opacity+")"),a.extend(q.style,t)},a.createElement=function(q,t,n,o,r){q=e.createElement(q);var h=a.css;return t&&a.extend(q,t),r&&h(q,{padding:0,border:"none",margin:0}),n&&h(q,n),o&&o.appendChild(q),q},a.extendClass=function(q,t){var e=function(){};return e.prototype=new q,a.extend(e.prototype,t),e},a.pad=function(a,t,e){return Array((t||2)+1-String(a).replace("-","").length).join(e||0)+a},a.relativeLength=function(a,t,e){return/%$/.test(a)?t*parseFloat(a)/100+(e||0):parseFloat(a)},a.wrap=function(a,t,e){var n=a[t];a[t]=function(){var a=Array.prototype.slice.call(arguments),t=arguments,o=this;return o.proceed=function(){n.apply(o,arguments.length?arguments:t)},a.unshift(n),a=e.apply(this,a),o.proceed=null,a}},a.datePropsToTimestamps=function(q){a.objectEach(q,(function(t,e){a.isObject(t)&&"function"==typeof t.getTime?q[e]=t.getTime():(a.isObject(t)||a.isArray(t))&&a.datePropsToTimestamps(t)}))},a.formatSingle=function(q,t,e){var n=a.defaultOptions.lang;return/f$/.test(q)?(e=(e=q.match(/\.([0-9])/))?e[1]:-1,null!==t&&(t=a.numberFormat(t,e,n.decimalPoint,-1<q.indexOf(",")?n.thousandsSep:""))):t=(e||a.time).dateFormat(q,t),t},a.format=function(q,t,e){for(var n,o,r,h,l,c="{",d=!1,f=[];q&&-1!==(c=q.indexOf(c));){if(n=q.slice(0,c),d){for(h=(o=(n=n.split(":")).shift().split(".")).length,l=t,r=0;r<h;r++)l&&(l=l[o[r]]);n.length&&(l=a.formatSingle(n.join(":"),l,e)),f.push(l)}else f.push(n);q=q.slice(c+1),c=(d=!d)?"}":"{"}return f.push(q),f.join("")},a.getMagnitude=function(a){return Math.pow(10,Math.floor(Math.log(a)/Math.LN10))},a.normalizeTickInterval=function(q,t,e,n,o){var r,h=q;for(r=q/(e=a.pick(e,1)),t||(t=o?[1,1.2,1.5,2,2.5,3,4,5,6,8,10]:[1,2,2.5,5,10],!1===n&&(1===e?t=a.grep(t,(function(a){return 0==a%1})):.1>=e&&(t=[1/e]))),n=0;n<t.length&&(h=t[n],!(o&&h*e>=q||!o&&r<=(t[n]+(t[n+1]||t[n]))/2));n++);return a.correctFloat(h*e,-Math.round(Math.log(.001)/Math.LN10))},a.stableSort=function(a,t){var e,n,o=a.length;for(n=0;n<o;n++)a[n].safeI=n;for(a.sort((function(a,n){return 0===(e=t(a,n))?a.safeI-n.safeI:e})),n=0;n<o;n++)delete a[n].safeI},a.arrayMin=function(a){for(var t=a.length,e=a[0];t--;)a[t]<e&&(e=a[t]);return e},a.arrayMax=function(a){for(var t=a.length,e=a[0];t--;)a[t]>e&&(e=a[t]);return e},a.destroyObjectProperties=function(q,t){a.objectEach(q,(function(a,e){a&&a!==t&&a.destroy&&a.destroy(),delete q[e]}))},a.discardElement=function(q){var t=a.garbageBin;t||(t=a.createElement("div")),q&&t.appendChild(q),t.innerHTML=""},a.correctFloat=function(a,t){return parseFloat(a.toPrecision(t||14))},a.setAnimation=function(q,t){t.renderer.globalAnimation=a.pick(q,t.options.chart.animation,!0)},a.animObject=function(q){return a.isObject(q)?a.merge(q):{duration:q?500:0}},a.timeUnits={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:24192e5,year:314496e5},a.numberFormat=function(q,t,e,n){q=+q||0,t=+t;var o,r,h=a.defaultOptions.lang,l=(q.toString().split(".")[1]||"").split("e")[0].length,c=q.toString().split("e");return-1===t?t=Math.min(l,20):a.isNumber(t)?t&&c[1]&&0>c[1]&&(0<=(o=t+ +c[1])?(c[0]=(+c[0]).toExponential(o).split("e")[0],t=o):(c[0]=c[0].split(".")[0]||0,q=20>t?(c[0]*Math.pow(10,c[1])).toFixed(t):0,c[1]=0)):t=2,r=(Math.abs(c[1]?c[0]:q)+Math.pow(10,-Math.max(t,l)-1)).toFixed(t),o=3<(l=String(a.pInt(r))).length?l.length%3:0,e=a.pick(e,h.decimalPoint),n=a.pick(n,h.thousandsSep),q=(0>q?"-":"")+(o?l.substr(0,o)+n:""),q+=l.substr(o).replace(/(\d{3})(?=\d)/g,"$1"+n),t&&(q+=e+r.slice(-t)),c[1]&&0!=+q&&(q+="e"+c[1]),q},Math.easeInOutSine=function(a){return-.5*(Math.cos(Math.PI*a)-1)},a.getStyle=function(q,t,e){return"width"===t?Math.max(0,Math.min(q.offsetWidth,q.scrollWidth)-a.getStyle(q,"padding-left")-a.getStyle(q,"padding-right")):"height"===t?Math.max(0,Math.min(q.offsetHeight,q.scrollHeight)-a.getStyle(q,"padding-top")-a.getStyle(q,"padding-bottom")):(n.getComputedStyle||a.error(27,!0),(q=n.getComputedStyle(q,void 0))&&(q=q.getPropertyValue(t),a.pick(e,"opacity"!==t)&&(q=a.pInt(q))),q)},a.inArray=function(q,t,e){return(a.indexOfPolyfill||Array.prototype.indexOf).call(t,q,e)},a.grep=function(q,t){return(a.filterPolyfill||Array.prototype.filter).call(q,t)},a.find=Array.prototype.find?function(a,t){return a.find(t)}:function(a,t){var e,n=a.length;for(e=0;e<n;e++)if(t(a[e],e))return a[e]},a.some=function(q,t,e){return(a.somePolyfill||Array.prototype.some).call(q,t,e)},a.map=function(a,t){for(var e=[],n=0,o=a.length;n<o;n++)e[n]=t.call(a[n],a[n],n,a);return e},a.keys=function(q){return(a.keysPolyfill||Object.keys).call(void 0,q)},a.reduce=function(q,t,e){return(a.reducePolyfill||Array.prototype.reduce).apply(q,2<arguments.length?[t,e]:[t])},a.offset=function(a){var t=e.documentElement;return{top:(a=a.parentElement||a.parentNode?a.getBoundingClientRect():{top:0,left:0}).top+(n.pageYOffset||t.scrollTop)-(t.clientTop||0),left:a.left+(n.pageXOffset||t.scrollLeft)-(t.clientLeft||0)}},a.stop=function(q,t){for(var e=a.timers.length;e--;)a.timers[e].elem!==q||t&&t!==a.timers[e].prop||(a.timers[e].stopped=!0)},a.each=function(q,t,e){return(a.forEachPolyfill||Array.prototype.forEach).call(q,t,e)},a.objectEach=function(a,t,e){for(var n in a)a.hasOwnProperty(n)&&t.call(e||a[n],a[n],n,a)},a.addEvent=function(q,t,e,n){var o,r=q.addEventListener||a.addEventListenerPolyfill;return o="function"==typeof q&&q.prototype?q.prototype.protoEvents=q.prototype.protoEvents||{}:q.hcEvents=q.hcEvents||{},a.Point&&q instanceof a.Point&&q.series&&q.series.chart&&(q.series.chart.runTrackerClick=!0),r&&r.call(q,t,e,!1),o[t]||(o[t]=[]),o[t].push(e),n&&a.isNumber(n.order)&&(e.order=n.order,o[t].sort((function(a,t){return a.order-t.order}))),function(){a.removeEvent(q,t,e)}},a.removeEvent=function(q,t,e){function n(t,e){var n=q.removeEventListener||a.removeEventListenerPolyfill;n&&n.call(q,t,e,!1)}function o(e){var o,r;q.nodeName&&(t?(o={})[t]=!0:o=e,a.objectEach(o,(function(a,t){if(e[t])for(r=e[t].length;r--;)n(t,e[t][r])})))}var r,h;a.each(["protoEvents","hcEvents"],(function(l){var c=q[l];c&&(t?(r=c[t]||[],e?(-1<(h=a.inArray(e,r))&&(r.splice(h,1),c[t]=r),n(t,e)):(o(c),c[t]=[])):(o(c),q[l]={}))}))},a.fireEvent=function(q,t,n,o){var r,h,l,c,d;n=n||{},e.createEvent&&(q.dispatchEvent||q.fireEvent)?((r=e.createEvent("Events")).initEvent(t,!0,!0),a.extend(r,n),q.dispatchEvent?q.dispatchEvent(r):q.fireEvent(t,r)):a.each(["protoEvents","hcEvents"],(function(e){if(q[e])for(h=q[e][t]||[],l=h.length,n.target||a.extend(n,{preventDefault:function(){n.defaultPrevented=!0},target:q,type:t}),c=0;c<l;c++)(d=h[c])&&!1===d.call(q,n)&&n.preventDefault()})),o&&!n.defaultPrevented&&o.call(q,n)},a.animate=function(q,t,e){var n,o,r,h,l="";a.isObject(e)||(e={duration:(h=arguments)[2],easing:h[3],complete:h[4]}),a.isNumber(e.duration)||(e.duration=400),e.easing="function"==typeof e.easing?e.easing:Math[e.easing]||Math.easeInOutSine,e.curAnim=a.merge(t),a.objectEach(t,(function(h,c){a.stop(q,c),r=new a.Fx(q,e,c),o=null,"d"===c?(r.paths=r.initPath(q,q.d,t.d),r.toD=t.d,n=0,o=1):q.attr?n=q.attr(c):(n=parseFloat(a.getStyle(q,c))||0,"opacity"!==c&&(l="px")),o||(o=h),o&&o.match&&o.match("px")&&(o=o.replace(/px/g,"")),r.run(n,o,l)}))},a.seriesType=function(q,t,e,n,o){var r=a.getOptions(),h=a.seriesTypes;return r.plotOptions[q]=a.merge(r.plotOptions[t],e),h[q]=a.extendClass(h[t]||function(){},n),h[q].prototype.type=q,o&&(h[q].prototype.pointClass=a.extendClass(a.Point,o)),h[q]},a.uniqueKey=function(){var a=Math.random().toString(36).substring(2,9),t=0;return function(){return"highcharts-"+a+"-"+t++}}(),n.jQuery&&(n.jQuery.fn.highcharts=function(){var q=[].slice.call(arguments);if(this[0])return q[0]?(new(a[a.isString(q[0])?q.shift():"Chart"])(this[0],q[0],q[1]),this):t[a.attr(this[0],"data-highcharts-chart")]})}(c),function(a){var t=a.each,e=a.isNumber,n=a.map,q=a.merge,o=a.pInt;a.Color=function(t){if(!(this instanceof a.Color))return new a.Color(t);this.init(t)},a.Color.prototype={parsers:[{regex:/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]?(?:\.[0-9]+)?)\s*\)/,parse:function(a){return[o(a[1]),o(a[2]),o(a[3]),parseFloat(a[4],10)]}},{regex:/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/,parse:function(a){return[o(a[1]),o(a[2]),o(a[3]),1]}}],names:{white:"#ffffff",black:"#000000"},init:function(t){var e,o,r,h;if((this.input=t=this.names[t&&t.toLowerCase?t.toLowerCase():""]||t)&&t.stops)this.stops=n(t.stops,(function(t){return new a.Color(t[1])}));else if(t&&t.charAt&&"#"===t.charAt()&&(e=t.length,t=parseInt(t.substr(1),16),7===e?o=[(16711680&t)>>16,(65280&t)>>8,255&t,1]:4===e&&(o=[(3840&t)>>4|(3840&t)>>8,(240&t)>>4|240&t,(15&t)<<4|15&t,1])),!o)for(r=this.parsers.length;r--&&!o;)(e=(h=this.parsers[r]).regex.exec(t))&&(o=h.parse(e));this.rgba=o||[]},get:function(a){var n,o=this.input,r=this.rgba;return this.stops?((n=q(o)).stops=[].concat(n.stops),t(this.stops,(function(t,e){n.stops[e]=[n.stops[e][0],t.get(a)]}))):n=r&&e(r[0])?"rgb"===a||!a&&1===r[3]?"rgb("+r[0]+","+r[1]+","+r[2]+")":"a"===a?r[3]:"rgba("+r.join(",")+")":o,n},brighten:function(a){var n,r=this.rgba;if(this.stops)t(this.stops,(function(t){t.brighten(a)}));else if(e(a)&&0!==a)for(n=0;3>n;n++)r[n]+=o(255*a),0>r[n]&&(r[n]=0),255<r[n]&&(r[n]=255);return this},setOpacity:function(a){return this.rgba[3]=a,this},tweenTo:function(a,t){var e=this.rgba,n=a.rgba;return n.length&&e&&e.length?t=((a=1!==n[3]||1!==e[3])?"rgba(":"rgb(")+Math.round(n[0]+(e[0]-n[0])*(1-t))+","+Math.round(n[1]+(e[1]-n[1])*(1-t))+","+Math.round(n[2]+(e[2]-n[2])*(1-t))+(a?","+(n[3]+(e[3]-n[3])*(1-t)):"")+")":t=a.input||"none",t}},a.color=function(t){return new a.Color(t)}}(c),function(a){var t,e,n=a.addEvent,q=a.animate,o=a.attr,r=a.charts,h=a.color,l=a.css,c=a.createElement,d=a.defined,f=a.deg2rad,m=a.destroyObjectProperties,x=a.doc,v=a.each,y=a.extend,b=a.erase,k=a.grep,M=a.hasTouch,w=a.inArray,A=a.isArray,S=a.isFirefox,T=a.isMS,P=a.isObject,u=a.isString,C=a.isWebKit,L=a.merge,O=a.noop,p=a.objectEach,D=a.pick,g=a.pInt,I=a.removeEvent,B=a.stop,z=a.svg,E=a.SVG_NS,R=a.symbolSizes,W=a.win;t=a.SVGElement=function(){return this},y(t.prototype,{opacity:1,SVG_NS:E,textProps:"direction fontSize fontWeight fontFamily fontStyle color lineHeight width textAlign textDecoration textOverflow textOutline cursor".split(" "),init:function(a,g){this.element="span"===g?c(g):x.createElementNS(this.SVG_NS,g),this.renderer=a},animate:function(g,b,t){return 0!==(b=a.animObject(D(b,this.renderer.globalAnimation,!0))).duration?(t&&(b.complete=t),q(this,g,b)):(this.attr(g,null,t),b.step&&b.step.call(this)),this},complexColor:function(g,b,t){var e,n,o,r,h,l,c,f,m,x,y,u,k=this.renderer,M=[];a.fireEvent(this.renderer,"complexColor",{args:arguments},(function(){g.radialGradient?n="radialGradient":g.linearGradient&&(n="linearGradient"),n&&(o=g[n],h=k.gradients,c=g.stops,x=t.radialReference,A(o)&&(g[n]=o={x1:o[0],y1:o[1],x2:o[2],y2:o[3],gradientUnits:"userSpaceOnUse"}),"radialGradient"===n&&x&&!d(o.gradientUnits)&&(r=o,o=L(o,k.getRadialAttr(x,r),{gradientUnits:"userSpaceOnUse"})),p(o,(function(a,g){"id"!==g&&M.push(g,a)})),p(c,(function(a){M.push(a)})),M=M.join(","),h[M]?y=h[M].attr("id"):(o.id=y=a.uniqueKey(),h[M]=l=k.createElement(n).attr(o).add(k.defs),l.radAttr=r,l.stops=[],v(c,(function(g){0===g[1].indexOf("rgba")?(e=a.color(g[1]),f=e.get("rgb"),m=e.get("a")):(f=g[1],m=1),g=k.createElement("stop").attr({offset:g[0],"stop-color":f,"stop-opacity":m}).add(l),l.stops.push(g)}))),u="url("+k.url+"#"+y+")",t.setAttribute(b,u),t.gradient=M,g.toString=function(){return u})}))},applyTextOutline:function(g){var t,e,n,p,r,h=this.element;if(-1!==g.indexOf("contrast")&&(g=g.replace(/contrast/g,this.renderer.getContrast(h.style.fill))),g=g.split(" "),e=g[g.length-1],(n=g[0])&&"none"!==n&&a.svg){for(this.fakeTS=!0,g=[].slice.call(h.getElementsByTagName("tspan")),this.ySetter=this.xSetter,n=n.replace(/(^[\d\.]+)(.*?)$/g,(function(a,g,b){return 2*g+b})),r=g.length;r--;)"highcharts-text-outline"===(t=g[r]).getAttribute("class")&&b(g,h.removeChild(t));p=h.firstChild,v(g,(function(a,g){0===g&&(a.setAttribute("x",h.getAttribute("x")),g=h.getAttribute("y"),a.setAttribute("y",g||0),null===g&&h.setAttribute("y",0)),a=a.cloneNode(1),o(a,{class:"highcharts-text-outline",fill:e,stroke:e,"stroke-width":n,"stroke-linejoin":"round"}),h.insertBefore(a,p)}))}},attr:function(a,g,b,t){var e,n,o,r,h=this.element,l=this;return"string"==typeof a&&void 0!==g&&(e=a,(a={})[e]=g),"string"==typeof a?l=(this[a+"Getter"]||this._defaultGetter).call(this,a,h):(p(a,(function(g,b){o=!1,t||B(this,b),this.symbolName&&/^(x|y|width|height|r|start|end|innerR|anchorX|anchorY)$/.test(b)&&(n||(this.symbolAttr(a),n=!0),o=!0),!this.rotation||"x"!==b&&"y"!==b||(this.doTransform=!0),o||((r=this[b+"Setter"]||this._defaultSetter).call(this,g,b,h),this.shadows&&/^(width|height|visibility|x|y|d|transform|cx|cy|r)$/.test(b)&&this.updateShadows(b,g,r))}),this),this.afterSetters()),b&&b.call(this),l},afterSetters:function(){this.doTransform&&(this.updateTransform(),this.doTransform=!1)},updateShadows:function(a,g,b){for(var t=this.shadows,e=t.length;e--;)b.call(t[e],"height"===a?Math.max(g-(t[e].cutHeight||0),0):"d"===a?this.d:g,a,t[e])},addClass:function(a,g){var b=this.attr("class")||"";return-1===b.indexOf(a)&&(g||(a=(b+(b?" ":"")+a).replace("  "," ")),this.attr("class",a)),this},hasClass:function(a){return-1!==w(a,(this.attr("class")||"").split(" "))},removeClass:function(a){return this.attr("class",(this.attr("class")||"").replace(a,""))},symbolAttr:function(a){var g=this;v("x y r start end width height innerR anchorX anchorY".split(" "),(function(b){g[b]=D(a[b],g[b])})),g.attr({d:g.renderer.symbols[g.symbolName](g.x,g.y,g.width,g.height,g)})},clip:function(a){return this.attr("clip-path",a?"url("+this.renderer.url+"#"+a.id+")":"none")},crisp:function(a,g){var b;return g=g||a.strokeWidth||0,b=Math.round(g)%2/2,a.x=Math.floor(a.x||this.x||0)+b,a.y=Math.floor(a.y||this.y||0)+b,a.width=Math.floor((a.width||this.width||0)-2*b),a.height=Math.floor((a.height||this.height||0)-2*b),d(a.strokeWidth)&&(a.strokeWidth=g),a},css:function(a){var t,e,b=this.styles,n={},r=this.element,h="",c=!b,d=["textOutline","textOverflow","width"];return a&&a.color&&(a.fill=a.color),b&&p(a,(function(a,g){a!==b[g]&&(n[g]=a,c=!0)})),c&&(b&&(a=y(b,n)),a&&(null===a.width||"auto"===a.width?delete this.textWidth:"text"===r.nodeName.toLowerCase()&&a.width&&(t=this.textWidth=g(a.width))),this.styles=a,t&&!z&&this.renderer.forExport&&delete a.width,r.namespaceURI===this.SVG_NS?(e=function(a,g){return"-"+g.toLowerCase()},p(a,(function(a,g){-1===w(g,d)&&(h+=g.replace(/([A-Z])/g,e)+":"+a+";")})),h&&o(r,"style",h)):l(r,a),this.added&&("text"===this.element.nodeName&&this.renderer.buildText(this),a&&a.textOutline&&this.applyTextOutline(a.textOutline))),this},strokeWidth:function(){return this["stroke-width"]||0},on:function(a,g){var b=this,t=b.element;return M&&"click"===a?(t.ontouchstart=function(a){b.touchEventFired=Date.now(),a.preventDefault(),g.call(t,a)},t.onclick=function(a){(-1===W.navigator.userAgent.indexOf("Android")||1100<Date.now()-(b.touchEventFired||0))&&g.call(t,a)}):t["on"+a]=g,this},setRadialReference:function(a){var g=this.renderer.gradients[this.element.gradient];return this.element.radialReference=a,g&&g.radAttr&&g.animate(this.renderer.getRadialAttr(a,g.radAttr)),this},translate:function(a,g){return this.attr({translateX:a,translateY:g})},invert:function(a){return this.inverted=a,this.updateTransform(),this},updateTransform:function(){var a=this.translateX||0,g=this.translateY||0,b=this.scaleX,t=this.scaleY,e=this.inverted,n=this.rotation,o=this.matrix,p=this.element;e&&(a+=this.width,g+=this.height),a=["translate("+a+","+g+")"],d(o)&&a.push("matrix("+o.join(",")+")"),e?a.push("rotate(90) scale(-1,1)"):n&&a.push("rotate("+n+" "+D(this.rotationOriginX,p.getAttribute("x"),0)+" "+D(this.rotationOriginY,p.getAttribute("y")||0)+")"),(d(b)||d(t))&&a.push("scale("+D(b,1)+" "+D(t,1)+")"),a.length&&p.setAttribute("transform",a.join(" "))},toFront:function(){var a=this.element;return a.parentNode.appendChild(a),this},align:function(a,g,t){var e,n,o,p,r,h,l={};return o=(n=this.renderer).alignedObjects,a?(this.alignOptions=a,this.alignByTranslate=g,(!t||u(t))&&(this.alignTo=e=t||"renderer",b(o,this),o.push(this),t=null)):(a=this.alignOptions,g=this.alignByTranslate,e=this.alignTo),t=D(t,n[e],n),e=a.align,n=a.verticalAlign,o=(t.x||0)+(a.x||0),p=(t.y||0)+(a.y||0),"right"===e?r=1:"center"===e&&(r=2),r&&(o+=(t.width-(a.width||0))/r),l[g?"translateX":"x"]=Math.round(o),"bottom"===n?h=1:"middle"===n&&(h=2),h&&(p+=(t.height-(a.height||0))/h),l[g?"translateY":"y"]=Math.round(p),this[this.placed?"animate":"attr"](l),this.placed=!0,this.alignAttr=l,this},getBBox:function(a,g){var b,t,p,e,n,o=this.renderer,r=this.element,h=this.styles,l=this.textStr,c=o.cache,m=o.cacheKeys,x=r.namespaceURI===this.SVG_NS;if(t=(g=D(g,this.rotation))*f,p=h&&h.fontSize,d(l)&&(-1===(n=l.toString()).indexOf("<")&&(n=n.replace(/[0-9]/g,"0")),n+=["",g||0,p,this.textWidth,h&&h.textOverflow].join()),n&&!a&&(b=c[n]),!b){if(x||o.forExport){try{(e=this.fakeTS&&function(a){v(r.querySelectorAll(".highcharts-text-outline"),(function(g){g.style.display=a}))})&&e("none"),b=r.getBBox?y({},r.getBBox()):{width:r.offsetWidth,height:r.offsetHeight},e&&e("")}catch(t){}(!b||0>b.width)&&(b={width:0,height:0})}else b=this.htmlGetBBox();if(o.isSVG&&(a=b.width,o=b.height,x&&(b.height=o={"11px,17":14,"13px,20":16}[h&&h.fontSize+","+Math.round(o)]||o),g&&(b.width=Math.abs(o*Math.sin(t))+Math.abs(a*Math.cos(t)),b.height=Math.abs(o*Math.cos(t))+Math.abs(a*Math.sin(t)))),n&&0<b.height){for(;250<m.length;)delete c[m.shift()];c[n]||m.push(n),c[n]=b}}return b},show:function(a){return this.attr({visibility:a?"inherit":"visible"})},hide:function(){return this.attr({visibility:"hidden"})},fadeOut:function(a){var g=this;g.animate({opacity:0},{duration:a||150,complete:function(){g.attr({y:-9999})}})},add:function(a){var t,g=this.renderer,b=this.element;return a&&(this.parentGroup=a),this.parentInverted=a&&a.inverted,void 0!==this.textStr&&g.buildText(this),this.added=!0,(!a||a.handleZ||this.zIndex)&&(t=this.zIndexSetter()),t||(a?a.element:g.box).appendChild(b),this.onAdd&&this.onAdd(),this},safeRemoveChild:function(a){var g=a.parentNode;g&&g.removeChild(a)},destroy:function(){var a=this,g=a.element||{},t=a.renderer.isSVG&&"SPAN"===g.nodeName&&a.parentGroup,e=g.ownerSVGElement,n=a.clipPath;if(g.onclick=g.onmouseout=g.onmouseover=g.onmousemove=g.point=null,B(a),n&&e&&(v(e.querySelectorAll("[clip-path],[CLIP-PATH]"),(function(a){var g=a.getAttribute("clip-path"),b=n.element.id;(-1<g.indexOf("(#"+b+")")||-1<g.indexOf('("#'+b+'")'))&&a.removeAttribute("clip-path")})),a.clipPath=n.destroy()),a.stops){for(e=0;e<a.stops.length;e++)a.stops[e]=a.stops[e].destroy();a.stops=null}for(a.safeRemoveChild(g),a.destroyShadows();t&&t.div&&0===t.div.childNodes.length;)g=t.parentGroup,a.safeRemoveChild(t.div),delete t.div,t=g;return a.alignTo&&b(a.renderer.alignedObjects,a),p(a,(function(g,b){delete a[b]})),null},shadow:function(a,g,b){var t,e,p,n,r,h,l=[],c=this.element;if(a){if(!this.shadows){for(n=D(a.width,3),r=(a.opacity||.15)/n,h=this.parentInverted?"(-1,-1)":"("+D(a.offsetX,1)+", "+D(a.offsetY,1)+")",t=1;t<=n;t++)e=c.cloneNode(0),p=2*n+1-2*t,o(e,{stroke:a.color||"#000000","stroke-opacity":r*t,"stroke-width":p,transform:"translate"+h,fill:"none"}),e.setAttribute("class",(e.getAttribute("class")||"")+" highcharts-shadow"),b&&(o(e,"height",Math.max(o(e,"height")-p,0)),e.cutHeight=p),g?g.element.appendChild(e):c.parentNode&&c.parentNode.insertBefore(e,c),l.push(e);this.shadows=l}}else this.destroyShadows();return this},destroyShadows:function(){v(this.shadows||[],(function(a){this.safeRemoveChild(a)}),this),this.shadows=void 0},xGetter:function(a){return"circle"===this.element.nodeName&&("x"===a?a="cx":"y"===a&&(a="cy")),this._defaultGetter(a)},_defaultGetter:function(a){return a=D(this[a+"Value"],this[a],this.element?this.element.getAttribute(a):null,0),/^[\-0-9\.]+$/.test(a)&&(a=parseFloat(a)),a},dSetter:function(a,g,b){a&&a.join&&(a=a.join(" ")),/(NaN| {2}|^$)/.test(a)&&(a="M 0 0"),this[g]!==a&&(b.setAttribute(g,a),this[g]=a)},dashstyleSetter:function(a){var b,t=this["stroke-width"];if("inherit"===t&&(t=1),a=a&&a.toLowerCase()){for(b=(a=a.replace("shortdashdotdot","3,1,1,1,1,1,").replace("shortdashdot","3,1,1,1").replace("shortdot","1,1,").replace("shortdash","3,1,").replace("longdash","8,3,").replace(/dot/g,"1,3,").replace("dash","4,3,").replace(/,$/,"").split(",")).length;b--;)a[b]=g(a[b])*t;a=a.join(",").replace(/NaN/g,"none"),this.element.setAttribute("stroke-dasharray",a)}},alignSetter:function(a){this.alignValue=a,this.element.setAttribute("text-anchor",{left:"start",center:"middle",right:"end"}[a])},opacitySetter:function(a,g,b){this[g]=a,b.setAttribute(g,a)},titleSetter:function(a){var g=this.element.getElementsByTagName("title")[0];g||(g=x.createElementNS(this.SVG_NS,"title"),this.element.appendChild(g)),g.firstChild&&g.removeChild(g.firstChild),g.appendChild(x.createTextNode(String(D(a),"").replace(/<[^>]*>/g,"").replace(/&lt;/g,"<").replace(/&gt;/g,">")))},textSetter:function(a){a!==this.textStr&&(delete this.bBox,this.textStr=a,this.added&&this.renderer.buildText(this))},fillSetter:function(a,g,b){"string"==typeof a?b.setAttribute(g,a):a&&this.complexColor(a,g,b)},visibilitySetter:function(a,g,b){"inherit"===a?b.removeAttribute(g):this[g]!==a&&b.setAttribute(g,a),this[g]=a},zIndexSetter:function(a,b){var t,e,n,o,r=this.renderer,h=this.parentGroup,l=(h||r).element||r.box,p=this.element;r=l===r.box;if(t=this.added,d(a)?(p.setAttribute("data-z-index",a),a=+a,this[b]===a&&(t=!1)):d(this[b])&&p.removeAttribute("data-z-index"),this[b]=a,t){for((a=this.zIndex)&&h&&(h.handleZ=!0),o=(b=l.childNodes).length-1;0<=o&&!e;o--)t=(h=b[o]).getAttribute("data-z-index"),n=!d(t),h!==p&&(0>a&&n&&!r&&!o?(l.insertBefore(p,b[o]),e=!0):(g(t)<=a||n&&(!d(a)||0<=a))&&(l.insertBefore(p,b[o+1]||null),e=!0));e||(l.insertBefore(p,b[r?3:0]||null),e=!0)}return e},_defaultSetter:function(a,g,b){b.setAttribute(g,a)}}),t.prototype.yGetter=t.prototype.xGetter,t.prototype.translateXSetter=t.prototype.translateYSetter=t.prototype.rotationSetter=t.prototype.verticalAlignSetter=t.prototype.rotationOriginXSetter=t.prototype.rotationOriginYSetter=t.prototype.scaleXSetter=t.prototype.scaleYSetter=t.prototype.matrixSetter=function(a,g){this[g]=a,this.doTransform=!0},t.prototype["stroke-widthSetter"]=t.prototype.strokeSetter=function(a,g,b){this[g]=a,this.stroke&&this["stroke-width"]?(t.prototype.fillSetter.call(this,this.stroke,"stroke",b),b.setAttribute("stroke-width",this["stroke-width"]),this.hasStroke=!0):"stroke-width"===g&&0===a&&this.hasStroke&&(b.removeAttribute("stroke"),this.hasStroke=!1)},e=a.SVGRenderer=function(){this.init.apply(this,arguments)},y(e.prototype,{Element:t,SVG_NS:E,init:function(a,g,b,t,e,r){var p,h;p=(t=this.createElement("svg").attr({version:"1.1",class:"highcharts-root"}).css(this.getStyle(t))).element,a.appendChild(p),o(a,"dir","ltr"),-1===a.innerHTML.indexOf("xmlns")&&o(p,"xmlns",this.SVG_NS),this.isSVG=!0,this.box=p,this.boxWrapper=t,this.alignedObjects=[],this.url=(S||C)&&x.getElementsByTagName("base").length?W.location.href.split("#")[0].replace(/<[^>]*>/g,"").replace(/([\('\)])/g,"\\$1").replace(/ /g,"%20"):"",this.createElement("desc").add().element.appendChild(x.createTextNode("Created with Highstock 6.2.0")),this.defs=this.createElement("defs").add(),this.allowHTML=r,this.forExport=e,this.gradients={},this.cache={},this.cacheKeys=[],this.imgCount=0,this.setSize(g,b,!1),S&&a.getBoundingClientRect&&((g=function(){l(a,{left:0,top:0}),h=a.getBoundingClientRect(),l(a,{left:Math.ceil(h.left)-h.left+"px",top:Math.ceil(h.top)-h.top+"px"})})(),this.unSubPixelFix=n(W,"resize",g))},getStyle:function(a){return this.style=y({fontFamily:'"Lucida Grande", "Lucida Sans Unicode", Arial, Helvetica, sans-serif',fontSize:"12px"},a)},setStyle:function(a){this.boxWrapper.css(this.getStyle(a))},isHidden:function(){return!this.boxWrapper.getBBox().width},destroy:function(){var a=this.defs;return this.box=null,this.boxWrapper=this.boxWrapper.destroy(),m(this.gradients||{}),this.gradients=null,a&&(this.defs=a.destroy()),this.unSubPixelFix&&this.unSubPixelFix(),this.alignedObjects=null},createElement:function(a){var g=new this.Element;return g.init(this,a),g},draw:O,getRadialAttr:function(a,g){return{cx:a[0]-a[2]/2+g.cx*a[2],cy:a[1]-a[2]/2+g.cy*a[2],r:g.r*a[2]}},truncate:function(a,g,b,t,e,n,p){var o,r,h,l=this,c=a.rotation,d=t?1:0,f=(b||t).length,m=f,v=[],y=function(a){g.firstChild&&g.removeChild(g.firstChild),a&&g.appendChild(x.createTextNode(a))},k=function(n,o){if(void 0===v[o=o||n])if(g.getSubStringLength)try{v[o]=e+g.getSubStringLength(0,t?o+1:o)}catch(t){}else l.getSpanWidth&&(y(p(b||t,n)),v[o]=e+l.getSpanWidth(a,g));return v[o]};if(a.rotation=0,r=k(g.textContent.length),h=e+r>n){for(;d<=f;)m=Math.ceil((d+f)/2),t&&(o=p(t,m)),r=k(m,o&&o.length-1),d===f?d=f+1:r>n?f=m-1:d=m;0===f?y(""):b&&f===b.length-1||y(o||p(b||t,m))}return t&&t.splice(0,m),a.actualWidth=r,a.rotation=c,h},escapes:{"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"},buildText:function(a){var t,e,n,b=a.element,r=this,h=r.forExport,c=D(a.textStr,"").toString(),d=-1!==c.indexOf("<"),f=b.childNodes,m=o(b,"x"),y=a.styles,M=a.textWidth,u=y&&y.lineHeight,A=y&&y.textOutline,S=y&&"ellipsis"===y.textOverflow,T=y&&"nowrap"===y.whiteSpace,P=y&&y.fontSize,C=f.length,L=(y=M&&!a.added&&this.box,function(a){var t;return t=/(px|em)$/.test(a&&a.style.fontSize)?a.style.fontSize:P||r.style.fontSize||12,u?g(u):r.fontMetrics(t,a.getAttribute("style")?a:b).h}),O=function(a,g){return p(r.escapes,(function(b,t){g&&-1!==w(b,g)||(a=a.toString().replace(new RegExp(b,"g"),t))})),a},I=function(a,g){var b;if(b=a.indexOf("<"),-1!==(b=(a=a.substring(b,a.indexOf(">")-b)).indexOf(g+"="))&&(b=b+g.length+1,'"'===(g=a.charAt(b))||"'"===g))return(a=a.substring(b+1)).substring(0,a.indexOf(g))};if((e=[c,S,T,u,A,P,M].join())!==a.textCache){for(a.textCache=e;C--;)b.removeChild(f[C]);d||A||S||M||-1!==c.indexOf(" ")?(y&&y.appendChild(b),c=d?c.replace(/<(b|strong)>/g,'<span style="font-weight:bold">').replace(/<(i|em)>/g,'<span style="font-style:italic">').replace(/<a/g,"<span").replace(/<\/(b|strong|i|em|a)>/g,"</span>").split(/<br.*?>/g):[c],c=k(c,(function(a){return""!==a})),v(c,(function(g,e){var p,c=0,d=0;g=g.replace(/^\s+|\s+$/g,"").replace(/<span/g,"|||<span").replace(/<\/span>/g,"</span>|||"),p=g.split("|||"),v(p,(function(g){if(""!==g||1===p.length){var f,v,y={},k=x.createElementNS(r.SVG_NS,"tspan");if((f=I(g,"class"))&&o(k,"class",f),(f=I(g,"style"))&&(f=f.replace(/(;| |^)color([ :])/,"$1fill$2"),o(k,"style",f)),(v=I(g,"href"))&&!h&&(o(k,"onclick",'location.href="'+v+'"'),o(k,"class","highcharts-anchor"),l(k,{cursor:"pointer"}))," "!==(g=O(g.replace(/<[a-zA-Z\/](.|\n)*?>/g,"")||" "))){if(k.appendChild(x.createTextNode(g)),c?y.dx=0:e&&null!==m&&(y.x=m),o(k,y),b.appendChild(k),!c&&n&&(!z&&h&&l(k,{display:"block"}),o(k,"dy",L(k))),M){var w=g.replace(/([^\^])-/g,"$1- ").split(" ");y=!T&&(1<p.length||e||1<w.length);v=0;var u=L(k);if(S)t=r.truncate(a,k,g,void 0,0,Math.max(0,M-parseInt(P||12,10)),(function(a,g){return a.substring(0,g)+"…"}));else if(y)for(;w.length;)w.length&&!T&&0<v&&(k=x.createElementNS(E,"tspan"),o(k,{dy:u,x:m}),f&&o(k,"style",f),k.appendChild(x.createTextNode(w.join(" ").replace(/- /g,"-"))),b.appendChild(k)),r.truncate(a,k,null,w,0===v?d:0,M,(function(a,g){return w.slice(0,g).join(" ").replace(/- /g,"-")})),d=a.actualWidth,v++}c++}}})),n=n||b.childNodes.length})),S&&t&&a.attr("title",O(a.textStr,["&lt;","&gt;"])),y&&y.removeChild(b),A&&a.applyTextOutline&&a.applyTextOutline(A)):b.appendChild(x.createTextNode(O(c)))}},getContrast:function(a){return(a=h(a).rgba)[0]*=1,a[1]*=1.2,a[2]*=.5,459<a[0]+a[1]+a[2]?"#000000":"#FFFFFF"},button:function(a,g,b,t,e,o,p,r,h){var l,c,d,f,m=this.label(a,g,b,h,null,null,null,null,"button"),x=0;return m.attr(L({padding:8,r:2},e)),e=L({fill:"#f7f7f7",stroke:"#cccccc","stroke-width":1,style:{color:"#333333",cursor:"pointer",fontWeight:"normal"}},e),l=e.style,delete e.style,o=L(e,{fill:"#e6e6e6"},o),c=o.style,delete o.style,p=L(e,{fill:"#e6ebf5",style:{color:"#000000",fontWeight:"bold"}},p),d=p.style,delete p.style,r=L(e,{style:{color:"#cccccc"}},r),f=r.style,delete r.style,n(m.element,T?"mouseover":"mouseenter",(function(){3!==x&&m.setState(1)})),n(m.element,T?"mouseout":"mouseleave",(function(){3!==x&&m.setState(x)})),m.setState=function(a){1!==a&&(m.state=x=a),m.removeClass(/highcharts-button-(normal|hover|pressed|disabled)/).addClass("highcharts-button-"+["normal","hover","pressed","disabled"][a||0]),m.attr([e,o,p,r][a||0]).css([l,c,d,f][a||0])},m.attr(e).css(y({cursor:"default"},l)),m.on("click",(function(a){3!==x&&t.call(m,a)}))},crispLine:function(a,g){return a[1]===a[4]&&(a[1]=a[4]=Math.round(a[1])-g%2/2),a[2]===a[5]&&(a[2]=a[5]=Math.round(a[2])+g%2/2),a},path:function(a){var g={fill:"none"};return A(a)?g.d=a:P(a)&&y(g,a),this.createElement("path").attr(g)},circle:function(a,g,b){return a=P(a)?a:{x:a,y:g,r:b},(g=this.createElement("circle")).xSetter=g.ySetter=function(a,g,b){b.setAttribute("c"+g,a)},g.attr(a)},arc:function(a,g,b,t,e,n){return P(a)?(g=(t=a).y,b=t.r,a=t.x):t={innerR:t,start:e,end:n},(a=this.symbol("arc",a,g,b,b,t)).r=b,a},rect:function(a,g,b,t,e,n){e=P(a)?a.r:e;var p=this.createElement("rect");return a=P(a)?a:void 0===a?{}:{x:a,y:g,width:Math.max(b,0),height:Math.max(t,0)},void 0!==n&&(a.strokeWidth=n,a=p.crisp(a)),a.fill="none",e&&(a.r=e),p.rSetter=function(a,g,b){o(b,{rx:a,ry:a})},p.attr(a)},setSize:function(a,g,b){var t=this.alignedObjects,e=t.length;for(this.width=a,this.height=g,this.boxWrapper.animate({width:a,height:g},{step:function(){this.attr({viewBox:"0 0 "+this.attr("width")+" "+this.attr("height")})},duration:D(b,!0)?void 0:0});e--;)t[e].align()},g:function(a){var g=this.createElement("g");return a?g.attr({class:"highcharts-"+a}):g},image:function(a,g,b,t,e,o){var r,p={preserveAspectRatio:"none"},h=function(a,g){a.setAttributeNS?a.setAttributeNS("http://www.w3.org/1999/xlink","href",g):a.setAttribute("hc-svg-href",g)},l=function(g){h(r.element,a),o.call(r,g)};return 1<arguments.length&&y(p,{x:g,y:b,width:t,height:e}),r=this.createElement("image").attr(p),o?(h(r.element,"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="),p=new W.Image,n(p,"load",l),p.src=a,p.complete&&l({})):h(r.element,a),r},symbol:function(a,g,b,t,e,n){var o,h,f,p=this,m=/^url\((.*?)\)$/,k=m.test(a),M=!k&&(this.symbols[a]?a:"circle"),w=M&&this.symbols[M],A=d(g)&&w&&w.call(this.symbols,Math.round(g),Math.round(b),t,e,n);return w?((o=this.path(A)).attr("fill","none"),y(o,{symbolName:M,x:g,y:b,width:t,height:e}),n&&y(o,n)):k&&(h=a.match(m)[1],(o=this.image(h)).imgwidth=D(R[h]&&R[h].width,n&&n.width),o.imgheight=D(R[h]&&R[h].height,n&&n.height),f=function(){o.attr({width:o.width,height:o.height})},v(["width","height"],(function(a){o[a+"Setter"]=function(a,g){var b={},t=this["img"+g],e="width"===g?"translateX":"translateY";this[g]=a,d(t)&&(this.element&&this.element.setAttribute(g,t),this.alignByTranslate||(b[e]=((this[g]||0)-t)/2,this.attr(b)))}})),d(g)&&o.attr({x:g,y:b}),o.isImg=!0,d(o.imgwidth)&&d(o.imgheight)?f():(o.attr({width:0,height:0}),c("img",{onload:function(){var a=r[p.chartIndex];0===this.width&&(l(this,{position:"absolute",top:"-999em"}),x.body.appendChild(this)),R[h]={width:this.width,height:this.height},o.imgwidth=this.width,o.imgheight=this.height,o.element&&f(),this.parentNode&&this.parentNode.removeChild(this),p.imgCount--,!p.imgCount&&a&&a.onload&&a.onload()},src:h}),this.imgCount++)),o},symbols:{circle:function(a,g,b,t){return this.arc(a+b/2,g+t/2,b/2,t/2,{start:0,end:2*Math.PI,open:!1})},square:function(a,g,b,t){return["M",a,g,"L",a+b,g,a+b,g+t,a,g+t,"Z"]},triangle:function(a,g,b,t){return["M",a+b/2,g,"L",a+b,g+t,a,g+t,"Z"]},"triangle-down":function(a,g,b,t){return["M",a,g,"L",a+b,g,a+b/2,g+t,"Z"]},diamond:function(a,g,b,t){return["M",a+b/2,g,"L",a+b,g+t/2,a+b/2,g+t,a,g+t/2,"Z"]},arc:function(a,g,b,t,e){var n=e.start,p=e.r||b,o=e.r||t||b,r=e.end-.001;b=e.innerR,t=D(e.open,.001>Math.abs(e.end-e.start-2*Math.PI));var h=Math.cos(n),l=Math.sin(n),c=Math.cos(r);r=Math.sin(r);return p=["M",a+p*h,g+o*l,"A",p,o,0,e=.001>e.end-n-Math.PI?0:1,1,a+p*c,g+o*r],d(b)&&p.push(t?"M":"L",a+b*c,g+b*r,"A",b,b,0,e,0,a+b*h,g+b*l),p.push(t?"":"Z"),p},callout:function(a,g,b,t,e){var n,o=Math.min(e&&e.r||0,b,t),p=o+6,r=e&&e.anchorX;return e=e&&e.anchorY,n=["M",a+o,g,"L",a+b-o,g,"C",a+b,g,a+b,g,a+b,g+o,"L",a+b,g+t-o,"C",a+b,g+t,a+b,g+t,a+b-o,g+t,"L",a+o,g+t,"C",a,g+t,a,g+t,a,g+t-o,"L",a,g+o,"C",a,g,a,g,a+o,g],r&&r>b?e>g+p&&e<g+t-p?n.splice(13,3,"L",a+b,e-6,a+b+6,e,a+b,e+6,a+b,g+t-o):n.splice(13,3,"L",a+b,t/2,r,e,a+b,t/2,a+b,g+t-o):r&&0>r?e>g+p&&e<g+t-p?n.splice(33,3,"L",a,e+6,a-6,e,a,e-6,a,g+o):n.splice(33,3,"L",a,t/2,r,e,a,t/2,a,g+o):e&&e>t&&r>a+p&&r<a+b-p?n.splice(23,3,"L",r+6,g+t,r,g+t+6,r-6,g+t,a+o,g+t):e&&0>e&&r>a+p&&r<a+b-p&&n.splice(3,3,"L",r-6,g,r,g-6,r+6,g,b-o,g),n}},clipRect:function(g,b,t,e){var n=a.uniqueKey(),p=this.createElement("clipPath").attr({id:n}).add(this.defs);return(g=this.rect(g,b,t,e,0).add(p)).id=n,g.clipPath=p,g.count=0,g},text:function(a,g,b,t){var e={};return!t||!this.allowHTML&&this.forExport?(e.x=Math.round(g||0),b&&(e.y=Math.round(b)),d(a)&&(e.text=a),a=this.createElement("text").attr(e),t||(a.xSetter=function(a,g,b){var t,p,e=b.getElementsByTagName("tspan"),n=b.getAttribute(g);for(p=0;p<e.length;p++)(t=e[p]).getAttribute(g)===n&&t.setAttribute(g,a);b.setAttribute(g,a)}),a):this.html(a,g,b)},fontMetrics:function(a,b){return a=a||b&&b.style&&b.style.fontSize||this.style&&this.style.fontSize,{h:b=24>(a=/px/.test(a)?g(a):/em/.test(a)?parseFloat(a)*(b?this.fontMetrics(null,b.parentNode).f:16):12)?a+3:Math.round(1.2*a),b:Math.round(.8*b),f:a}},rotCorr:function(a,g,b){var t=a;return g&&b&&(t=Math.max(t*Math.cos(g*f),4)),{x:-a/3*Math.sin(g*f),y:t}},label:function(g,b,e,n,p,o,r,h,l){var c,f,m,x,k,M,w,A,S,T,q,P,C,O=this,D=O.g("button"!==l&&"label"),B=D.text=O.text("",0,0,r).attr({zIndex:1}),z=0,u=3,E=0,R={},W=/^url\((.*?)\)$/.test(n),N=W;l&&D.addClass("highcharts-"+l),N=W,T=function(){return(A||0)%2/2},q=function(){var a=B.element.style,g={};f=(void 0===m||void 0===x||w)&&d(B.textStr)&&B.getBBox(),D.width=(m||f.width||0)+2*u+E,D.height=(x||f.height||0)+2*u,S=u+O.fontMetrics(a&&a.fontSize,B).b,N&&(c||(D.box=c=O.symbols[n]||W?O.symbol(n):O.rect(),c.addClass(("button"===l?"":"highcharts-label-box")+(l?" highcharts-"+l+"-box":"")),c.add(D),a=T(),g.x=a,g.y=(h?-S:0)+a),g.width=Math.round(D.width),g.height=Math.round(D.height),c.attr(y(g,R)),R={})},P=function(){var g,a=E+u;g=h?0:S,d(m)&&f&&("center"===w||"right"===w)&&(a+={center:.5,right:1}[w]*(m-f.width)),a===B.x&&g===B.y||(B.attr("x",a),B.hasBoxWidthChanged&&(f=B.getBBox(!0),q()),void 0!==g&&B.attr("y",g)),B.x=a,B.y=g},C=function(a,g){c?c.attr(a,g):R[a]=g},D.onAdd=function(){B.add(D),D.attr({text:g||0===g?g:"",x:b,y:e}),c&&d(p)&&D.attr({anchorX:p,anchorY:o})},D.widthSetter=function(g){m=a.isNumber(g)?g:null},D.heightSetter=function(a){x=a},D["text-alignSetter"]=function(a){w=a},D.paddingSetter=function(a){d(a)&&a!==u&&(u=D.padding=a,P())},D.paddingLeftSetter=function(a){d(a)&&a!==E&&(E=a,P())},D.alignSetter=function(a){(a={left:0,center:.5,right:1}[a])!==z&&(z=a,f&&D.attr({x:k}))},D.textSetter=function(a){void 0!==a&&B.textSetter(a),q(),P()},D["stroke-widthSetter"]=function(a,g){a&&(N=!0),A=this["stroke-width"]=a,C(g,a)},D.strokeSetter=D.fillSetter=D.rSetter=function(a,g){"r"!==g&&("fill"===g&&a&&(N=!0),D[g]=a),C(g,a)},D.anchorXSetter=function(a,g){p=D.anchorX=a,C(g,Math.round(a)-T()-k)},D.anchorYSetter=function(a,g){o=D.anchorY=a,C(g,a-M)},D.xSetter=function(a){D.x=a,z&&(a-=z*((m||f.width)+2*u),D["forceAnimate:x"]=!0),k=Math.round(a),D.attr("translateX",k)},D.ySetter=function(a){M=D.y=Math.round(a),D.attr("translateY",M)};var X=D.css;return y(D,{css:function(a){if(a){var g={};a=L(a),v(D.textProps,(function(b){void 0!==a[b]&&(g[b]=a[b],delete a[b])})),B.css(g),"width"in g&&q()}return X.call(D,a)},getBBox:function(){return{width:f.width+2*u,height:f.height+2*u,x:f.x-u,y:f.y-u}},shadow:function(a){return a&&(q(),c&&c.shadow(a)),D},destroy:function(){I(D.element,"mouseenter"),I(D.element,"mouseleave"),B&&(B=B.destroy()),c&&(c=c.destroy()),t.prototype.destroy.call(D),D=O=q=P=C=null}})}}),a.Renderer=e}(c),function(a){var t=a.attr,e=a.createElement,n=a.css,q=a.defined,o=a.each,r=a.extend,h=a.isFirefox,l=a.isMS,c=a.isWebKit,d=a.pick,f=a.pInt,m=a.SVGRenderer,x=a.win,v=a.wrap;r(a.SVGElement.prototype,{htmlCss:function(a){var b="SPAN"===this.element.tagName&&a&&"width"in a,t=d(b&&a.width,void 0);return b&&(delete a.width,this.textWidth=t,this.htmlUpdateTransform()),a&&"ellipsis"===a.textOverflow&&(a.whiteSpace="nowrap",a.overflow="hidden"),this.styles=r(this.styles,a),n(this.element,a),this},htmlGetBBox:function(){var a=this.element;return{x:a.offsetLeft,y:a.offsetTop,width:a.offsetWidth,height:a.offsetHeight}},htmlUpdateTransform:function(){if(this.added){var a=this.renderer,b=this.element,t=this.translateX||0,e=this.translateY||0,r=this.x||0,h=this.y||0,l=this.textAlign||"left",c={left:0,center:.5,right:1}[l],u=(m=this.styles)&&m.whiteSpace;if(n(b,{marginLeft:t,marginTop:e}),this.shadows&&o(this.shadows,(function(a){n(a,{marginLeft:t+1,marginTop:e+1})})),this.inverted&&o(b.childNodes,(function(t){a.invertChild(t,b)})),"SPAN"===b.tagName){var d,m=this.rotation,x=this.textWidth&&f(this.textWidth),v=[m,l,b.innerHTML,this.textWidth,this.textAlign].join();(d=x!==this.oldTextWidth)&&!(d=x>this.oldTextWidth)&&((d=this.textPxLength)||(n(b,{width:"",whiteSpace:u||"nowrap"}),d=b.offsetWidth),d=d>x),d&&/[ \-]/.test(b.textContent||b.innerText)?(n(b,{width:x+"px",display:"block",whiteSpace:u||"normal"}),this.oldTextWidth=x,this.hasBoxWidthChanged=!0):this.hasBoxWidthChanged=!1,v!==this.cTT&&(u=a.fontMetrics(b.style.fontSize).b,!q(m)||m===(this.oldRotation||0)&&l===this.oldAlign||this.setSpanRotation(m,c,u),this.getSpanCorrection(!q(m)&&this.textPxLength||b.offsetWidth,u,c,m,l)),n(b,{left:r+(this.xCorr||0)+"px",top:h+(this.yCorr||0)+"px"}),this.cTT=v,this.oldRotation=m,this.oldAlign=l}}else this.alignOnAdd=!0},setSpanRotation:function(a,b,t){var e={},o=this.renderer.getTransformKey();e[o]=e.transform="rotate("+a+"deg)",e[o+(h?"Origin":"-origin")]=e.transformOrigin=100*b+"% "+t+"px",n(this.element,e)},getSpanCorrection:function(a,b,t){this.xCorr=-a*t,this.yCorr=-b}}),r(m.prototype,{getTransformKey:function(){return l&&!/Edge/.test(x.navigator.userAgent)?"-ms-transform":c?"-webkit-transform":h?"MozTransform":x.opera?"-o-transform":""},html:function(a,b,n){var h=this.createElement("span"),l=h.element,c=h.renderer,f=c.isSVG,m=function(a,b){o(["opacity","visibility"],(function(t){v(a,t+"Setter",(function(a,t,e,n){a.call(this,t,e,n),b[e]=t}))})),a.addedSetters=!0};return h.textSetter=function(a){a!==l.innerHTML&&delete this.bBox,this.textStr=a,l.innerHTML=d(a,""),h.doTransform=!0},f&&m(h,h.element.style),h.xSetter=h.ySetter=h.alignSetter=h.rotationSetter=function(a,b){"align"===b&&(b="textAlign"),h[b]=a,h.doTransform=!0},h.afterSetters=function(){this.doTransform&&(this.htmlUpdateTransform(),this.doTransform=!1)},h.attr({text:a,x:Math.round(b),y:Math.round(n)}).css({fontFamily:this.style.fontFamily,fontSize:this.style.fontSize,position:"absolute"}),l.style.whiteSpace="nowrap",h.css=h.htmlCss,f&&(h.add=function(a){var b,n=c.box.parentNode,d=[];if(this.parentGroup=a){if(!(b=a.div)){for(;a;)d.push(a),a=a.parentGroup;o(d.reverse(),(function(a){function o(g,b){a[b]=g,"translateX"===b?l.left=g+"px":l.top=g+"px",a.doTransform=!0}var l,g=t(a.element,"class");g&&(g={className:g}),b=a.div=a.div||e("div",g,{position:"absolute",left:(a.translateX||0)+"px",top:(a.translateY||0)+"px",display:a.display,opacity:a.opacity,pointerEvents:a.styles&&a.styles.pointerEvents},b||n),l=b.style,r(a,{classSetter:function(a){return function(g){this.element.setAttribute("class",g),a.className=g}}(b),on:function(){return d[0].div&&h.on.apply({element:d[0].div},arguments),a},translateXSetter:o,translateYSetter:o}),a.addedSetters||m(a,l)}))}}else b=n;return b.appendChild(l),h.added=!0,h.alignOnAdd&&h.htmlUpdateTransform(),h}),h}})}(c),function(a){var t=a.defined,e=a.each,n=a.extend,q=a.merge,o=a.pick,r=a.timeUnits,h=a.win;a.Time=function(a){this.update(a,!1)},a.Time.prototype={defaultOptions:{},update:function(a){var t=o(a&&a.useUTC,!0),e=this;this.options=a=q(!0,this.options||{},a),this.Date=a.Date||h.Date,this.timezoneOffset=(this.useUTC=t)&&a.timezoneOffset,this.getTimezoneOffset=this.timezoneOffsetFunction(),(this.variableTimezone=!(t&&!a.getTimezoneOffset&&!a.timezone))||this.timezoneOffset?(this.get=function(a,t){var n=t.getTime(),o=n-e.getTimezoneOffset(t);return t.setTime(o),a=t["getUTC"+a](),t.setTime(n),a},this.set=function(a,t,n){var o;"Milliseconds"===a||"Seconds"===a||"Minutes"===a&&0==t.getTimezoneOffset()%60?t["set"+a](n):(o=e.getTimezoneOffset(t),o=t.getTime()-o,t.setTime(o),t["setUTC"+a](n),a=e.getTimezoneOffset(t),o=t.getTime()+a,t.setTime(o))}):t?(this.get=function(a,t){return t["getUTC"+a]()},this.set=function(a,t,e){return t["setUTC"+a](e)}):(this.get=function(a,t){return t["get"+a]()},this.set=function(a,t,e){return t["set"+a](e)})},makeTime:function(t,e,n,r,h,l){var c,d,b;return this.useUTC?(c=this.Date.UTC.apply(0,arguments),c+=d=this.getTimezoneOffset(c),d!==(b=this.getTimezoneOffset(c))?c+=b-d:d-36e5!==this.getTimezoneOffset(c-36e5)||a.isSafari||(c-=36e5)):c=new this.Date(t,e,o(n,1),o(r,0),o(h,0),o(l,0)).getTime(),c},timezoneOffsetFunction:function(){var t=this,e=this.options,n=h.moment;if(!this.useUTC)return function(a){return 6e4*new Date(a).getTimezoneOffset()};if(e.timezone){if(n)return function(a){return 6e4*-n.tz(a,e.timezone).utcOffset()};a.error(25)}return this.useUTC&&e.getTimezoneOffset?function(a){return 6e4*e.getTimezoneOffset(a)}:function(){return 6e4*(t.timezoneOffset||0)}},dateFormat:function(t,e,n){if(!a.defined(e)||isNaN(e))return a.defaultOptions.lang.invalidDate||"";t=a.pick(t,"%Y-%m-%d %H:%M:%S");var o=this,r=new this.Date(e),h=this.get("Hours",r),l=this.get("Day",r),c=this.get("Date",r),b=this.get("Month",r),d=this.get("FullYear",r),f=a.defaultOptions.lang,m=f.weekdays,x=f.shortWeekdays,v=a.pad;r=a.extend({a:x?x[l]:m[l].substr(0,3),A:m[l],d:v(c),e:v(c,2," "),w:l,b:f.shortMonths[b],B:f.months[b],m:v(b+1),o:b+1,y:d.toString().substr(2,2),Y:d,H:v(h),k:h,I:v(h%12||12),l:h%12||12,M:v(o.get("Minutes",r)),p:12>h?"AM":"PM",P:12>h?"am":"pm",S:v(r.getSeconds()),L:v(Math.floor(e%1e3),3)},a.dateFormats);return a.objectEach(r,(function(a,b){for(;-1!==t.indexOf("%"+b);)t=t.replace("%"+b,"function"==typeof a?a.call(o,e):a)})),n?t.substr(0,1).toUpperCase()+t.substr(1):t},resolveDTLFormat:function(t){return a.isObject(t,!0)?t:{main:(t=a.splat(t))[0],from:t[1],to:t[2]}},getTimeTicks:function(a,h,l,c){var d,b,f=this,m=[],x={};d=new f.Date(h);var v,y=a.unitRange,k=a.count||1;if(c=o(c,1),t(h)){f.set("Milliseconds",d,y>=r.second?0:k*Math.floor(f.get("Milliseconds",d)/k)),y>=r.second&&f.set("Seconds",d,y>=r.minute?0:k*Math.floor(f.get("Seconds",d)/k)),y>=r.minute&&f.set("Minutes",d,y>=r.hour?0:k*Math.floor(f.get("Minutes",d)/k)),y>=r.hour&&f.set("Hours",d,y>=r.day?0:k*Math.floor(f.get("Hours",d)/k)),y>=r.day&&f.set("Date",d,y>=r.month?1:k*Math.floor(f.get("Date",d)/k)),y>=r.month&&(f.set("Month",d,y>=r.year?0:k*Math.floor(f.get("Month",d)/k)),b=f.get("FullYear",d)),y>=r.year&&f.set("FullYear",d,b-b%k),y===r.week&&(b=f.get("Day",d),f.set("Date",d,f.get("Date",d)-b+c+(b<c?-7:0))),b=f.get("FullYear",d),c=f.get("Month",d);var M=f.get("Date",d),w=f.get("Hours",d);for(h=d.getTime(),f.variableTimezone&&(v=l-h>4*r.month||f.getTimezoneOffset(h)!==f.getTimezoneOffset(l)),h=d.getTime(),d=1;h<l;)m.push(h),h=y===r.year?f.makeTime(b+d*k,0):y===r.month?f.makeTime(b,c+d*k):!v||y!==r.day&&y!==r.week?v&&y===r.hour&&1<k?f.makeTime(b,c,M,w+d*k):h+y*k:f.makeTime(b,c,M+d*k*(y===r.day?1:7)),d++;m.push(h),y<=r.hour&&1e4>m.length&&e(m,(function(a){0==a%18e5&&"000000000"===f.dateFormat("%H%M%S%L",a)&&(x[a]="day")}))}return m.info=n(a,{higherRanks:x,totalRange:y*k}),m}}}(c),function(a){var t=a.color,e=a.merge;a.defaultOptions={colors:"#7cb5ec #434348 #90ed7d #f7a35c #8085e9 #f15c80 #e4d354 #2b908f #f45b5b #91e8e1".split(" "),symbols:["circle","diamond","square","triangle","triangle-down"],lang:{loading:"Loading...",months:"January February March April May June July August September October November December".split(" "),shortMonths:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),weekdays:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),decimalPoint:".",numericSymbols:"kMGTPE".split(""),resetZoom:"Reset zoom",resetZoomTitle:"Reset zoom level 1:1",thousandsSep:" "},global:{},time:a.Time.prototype.defaultOptions,chart:{borderRadius:0,defaultSeriesType:"line",ignoreHiddenSeries:!0,spacing:[10,10,15,10],resetZoomButton:{theme:{zIndex:6},position:{align:"right",x:-10,y:10}},width:null,height:null,borderColor:"#335cad",backgroundColor:"#ffffff",plotBorderColor:"#cccccc"},title:{text:"Chart title",align:"center",margin:15,widthAdjust:-44},subtitle:{text:"",align:"center",widthAdjust:-44},plotOptions:{},labels:{style:{position:"absolute",color:"#333333"}},legend:{enabled:!0,align:"center",alignColumns:!0,layout:"horizontal",labelFormatter:function(){return this.name},borderColor:"#999999",borderRadius:0,navigation:{activeColor:"#003399",inactiveColor:"#cccccc"},itemStyle:{color:"#333333",fontSize:"12px",fontWeight:"bold",textOverflow:"ellipsis"},itemHoverStyle:{color:"#000000"},itemHiddenStyle:{color:"#cccccc"},shadow:!1,itemCheckboxStyle:{position:"absolute",width:"13px",height:"13px"},squareSymbol:!0,symbolPadding:5,verticalAlign:"bottom",x:0,y:0,title:{style:{fontWeight:"bold"}}},loading:{labelStyle:{fontWeight:"bold",position:"relative",top:"45%"},style:{position:"absolute",backgroundColor:"#ffffff",opacity:.5,textAlign:"center"}},tooltip:{enabled:!0,animation:a.svg,borderRadius:3,dateTimeLabelFormats:{millisecond:"%A, %b %e, %H:%M:%S.%L",second:"%A, %b %e, %H:%M:%S",minute:"%A, %b %e, %H:%M",hour:"%A, %b %e, %H:%M",day:"%A, %b %e, %Y",week:"Week from %A, %b %e, %Y",month:"%B %Y",year:"%Y"},footerFormat:"",padding:8,snap:a.isTouchDevice?25:10,backgroundColor:t("#f7f7f7").setOpacity(.85).get(),borderWidth:1,headerFormat:'<span style="font-size: 10px">{point.key}</span><br/>',pointFormat:'<span style="color:{point.color}">●</span> {series.name}: <b>{point.y}</b><br/>',shadow:!0,style:{color:"#333333",cursor:"default",fontSize:"12px",pointerEvents:"none",whiteSpace:"nowrap"}},credits:{enabled:!0,href:"https://www.highcharts.com",position:{align:"right",x:-10,verticalAlign:"bottom",y:-5},style:{cursor:"pointer",color:"#999999",fontSize:"9px"},text:"Highcharts.com"}},a.setOptions=function(t){return a.defaultOptions=e(!0,a.defaultOptions,t),a.time.update(e(a.defaultOptions.global,a.defaultOptions.time),!1),a.defaultOptions},a.getOptions=function(){return a.defaultOptions},a.defaultPlotOptions=a.defaultOptions.plotOptions,a.time=new a.Time(e(a.defaultOptions.global,a.defaultOptions.time)),a.dateFormat=function(t,q,e){return a.time.dateFormat(t,q,e)}}(c),function(a){var t=a.correctFloat,e=a.defined,n=a.destroyObjectProperties,q=a.fireEvent,o=a.isNumber,r=a.merge,h=a.pick,l=a.deg2rad;a.Tick=function(a,t,e,n,o){this.axis=a,this.pos=t,this.type=e||"",this.isNewLabel=this.isNew=!0,this.parameters=o||{},this.tickmarkOffset=this.parameters.tickmarkOffset,this.options=this.parameters.options,e||n||this.addLabel()},a.Tick.prototype={addLabel:function(){var n,o,l,u,c=this,d=c.axis,f=d.options,m=d.chart,x=d.categories,v=d.names,y=c.pos,b=h(c.options&&c.options.labels,f.labels),k=y===(A=d.tickPositions)[0],M=y===A[A.length-1],w=(x=this.parameters.category||(x?h(x[y],v[y],y):y),c.label),A=A.info;d.isDatetimeAxis&&A&&(n=(o=m.time.resolveDTLFormat(f.dateTimeLabelFormats[!f.grid&&A.higherRanks[y]||A.unitName])).main),c.isFirst=k,c.isLast=M,c.formatCtx={axis:d,chart:m,isFirst:k,isLast:M,dateTimeLabelFormat:n,tickPositionInfo:A,value:d.isLog?t(d.lin2log(x)):x,pos:y},f=d.labelFormatter.call(c.formatCtx,this.formatCtx),(u=o&&o.list)&&(c.shortenLabel=function(){for(l=0;l<u.length;l++)if(w.attr({text:d.labelFormatter.call(a.extend(c.formatCtx,{dateTimeLabelFormat:u[l]}))}),w.getBBox().width<d.getSlotWidth(c)-2*h(b.padding,5))return;w.attr({text:""})}),e(w)?w&&w.textStr!==f&&(!w.textWidth||b.style&&b.style.width||w.styles.width||w.css({width:null}),w.attr({text:f})):((c.label=w=e(f)&&b.enabled?m.renderer.text(f,0,0,b.useHTML).css(r(b.style)).add(d.labelGroup):null)&&(w.textPxLength=w.getBBox().width),c.rotation=0)},getLabelSize:function(){return this.label?this.label.getBBox()[this.axis.horiz?"height":"width"]:0},handleOverflow:function(a){var t,e=this.axis,n=e.options.labels,o=a.x,r=e.chart.chartWidth,c=e.chart.spacing,d=h(e.labelLeft,Math.min(e.pos,c[3])),b=(c=h(e.labelRight,Math.max(e.isRadial?0:e.pos+e.len,r-c[1])),this.label),f=this.rotation,m={left:0,center:.5,right:1}[e.labelAlign||b.attr("align")],x=b.getBBox().width,v=e.getSlotWidth(this),y=v,k=1,u={};f||"justify"!==h(n.overflow,"justify")?0>f&&o-m*x<d?t=Math.round(o/Math.cos(f*l)-d):0<f&&o+m*x>c&&(t=Math.round((r-o)/Math.cos(f*l))):(r=o+(1-m)*x,o-m*x<d?y=a.x+y*(1-m)-d:r>c&&(y=c-a.x+y*m,k=-1),(y=Math.min(v,y))<v&&"center"===e.labelAlign&&(a.x+=k*(v-y-m*(v-Math.min(x,y)))),(x>y||e.autoRotation&&(b.styles||{}).width)&&(t=y)),t&&(this.shortenLabel?this.shortenLabel():(u.width=t,(n.style||{}).textOverflow||(u.textOverflow="ellipsis"),b.css(u)))},getPosition:function(t,e,n,o){var r=this.axis,h=r.chart,l=o&&h.oldChartHeight||h.chartHeight;return t={x:t?a.correctFloat(r.translate(e+n,null,null,o)+r.transB):r.left+r.offset+(r.opposite?(o&&h.oldChartWidth||h.chartWidth)-r.right-r.left:0),y:t?l-r.bottom+r.offset-(r.opposite?r.height:0):a.correctFloat(l-r.translate(e+n,null,null,o)-r.transB)},q(this,"afterGetPosition",{pos:t}),t},getLabelPosition:function(a,t,n,o,r,h,c,b){var d=this.axis,f=d.transA,m=d.reversed,x=d.staggerLines,v=d.tickRotCorr||{x:0,y:0},y=r.y,k=o||d.reserveSpaceDefault?0:-d.labelOffset*("center"===d.labelAlign?.5:1),u={};return e(y)||(y=0===d.side?n.rotation?-8:-n.getBBox().height:2===d.side?v.y+8:Math.cos(n.rotation*l)*(v.y-n.getBBox(!1,0).height/2)),a=a+r.x+k+v.x-(h&&o?h*f*(m?-1:1):0),t=t+y-(h&&!o?h*f*(m?1:-1):0),x&&(n=c/(b||1)%x,d.opposite&&(n=x-n-1),t+=d.labelOffset/x*n),u.x=a,u.y=Math.round(t),q(this,"afterGetLabelPosition",{pos:u}),u},getMarkPath:function(a,t,e,n,o,r){return r.crispLine(["M",a,t,"L",a+(o?0:-e),t+(o?e:0)],n)},renderGridLine:function(a,t,e){var n=this.axis,o=n.options,r=this.gridLine,l={},b=this.pos,c=this.type,d=h(this.tickmarkOffset,n.tickmarkOffset),f=n.chart.renderer,m=c?c+"Grid":"grid",x=o[m+"LineWidth"],v=o[m+"LineColor"];o=o[m+"LineDashStyle"];r||(l.stroke=v,l["stroke-width"]=x,o&&(l.dashstyle=o),c||(l.zIndex=1),a&&(t=0),this.gridLine=r=f.path().attr(l).addClass("highcharts-"+(c?c+"-":"")+"grid-line").add(n.gridGroup)),r&&(e=n.getPlotLinePath(b+d,r.strokeWidth()*e,a,"pass"))&&r[a||this.isNew?"attr":"animate"]({d:e,opacity:t})},renderMark:function(a,t,e){var n=this.axis,o=n.options,r=n.chart.renderer,l=this.type,b=l?l+"Tick":"tick",c=n.tickSize(b),d=this.mark,f=!d,m=a.x;a=a.y;var x=h(o[b+"Width"],!l&&n.isXAxis?1:0);o=o[b+"Color"];c&&(n.opposite&&(c[0]=-c[0]),f&&(this.mark=d=r.path().addClass("highcharts-"+(l?l+"-":"")+"tick").add(n.axisGroup),d.attr({stroke:o,"stroke-width":x})),d[f?"attr":"animate"]({d:this.getMarkPath(m,a,c[0],d.strokeWidth()*e,n.horiz,r),opacity:t}))},renderLabel:function(a,t,e,n){var r=(f=this.axis).horiz,l=f.options,b=this.label,c=l.labels,d=c.step,f=h(this.tickmarkOffset,f.tickmarkOffset),m=!0,x=a.x;a=a.y,b&&o(x)&&(b.xy=a=this.getLabelPosition(x,a,b,r,c,f,n,d),this.isFirst&&!this.isLast&&!h(l.showFirstLabel,1)||this.isLast&&!this.isFirst&&!h(l.showLastLabel,1)?m=!1:!r||c.step||c.rotation||t||0===e||this.handleOverflow(a),d&&n%d&&(m=!1),m&&o(a.y)?(a.opacity=e,b[this.isNewLabel?"attr":"animate"](a),this.isNewLabel=!1):(b.attr("y",-9999),this.isNewLabel=!0))},render:function(t,e,n){var o=(c=this.axis).horiz,r=this.pos,l=h(this.tickmarkOffset,c.tickmarkOffset),b=(l=(r=this.getPosition(o,r,l,e)).x,r.y),c=o&&l===c.pos+c.len||!o&&b===c.pos?-1:1;n=h(n,1),this.isActive=!0,this.renderGridLine(e,n,c),this.renderMark(r,n,c),this.renderLabel(r,e,n,t),this.isNew=!1,a.fireEvent(this,"afterRender")},destroy:function(){n(this,this.axis)}}}(c);var d=function(a){var t=a.addEvent,e=a.animObject,n=a.arrayMax,q=a.arrayMin,o=a.color,r=a.correctFloat,h=a.defaultOptions,l=a.defined,c=a.deg2rad,d=a.destroyObjectProperties,f=a.each,m=a.extend,x=a.fireEvent,v=a.format,y=a.getMagnitude,b=a.grep,k=a.inArray,M=a.isArray,w=a.isNumber,A=a.isString,S=a.merge,T=a.normalizeTickInterval,P=a.objectEach,u=a.pick,C=a.removeEvent,L=a.splat,O=a.syncTimeout,p=a.Tick,D=function(){this.init.apply(this,arguments)};return a.extend(D.prototype,{defaultOptions:{dateTimeLabelFormats:{millisecond:{main:"%H:%M:%S.%L",range:!1},second:{main:"%H:%M:%S",range:!1},minute:{main:"%H:%M",range:!1},hour:{main:"%H:%M",range:!1},day:{main:"%e. %b"},week:{main:"%e. %b"},month:{main:"%b '%y"},year:{main:"%Y"}},endOnTick:!1,labels:{enabled:!0,indentation:10,x:0,style:{color:"#666666",cursor:"default",fontSize:"11px"}},maxPadding:.01,minorTickLength:2,minorTickPosition:"outside",minPadding:.01,startOfWeek:1,startOnTick:!1,tickLength:10,tickPixelInterval:100,tickmarkPlacement:"between",tickPosition:"outside",title:{align:"middle",style:{color:"#666666"}},type:"linear",minorGridLineColor:"#f2f2f2",minorGridLineWidth:1,minorTickColor:"#999999",lineColor:"#ccd6eb",lineWidth:1,gridLineColor:"#e6e6e6",tickColor:"#ccd6eb"},defaultYAxisOptions:{endOnTick:!0,maxPadding:.05,minPadding:.05,tickPixelInterval:72,showLastLabel:!0,labels:{x:-8},startOnTick:!0,title:{rotation:270,text:"Values"},stackLabels:{allowOverlap:!1,enabled:!1,formatter:function(){return a.numberFormat(this.total,-1)},style:{color:"#000000",fontSize:"11px",fontWeight:"bold",textOutline:"1px contrast"}},gridLineWidth:1,lineWidth:0},defaultLeftAxisOptions:{labels:{x:-15},title:{rotation:270}},defaultRightAxisOptions:{labels:{x:15},title:{rotation:90}},defaultBottomAxisOptions:{labels:{autoRotation:[-45],x:0},title:{rotation:0}},defaultTopAxisOptions:{labels:{autoRotation:[-45],x:0},title:{rotation:0}},init:function(a,b){var g=b.isX,e=this;e.chart=a,e.horiz=a.inverted&&!e.isZAxis?!g:g,e.isXAxis=g,e.coll=e.coll||(g?"xAxis":"yAxis"),x(this,"init",{userOptions:b}),e.opposite=b.opposite,e.side=b.side||(e.horiz?e.opposite?0:2:e.opposite?1:3),e.setOptions(b);var n=this.options,p=n.type;e.labelFormatter=n.labels.formatter||e.defaultLabelFormatter,e.userOptions=b,e.minPixelPadding=0,e.reversed=n.reversed,e.visible=!1!==n.visible,e.zoomEnabled=!1!==n.zoomEnabled,e.hasNames="category"===p||!0===n.categories,e.categories=n.categories||e.hasNames,e.names||(e.names=[],e.names.keys={}),e.plotLinesAndBandsGroups={},e.isLog="logarithmic"===p,e.isDatetimeAxis="datetime"===p,e.positiveValuesOnly=e.isLog&&!e.allowNegativeLog,e.isLinked=l(n.linkedTo),e.ticks={},e.labelEdge=[],e.minorTicks={},e.plotLinesAndBands=[],e.alternateBands={},e.len=0,e.minRange=e.userMinRange=n.minRange||n.maxZoom,e.range=n.range,e.offset=n.offset||0,e.stacks={},e.oldStacks={},e.stacksTouched=0,e.max=null,e.min=null,e.crosshair=u(n.crosshair,L(a.options.tooltip.crosshairs)[g?0:1],!1),b=e.options.events,-1===k(e,a.axes)&&(g?a.axes.splice(a.xAxis.length,0,e):a.axes.push(e),a[e.coll].push(e)),e.series=e.series||[],a.inverted&&!e.isZAxis&&g&&void 0===e.reversed&&(e.reversed=!0),P(b,(function(a,g){t(e,g,a)})),e.lin2log=n.linearToLogConverter||e.lin2log,e.isLog&&(e.val2lin=e.log2lin,e.lin2val=e.lin2log),x(this,"afterInit")},setOptions:function(a){this.options=S(this.defaultOptions,"yAxis"===this.coll&&this.defaultYAxisOptions,[this.defaultTopAxisOptions,this.defaultRightAxisOptions,this.defaultBottomAxisOptions,this.defaultLeftAxisOptions][this.side],S(h[this.coll],a)),x(this,"afterSetOptions",{userOptions:a})},defaultLabelFormatter:function(){var t,g=this.axis,b=this.value,e=g.chart.time,n=g.categories,o=this.dateTimeLabelFormat,r=(p=h.lang).numericSymbols,p=p.numericSymbolMagnitude||1e3,l=r&&r.length,c=g.options.labels.format;g=g.isLog?Math.abs(b):g.tickInterval;if(c)t=v(c,this,e);else if(n)t=b;else if(o)t=e.dateFormat(o,b);else if(l&&1e3<=g)for(;l--&&void 0===t;)g>=(e=Math.pow(p,l+1))&&0==10*b%e&&null!==r[l]&&0!==b&&(t=a.numberFormat(b/e,-1)+r[l]);return void 0===t&&(t=1e4<=Math.abs(b)?a.numberFormat(b,-1):a.numberFormat(b,-1,void 0,"")),t},getSeriesExtremes:function(){var a=this,t=a.chart;x(this,"getSeriesExtremes",null,(function(){a.hasVisibleSeries=!1,a.dataMin=a.dataMax=a.threshold=null,a.softThreshold=!a.isXAxis,a.buildStacks&&a.buildStacks(),f(a.series,(function(g){if(g.visible||!t.options.chart.ignoreHiddenSeries){var e,o=g.options,r=o.threshold;a.hasVisibleSeries=!0,a.positiveValuesOnly&&0>=r&&(r=null),a.isXAxis?(o=g.xData).length&&(g=q(o),e=n(o),w(g)||g instanceof Date||(o=b(o,w),g=q(o),e=n(o)),o.length&&(a.dataMin=Math.min(u(a.dataMin,o[0],g),g),a.dataMax=Math.max(u(a.dataMax,o[0],e),e))):(g.getExtremes(),e=g.dataMax,g=g.dataMin,l(g)&&l(e)&&(a.dataMin=Math.min(u(a.dataMin,g),g),a.dataMax=Math.max(u(a.dataMax,e),e)),l(r)&&(a.threshold=r),(!o.softThreshold||a.positiveValuesOnly)&&(a.softThreshold=!1))}}))})),x(this,"afterGetSeriesExtremes")},translate:function(a,b,t,e,n,p){var g=this.linkedParent||this,o=1,r=0,h=e?g.oldTransA:g.transA;e=e?g.oldMin:g.min;var l=g.minPixelPadding;return n=(g.isOrdinal||g.isBroken||g.isLog&&n)&&g.lin2val,h||(h=g.transA),t&&(o*=-1,r=g.len),g.reversed&&(r-=(o*=-1)*(g.sector||g.len)),b?(a=(a*o+r-l)/h+e,n&&(a=g.lin2val(a))):(n&&(a=g.val2lin(a)),a=w(e)?o*(a-e)*h+r+o*l+(w(p)?h*p:0):void 0),a},toPixels:function(a,b){return this.translate(a,!1,!this.horiz,null,!0)+(b?0:this.pos)},toValue:function(a,b){return this.translate(a-(b?0:this.pos),!0,!this.horiz,null,!0)},getPlotLinePath:function(a,b,t,e,n){var o,r,h,g=this.chart,l=this.left,p=this.top,c=t&&g.oldChartHeight||g.chartHeight,d=t&&g.oldChartWidth||g.chartWidth;o=this.transB;var f=function(a,g,b){return("pass"!==e&&a<g||a>b)&&(e?a=Math.min(Math.max(g,a),b):h=!0),a};return n=u(n,this.translate(a,null,null,t)),n=Math.min(Math.max(-1e5,n),1e5),a=t=Math.round(n+o),o=r=Math.round(c-n-o),w(n)?this.horiz?(o=p,r=c-this.bottom,a=t=f(a,l,l+this.width)):(a=l,t=d-this.right,o=r=f(o,p,p+this.height)):(h=!0,e=!1),h&&!e?null:g.renderer.crispLine(["M",a,o,"L",t,r],b||1)},getLinearTickPositions:function(a,b,t){var g,e=r(Math.floor(b/a)*a);t=r(Math.ceil(t/a)*a);var n,o=[];if(r(e+a)===e&&(n=20),this.single)return[b];for(b=e;b<=t&&(o.push(b),(b=r(b+a,n))!==g);)g=b;return o},getMinorTickInterval:function(){var a=this.options;return!0===a.minorTicks?u(a.minorTickInterval,"auto"):!1===a.minorTicks?null:a.minorTickInterval},getMinorTickPositions:function(){var a=this,b=a.options,t=a.tickPositions,e=a.minorTickInterval,n=[],p=a.pointRangePadding||0,o=a.min-p,r=(p=a.max+p)-o;if(r&&r/e<a.len/3)if(a.isLog)f(this.paddedTicks,(function(g,b,t){b&&n.push.apply(n,a.getLogTickPositions(e,t[b-1],t[b],!0))}));else if(a.isDatetimeAxis&&"auto"===this.getMinorTickInterval())n=n.concat(a.getTimeTicks(a.normalizeTimeTickInterval(e),o,p,b.startOfWeek));else for(b=o+(t[0]-o)%e;b<=p&&b!==n[0];b+=e)n.push(b);return 0!==n.length&&a.trimTicks(n),n},adjustForMinRange:function(){var t,e,p,o,r,h,c,a=this.options,b=this.min,d=this.max;this.isXAxis&&void 0===this.minRange&&!this.isLog&&(l(a.min)||l(a.max)?this.minRange=null:(f(this.series,(function(a){for(h=a.xData,o=a.xIncrement?1:h.length-1;0<o;o--)r=h[o]-h[o-1],(void 0===p||r<p)&&(p=r)})),this.minRange=Math.min(5*p,this.dataMax-this.dataMin))),d-b<this.minRange&&(e=this.dataMax-this.dataMin>=this.minRange,t=[b-(t=((c=this.minRange)-d+b)/2),u(a.min,b-t)],e&&(t[2]=this.isLog?this.log2lin(this.dataMin):this.dataMin),d=[(b=n(t))+c,u(a.max,b+c)],e&&(d[2]=this.isLog?this.log2lin(this.dataMax):this.dataMax),(d=q(d))-b<c&&(t[0]=d-c,t[1]=u(a.min,d-c),b=n(t))),this.min=b,this.max=d},getClosest:function(){var a;return this.categories?a=1:f(this.series,(function(g){var b=g.closestPointRange,t=g.visible||!g.chart.options.chart.ignoreHiddenSeries;!g.noSharedTooltip&&l(b)&&t&&(a=l(a)?Math.min(a,b):b)})),a},nameToX:function(a){var p,g=M(this.categories),b=g?this.categories:this.names,t=a.options.x;return a.series.requireSorting=!1,l(t)||(t=!1===this.options.uniqueNames?a.series.autoIncrement():g?k(a.name,b):u(b.keys[a.name],-1)),-1===t?g||(p=b.length):p=t,void 0!==p&&(this.names[p]=a.name,this.names.keys[a.name]=p),p},updateNames:function(){var g=this,b=this.names;0<b.length&&(f(a.keys(b.keys),(function(a){delete b.keys[a]})),b.length=0,this.minRange=this.userMinRange,f(this.series||[],(function(a){a.xIncrement=null,a.points&&!a.isDirtyData||(a.processData(),a.generatePoints()),f(a.points,(function(b,t){var e;b.options&&(void 0!==(e=g.nameToX(b))&&e!==b.x&&(b.x=e,a.xData[t]=e))}))})))},setAxisTranslation:function(a){var t,g=this,b=g.max-g.min,e=g.axisPointRange||0,p=0,n=0,o=g.linkedParent,r=!!g.categories,h=g.transA,l=g.isXAxis;(l||r||e)&&(t=g.getClosest(),o?(p=o.minPointOffset,n=o.pointRangePadding):f(g.series,(function(a){var b=r?1:l?u(a.options.pointRange,t,0):g.axisPointRange||0;a=a.options.pointPlacement,e=Math.max(e,b),g.single||(p=Math.max(p,A(a)?0:b/2),n=Math.max(n,"on"===a?0:b))})),o=g.ordinalSlope&&t?g.ordinalSlope/t:1,g.minPointOffset=p*=o,g.pointRangePadding=n*=o,g.pointRange=Math.min(e,b),l&&(g.closestPointRange=t)),a&&(g.oldTransA=h),g.translationSlope=g.transA=h=g.staticScale||g.len/(b+n||1),g.transB=g.horiz?g.left:g.bottom,g.minPixelPadding=h*p,x(this,"afterSetAxisTranslation")},minFromRange:function(){return this.max-this.range},setTickInterval:function(g){var t,e,n,q,b=this,o=b.chart,h=b.options,p=b.isLog,c=b.isDatetimeAxis,d=b.isXAxis,m=b.isLinked,v=h.maxPadding,k=h.minPadding,M=h.tickInterval,A=h.tickPixelInterval,S=b.categories,P=w(b.threshold)?b.threshold:null,C=b.softThreshold;c||S||m||this.getTickAmount(),n=u(b.userMin,h.min),q=u(b.userMax,h.max),m?(b.linkedParent=o[b.coll][h.linkedTo],o=b.linkedParent.getExtremes(),b.min=u(o.min,o.dataMin),b.max=u(o.max,o.dataMax),h.type!==b.linkedParent.options.type&&a.error(11,1)):(!C&&l(P)&&(b.dataMin>=P?(t=P,k=0):b.dataMax<=P&&(e=P,v=0)),b.min=u(n,t,b.dataMin),b.max=u(q,e,b.dataMax)),p&&(b.positiveValuesOnly&&!g&&0>=Math.min(b.min,u(b.dataMin,b.min))&&a.error(10,1),b.min=r(b.log2lin(b.min),15),b.max=r(b.log2lin(b.max),15)),b.range&&l(b.max)&&(b.userMin=b.min=n=Math.max(b.dataMin,b.minFromRange()),b.userMax=q=b.max,b.range=null),x(b,"foundExtremes"),b.beforePadding&&b.beforePadding(),b.adjustForMinRange(),!(S||b.axisPointRange||b.usePercentage||m)&&l(b.min)&&l(b.max)&&(o=b.max-b.min)&&(!l(n)&&k&&(b.min-=o*k),!l(q)&&v&&(b.max+=o*v)),w(h.softMin)&&!w(b.userMin)&&(b.min=Math.min(b.min,h.softMin)),w(h.softMax)&&!w(b.userMax)&&(b.max=Math.max(b.max,h.softMax)),w(h.floor)&&(b.min=Math.max(b.min,h.floor)),w(h.ceiling)&&(b.max=Math.min(b.max,h.ceiling)),C&&l(b.dataMin)&&(P=P||0,!l(n)&&b.min<P&&b.dataMin>=P?b.min=P:!l(q)&&b.max>P&&b.dataMax<=P&&(b.max=P)),b.tickInterval=b.min===b.max||void 0===b.min||void 0===b.max?1:m&&!M&&A===b.linkedParent.options.tickPixelInterval?M=b.linkedParent.tickInterval:u(M,this.tickAmount?(b.max-b.min)/Math.max(this.tickAmount-1,1):void 0,S?1:(b.max-b.min)*A/Math.max(b.len,A)),d&&!g&&f(b.series,(function(a){a.processData(b.min!==b.oldMin||b.max!==b.oldMax)})),b.setAxisTranslation(!0),b.beforeSetTickPositions&&b.beforeSetTickPositions(),b.postProcessTickInterval&&(b.tickInterval=b.postProcessTickInterval(b.tickInterval)),b.pointRange&&!M&&(b.tickInterval=Math.max(b.pointRange,b.tickInterval)),g=u(h.minTickInterval,b.isDatetimeAxis&&b.closestPointRange),!M&&b.tickInterval<g&&(b.tickInterval=g),c||p||M||(b.tickInterval=T(b.tickInterval,null,y(b.tickInterval),u(h.allowDecimals,!(.5<b.tickInterval&&5>b.tickInterval&&1e3<b.max&&9999>b.max)),!!this.tickAmount)),this.tickAmount||(b.tickInterval=b.unsquish()),this.setTickPositions()},setTickPositions:function(){var t,b=this.options,e=b.tickPositions;t=this.getMinorTickInterval();var p=b.tickPositioner,n=b.startOnTick,o=b.endOnTick;this.tickmarkOffset=this.categories&&"between"===b.tickmarkPlacement&&1===this.tickInterval?.5:0,this.minorTickInterval="auto"===t&&this.tickInterval?this.tickInterval/5:t,this.single=this.min===this.max&&l(this.min)&&!this.tickAmount&&(parseInt(this.min,10)===this.min||!1!==b.allowDecimals),this.tickPositions=t=e&&e.slice(),!t&&(!this.ordinalPositions&&(this.max-this.min)/this.tickInterval>Math.max(2*this.len,200)?(t=[this.min,this.max],a.error(19)):t=this.isDatetimeAxis?this.getTimeTicks(this.normalizeTimeTickInterval(this.tickInterval,b.units),this.min,this.max,b.startOfWeek,this.ordinalPositions,this.closestPointRange,!0):this.isLog?this.getLogTickPositions(this.tickInterval,this.min,this.max):this.getLinearTickPositions(this.tickInterval,this.min,this.max),t.length>this.len&&((t=[t[0],t.pop()])[0]===t[1]&&(t.length=1)),this.tickPositions=t,p&&(p=p.apply(this,[this.min,this.max])))&&(this.tickPositions=t=p),this.paddedTicks=t.slice(0),this.trimTicks(t,n,o),this.isLinked||(this.single&&2>t.length&&(this.min-=.5,this.max+=.5),e||p||this.adjustTickAmount()),x(this,"afterSetTickPositions")},trimTicks:function(a,b,t){var g=a[0],e=a[a.length-1],n=this.minPointOffset||0;if(!this.isLinked){if(b&&-1/0!==g)this.min=g;else for(;this.min-n>a[0];)a.shift();if(t)this.max=e;else for(;this.max+n<a[a.length-1];)a.pop();0===a.length&&l(g)&&!this.options.tickPositions&&a.push((e+g)/2)}},alignToOthers:function(){var b,a={},t=this.options;return!1===this.chart.options.chart.alignTicks||!1===t.alignTicks||!1===t.startOnTick||!1===t.endOnTick||this.isLog||f(this.chart[this.coll],(function(g){var t=g.options;t=[g.horiz?t.left:t.top,t.width,t.height,t.pane].join();g.series.length&&(a[t]?b=!0:a[t]=1)})),b},getTickAmount:function(){var a=this.options,b=a.tickAmount,t=a.tickPixelInterval;!l(a.tickInterval)&&this.len<t&&!this.isRadial&&!this.isLog&&a.startOnTick&&a.endOnTick&&(b=2),!b&&this.alignToOthers()&&(b=Math.ceil(this.len/t)+1),4>b&&(this.finalTickAmt=b,b=5),this.tickAmount=b},adjustTickAmount:function(){var a=this.tickInterval,b=this.tickPositions,t=this.tickAmount,e=this.finalTickAmt,n=b&&b.length,p=u(this.threshold,this.softThreshold?0:null);if(this.hasData()){if(n<t){for(;b.length<t;)b.length%2||this.min===p?b.push(r(b[b.length-1]+a)):b.unshift(r(b[0]-a));this.transA*=(n-1)/(t-1),this.min=b[0],this.max=b[b.length-1]}else n>t&&(this.tickInterval*=2,this.setTickPositions());if(l(e)){for(a=t=b.length;a--;)(3===e&&1==a%2||2>=e&&0<a&&a<t-1)&&b.splice(a,1);this.finalTickAmt=void 0}}},setScale:function(){var a,b;this.oldMin=this.min,this.oldMax=this.max,this.oldAxisLength=this.len,this.setAxisSize(),b=this.len!==this.oldAxisLength,f(this.series,(function(b){(b.isDirtyData||b.isDirty||b.xAxis.isDirty)&&(a=!0)})),b||a||this.isLinked||this.forceRedraw||this.userMin!==this.oldUserMin||this.userMax!==this.oldUserMax||this.alignToOthers()?(this.resetStacks&&this.resetStacks(),this.forceRedraw=!1,this.getSeriesExtremes(),this.setTickInterval(),this.oldUserMin=this.userMin,this.oldUserMax=this.userMax,this.isDirty||(this.isDirty=b||this.min!==this.oldMin||this.max!==this.oldMax)):this.cleanStacks&&this.cleanStacks(),x(this,"afterSetScale")},setExtremes:function(a,b,t,e,p){var g=this,n=g.chart;t=u(t,!0),f(g.series,(function(a){delete a.kdTree})),p=m(p,{min:a,max:b}),x(g,"setExtremes",p,(function(){g.userMin=a,g.userMax=b,g.eventArgs=p,t&&n.redraw(e)}))},zoom:function(a,b){var g=this.dataMin,t=this.dataMax,e=this.options,n=Math.min(g,u(e.min,g));e=Math.max(t,u(e.max,t));return a===this.min&&b===this.max||(this.allowZoomOutside||(l(g)&&(a<n&&(a=n),a>e&&(a=e)),l(t)&&(b<n&&(b=n),b>e&&(b=e))),this.displayBtn=void 0!==a||void 0!==b,this.setExtremes(a,b,!1,void 0,{trigger:"zoom"})),!0},setAxisSize:function(){var b=this.chart,t=(r=this.options).offsets||[0,0,0,0],e=this.horiz,p=this.width=Math.round(a.relativeLength(u(r.width,b.plotWidth-t[3]+t[1]),b.plotWidth)),n=this.height=Math.round(a.relativeLength(u(r.height,b.plotHeight-t[0]+t[2]),b.plotHeight)),o=this.top=Math.round(a.relativeLength(u(r.top,b.plotTop+t[0]),b.plotHeight,b.plotTop)),r=this.left=Math.round(a.relativeLength(u(r.left,b.plotLeft+t[3]),b.plotWidth,b.plotLeft));this.bottom=b.chartHeight-n-o,this.right=b.chartWidth-p-r,this.len=Math.max(e?p:n,0),this.pos=e?r:o},getExtremes:function(){var a=this.isLog;return{min:a?r(this.lin2log(this.min)):this.min,max:a?r(this.lin2log(this.max)):this.max,dataMin:this.dataMin,dataMax:this.dataMax,userMin:this.userMin,userMax:this.userMax}},getThreshold:function(a){var g=(b=this.isLog)?this.lin2log(this.min):this.min,b=b?this.lin2log(this.max):this.max;return null===a||-1/0===a?a=g:1/0===a?a=b:g>a?a=g:b<a&&(a=b),this.translate(a,0,1,0,1)},autoLabelAlign:function(a){return 15<(a=(u(a,0)-90*this.side+720)%360)&&165>a?"right":195<a&&345>a?"left":"center"},tickSize:function(a){var b=this.options,g=b[a+"Length"],t=u(b[a+"Width"],"tick"===a&&this.isXAxis?1:0);if(t&&g)return"inside"===b[a+"Position"]&&(g=-g),[g,t]},labelMetrics:function(){var a=this.tickPositions&&this.tickPositions[0]||0;return this.chart.renderer.fontMetrics(this.options.labels.style&&this.options.labels.style.fontSize,this.ticks[a]&&this.ticks[a].label)},unsquish:function(){var p,t,e,a=this.options.labels,b=this.horiz,n=this.tickInterval,o=n,h=this.len/(((this.categories?1:0)+this.max-this.min)/n),d=a.rotation,m=this.labelMetrics(),x=Number.MAX_VALUE,v=function(a){return a=1<(a/=h||1)?Math.ceil(a):1,r(a*n)};return b?(e=!a.staggerLines&&!a.step&&(l(d)?[d]:h<u(a.autoRotationLimit,80)&&a.autoRotation))&&f(e,(function(a){var b;(a===d||a&&-90<=a&&90>=a)&&((b=(t=v(Math.abs(m.h/Math.sin(c*a))))+Math.abs(a/360))<x&&(x=b,p=a,o=t))})):a.step||(o=v(m.h)),this.autoRotation=e,this.labelRotation=u(p,d),o},getSlotWidth:function(a){var b=this.chart,g=this.horiz,t=this.options.labels,e=Math.max(this.tickPositions.length-(this.categories?0:1),1),n=b.margin[3];return a&&a.slotWidth||g&&2>(t.step||0)&&!t.rotation&&(this.staggerLines||1)*this.len/e||!g&&(t.style&&parseInt(t.style.width,10)||n&&n-b.spacing[3]||.33*b.chartWidth)},renderUnsquish:function(){var t,e,u,a=this.chart,b=a.renderer,n=this.tickPositions,o=this.ticks,r=this.options.labels,p=r&&r.style||{},h=this.horiz,l=this.getSlotWidth(),c=Math.max(1,Math.round(l-2*(r.padding||5))),d={},m=this.labelMetrics(),x=r.style&&r.style.textOverflow,v=0;if(A(r.rotation)||(d.rotation=r.rotation||0),f(n,(function(a){(a=o[a])&&a.label&&a.label.textPxLength>v&&(v=a.label.textPxLength)})),this.maxLabelLength=v,this.autoRotation)v>c&&v>m.h?d.rotation=this.labelRotation:this.labelRotation=0;else if(l&&(t=c,!x))for(e="clip",c=n.length;!h&&c--;)u=n[c],(u=o[u].label)&&(u.styles&&"ellipsis"===u.styles.textOverflow?u.css({textOverflow:"clip"}):u.textPxLength>l&&u.css({width:l+"px"}),u.getBBox().height>this.len/n.length-(m.h-m.f)&&(u.specificTextOverflow="ellipsis"));d.rotation&&(t=v>.5*a.chartHeight?.33*a.chartHeight:v,x||(e="ellipsis")),(this.labelAlign=r.align||this.autoLabelAlign(this.labelRotation))&&(d.align=this.labelAlign),f(n,(function(a){var b=(a=o[a])&&a.label,g=p.width,n={};b&&(b.attr(d),a.shortenLabel?a.shortenLabel():t&&!g&&"nowrap"!==p.whiteSpace&&(t<b.textPxLength||"SPAN"===b.element.tagName)?(n.width=t,x||(n.textOverflow=b.specificTextOverflow||e),b.css(n)):b.styles&&b.styles.width&&!n.width&&!g&&b.css({width:null}),delete b.specificTextOverflow,a.rotation=d.rotation)}),this),this.tickRotCorr=b.rotCorr(m.b,this.labelRotation||0,0!==this.side)},hasData:function(){return this.hasVisibleSeries||l(this.min)&&l(this.max)&&this.tickPositions&&0<this.tickPositions.length},addTitle:function(a){var t,b=this.chart.renderer,g=this.horiz,e=this.opposite,n=this.options.title;this.axisTitle||((t=n.textAlign)||(t=(g?{low:"left",middle:"center",high:"right"}:{low:e?"right":"left",middle:"center",high:e?"left":"right"})[n.align]),this.axisTitle=b.text(n.text,0,0,n.useHTML).attr({zIndex:7,rotation:n.rotation||0,align:t}).addClass("highcharts-axis-title").css(S(n.style)).add(this.axisGroup),this.axisTitle.isNew=!0),n.style.width||this.isRadial||this.axisTitle.css({width:this.len}),this.axisTitle[a?"show":"hide"](!0)},generateTick:function(a){var b=this.ticks;b[a]?b[a].addLabel():b[a]=new p(this,a)},getOffset:function(){var t,e,n,a=this,o=(b=a.chart).renderer,r=a.options,p=a.tickPositions,h=a.ticks,c=a.horiz,d=a.side,m=b.inverted&&!a.isZAxis?[1,0,3,2][d]:d,v=0,y=0,k=r.title,M=r.labels,w=0,A=b.axisOffset,b=b.clipOffset,S=[-1,1,1,-1][d],T=r.className,C=a.axisParent;t=a.hasData(),a.showAxis=e=t||u(r.showEmpty,!0),a.staggerLines=a.horiz&&M.staggerLines,a.axisGroup||(a.gridGroup=o.g("grid").attr({zIndex:r.gridZIndex||1}).addClass("highcharts-"+this.coll.toLowerCase()+"-grid "+(T||"")).add(C),a.axisGroup=o.g("axis").attr({zIndex:r.zIndex||2}).addClass("highcharts-"+this.coll.toLowerCase()+" "+(T||"")).add(C),a.labelGroup=o.g("axis-labels").attr({zIndex:M.zIndex||7}).addClass("highcharts-"+a.coll.toLowerCase()+"-labels "+(T||"")).add(C)),t||a.isLinked?(f(p,(function(b,g){a.generateTick(b,g)})),a.renderUnsquish(),a.reserveSpaceDefault=0===d||2===d||{1:"left",3:"right"}[d]===a.labelAlign,u(M.reserveSpace,"center"===a.labelAlign||null,a.reserveSpaceDefault)&&f(p,(function(a){w=Math.max(h[a].getLabelSize(),w)})),a.staggerLines&&(w*=a.staggerLines),a.labelOffset=w*(a.opposite?-1:1)):P(h,(function(a,b){a.destroy(),delete h[b]})),k&&k.text&&!1!==k.enabled&&(a.addTitle(e),e&&!1!==k.reserveSpace&&(a.titleOffset=v=a.axisTitle.getBBox()[c?"height":"width"],n=k.offset,y=l(n)?0:u(k.margin,c?5:10))),a.renderLine(),a.offset=S*u(r.offset,A[d]),a.tickRotCorr=a.tickRotCorr||{x:0,y:0},o=0===d?-a.labelMetrics().h:2===d?a.tickRotCorr.y:0,y=Math.abs(w)+y,w&&(y=y-o+S*(c?u(M.y,a.tickRotCorr.y+8*S):M.x)),a.axisTitleMargin=u(n,y),a.getMaxLabelDimensions&&(a.maxLabelDimensions=a.getMaxLabelDimensions(h,p)),c=this.tickSize("tick"),A[d]=Math.max(A[d],a.axisTitleMargin+v+S*a.offset,y,t&&p.length&&c?c[0]+S*a.offset:0),r=r.offset?0:2*Math.floor(a.axisLine.strokeWidth()/2),b[m]=Math.max(b[m],r),x(this,"afterGetOffset")},getLinePath:function(a){var b=this.chart,g=this.opposite,t=this.offset,e=this.horiz,n=this.left+(g?this.width:0)+t;t=b.chartHeight-this.bottom-(g?this.height:0)+t;return g&&(a*=-1),b.renderer.crispLine(["M",e?this.left:n,e?t:this.top,"L",e?b.chartWidth-this.right:n,e?t:b.chartHeight-this.bottom],a)},renderLine:function(){this.axisLine||(this.axisLine=this.chart.renderer.path().addClass("highcharts-axis-line").add(this.axisGroup),this.axisLine.attr({stroke:this.options.lineColor,"stroke-width":this.options.lineWidth,zIndex:7}))},getTitlePosition:function(){var a=this.horiz,b=this.left,t=this.top,e=this.len,n=this.options.title,p=a?b:t,o=this.opposite,r=this.offset,h=n.x||0,l=n.y||0,c=this.axisTitle,d=this.chart.renderer.fontMetrics(n.style&&n.style.fontSize,c);c=Math.max(c.getBBox(null,0).height-d.h-1,0),e={low:p+(a?0:e),middle:p+e/2,high:p+(a?e:0)}[n.align],b=(a?t+this.height:b)+(a?1:-1)*(o?-1:1)*this.axisTitleMargin+[-c,c,d.f,-c][this.side];return{x:a?e+h:b+(o?this.width:0)+r+h,y:a?b+l-(o?this.height:0)+r:e+l}},renderMinorTick:function(a){var b=this.chart.hasRendered&&w(this.oldMin),g=this.minorTicks;g[a]||(g[a]=new p(this,a,"minor")),b&&g[a].isNew&&g[a].render(null,!0),g[a].render(null,!1,1)},renderTick:function(a,b){var g=this.isLinked,t=this.ticks,e=this.chart.hasRendered&&w(this.oldMin);(!g||a>=this.min&&a<=this.max)&&(t[a]||(t[a]=new p(this,a)),e&&t[a].isNew&&t[a].render(b,!0,-1),t[a].render(b))},render:function(){var t,n,b=this,o=b.chart,r=b.options,h=b.isLog,l=b.isLinked,c=b.tickPositions,d=b.axisTitle,m=b.ticks,v=b.minorTicks,y=b.alternateBands,u=r.stackLabels,k=r.alternateGridColor,M=b.tickmarkOffset,A=b.axisLine,S=b.showAxis,T=e(o.renderer.globalAnimation);b.labelEdge.length=0,b.overlap=!1,f([m,v,y],(function(a){P(a,(function(a){a.isActive=!1}))})),(b.hasData()||l)&&(b.minorTickInterval&&!b.categories&&f(b.getMinorTickPositions(),(function(a){b.renderMinorTick(a)})),c.length&&(f(c,(function(a,g){b.renderTick(a,g)})),M&&(0===b.min||b.single)&&(m[-1]||(m[-1]=new p(b,-1,null,!0)),m[-1].render(-1))),k&&f(c,(function(g,e){n=void 0!==c[e+1]?c[e+1]+M:b.max-M,0==e%2&&g<b.max&&n<=b.max+(o.polar?-M:M)&&(y[g]||(y[g]=new a.PlotLineOrBand(b)),t=g+M,y[g].options={from:h?b.lin2log(t):t,to:h?b.lin2log(n):n,color:k},y[g].render(),y[g].isActive=!0)})),b._addedPlotLB||(f((r.plotLines||[]).concat(r.plotBands||[]),(function(a){b.addPlotBandOrLine(a)})),b._addedPlotLB=!0)),f([m,v,y],(function(a){var b,g=[],t=T.duration;P(a,(function(a,b){a.isActive||(a.render(b,!1,0),a.isActive=!1,g.push(b))})),O((function(){for(b=g.length;b--;)a[g[b]]&&!a[g[b]].isActive&&(a[g[b]].destroy(),delete a[g[b]])}),a!==y&&o.hasRendered&&t?t:0)})),A&&(A[A.isPlaced?"animate":"attr"]({d:this.getLinePath(A.strokeWidth())}),A.isPlaced=!0,A[S?"show":"hide"](!0)),d&&S&&(r=b.getTitlePosition(),w(r.y)?(d[d.isNew?"attr":"animate"](r),d.isNew=!1):(d.attr("y",-9999),d.isNew=!0)),u&&u.enabled&&b.renderStackTotals(),b.isDirty=!1,x(this,"afterRender")},redraw:function(){this.visible&&(this.render(),f(this.plotLinesAndBands,(function(a){a.render()}))),f(this.series,(function(a){a.isDirty=!0}))},keepProps:"extKey hcEvents names series userMax userMin".split(" "),destroy:function(a){var p,b=this,g=b.stacks,t=b.plotLinesAndBands;if(x(this,"destroy",{keepEvents:a}),a||C(b),P(g,(function(a,b){d(a),g[b]=null})),f([b.ticks,b.minorTicks,b.alternateBands],(function(a){d(a)})),t)for(a=t.length;a--;)t[a].destroy();for(p in f("stackTotalGroup axisLine axisTitle axisGroup gridGroup labelGroup cross scrollbar".split(" "),(function(a){b[a]&&(b[a]=b[a].destroy())})),b.plotLinesAndBandsGroups)b.plotLinesAndBandsGroups[p]=b.plotLinesAndBandsGroups[p].destroy();P(b,(function(a,g){-1===k(g,b.keepProps)&&delete b[g]}))},drawCrosshair:function(a,b){var g,p,t=this.crosshair,e=u(t.snap,!0),n=this.cross;if(x(this,"drawCrosshair",{e:a,point:b}),a||(a=this.cross&&this.cross.e),this.crosshair&&!1!==(l(b)||!e)){if(e?l(b)&&(p=u(b.crosshairPos,this.isXAxis?b.plotX:this.len-b.plotY)):p=a&&(this.horiz?a.chartX-this.pos:this.len-a.chartY+this.pos),l(p)&&(g=this.getPlotLinePath(b&&(this.isXAxis?b.x:u(b.stackY,b.y)),null,null,null,p)||null),!l(g))return void this.hideCrosshair();e=this.categories&&!this.isRadial,n||(this.cross=n=this.chart.renderer.path().addClass("highcharts-crosshair highcharts-crosshair-"+(e?"category ":"thin ")+t.className).attr({zIndex:u(t.zIndex,2)}).add(),n.attr({stroke:t.color||(e?o("#ccd6eb").setOpacity(.25).get():"#cccccc"),"stroke-width":u(t.width,1)}).css({"pointer-events":"none"}),t.dashStyle&&n.attr({dashstyle:t.dashStyle})),n.show().attr({d:g}),e&&!t.width&&n.attr({"stroke-width":this.transA}),this.cross.e=a}else this.hideCrosshair();x(this,"afterDrawCrosshair",{e:a,point:b})},hideCrosshair:function(){this.cross&&this.cross.hide()}}),a.Axis=D}(c);return function(a){var t=a.Axis,e=a.getMagnitude,n=a.normalizeTickInterval,q=a.timeUnits;t.prototype.getTimeTicks=function(){return this.chart.time.getTimeTicks.apply(this.chart.time,arguments)},t.prototype.normalizeTimeTickInterval=function(a,t){var o=t||[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2]],["week",[1,2]],["month",[1,2,3,4,6]],["year",null]];t=o[o.length-1];var r,h=q[t[0]],l=t[1];for(r=0;r<o.length&&(t=o[r],h=q[t[0]],l=t[1],!(o[r+1]&&a<=(h*l[l.length-1]+q[o[r+1][0]])/2));r++);return h===q.year&&a<5*h&&(l=[1,2,5]),{unitRange:h,count:a=n(a/h,l,"year"===t[0]?Math.max(e(a/h),1):1),unitName:t[0]}}}(c),function(a){var t=a.Axis,e=a.getMagnitude,n=a.map,q=a.normalizeTickInterval,o=a.pick;t.prototype.getLogTickPositions=function(a,t,r,h){var l=this.options,c=this.len,d=[];if(h||(this._minorAutoInterval=null),.5<=a)a=Math.round(a),d=this.getLinearTickPositions(a,t,r);else if(.08<=a){var f,m,x,b,v;for(c=Math.floor(t),l=.3<a?[1,2,4]:.15<a?[1,2,4,6,8]:[1,2,3,4,5,6,7,8,9];c<r+1&&!v;c++)for(m=l.length,f=0;f<m&&!v;f++)(x=this.log2lin(this.lin2log(c)*l[f]))>t&&(!h||b<=r)&&void 0!==b&&d.push(b),b>r&&(v=!0),b=x}else t=this.lin2log(t),r=this.lin2log(r),a=h?this.getMinorTickInterval():l.tickInterval,a=o("auto"===a?null:a,this._minorAutoInterval,l.tickPixelInterval/(h?5:1)*(r-t)/((h?c/this.tickPositions.length:c)||1)),a=q(a,null,e(a)),d=n(this.getLinearTickPositions(a,t,r),this.log2lin),h||(this._minorAutoInterval=a/5);return h||(this.tickInterval=a),d},t.prototype.log2lin=function(a){return Math.log(a)/Math.LN10},t.prototype.lin2log=function(a){return Math.pow(10,a)}}(c),function(a,t){var e=a.arrayMax,n=a.arrayMin,q=a.defined,o=a.destroyObjectProperties,r=a.each,h=a.erase,l=a.merge,c=a.pick;a.PlotLineOrBand=function(a,t){this.axis=a,t&&(this.options=t,this.id=t.id)},a.PlotLineOrBand.prototype={render:function(){a.fireEvent(this,"render");var t=this,e=t.axis,n=e.horiz,o=t.options,r=o.label,h=t.label,b=o.to,d=o.from,f=o.value,m=q(d)&&q(b),x=q(f),v=t.svgElem,y=!v,k=[],u=o.color,M=c(o.zIndex,0),w=o.events,A=(k={class:"highcharts-plot-"+(m?"band ":"line ")+(o.className||"")},{}),p=e.chart.renderer,S=m?"bands":"lines";if(e.isLog&&(d=e.log2lin(d),b=e.log2lin(b),f=e.log2lin(f)),x?(k.stroke=u,k["stroke-width"]=o.width,o.dashStyle&&(k.dashstyle=o.dashStyle)):m&&(u&&(k.fill=u),o.borderWidth&&(k.stroke=o.borderColor,k["stroke-width"]=o.borderWidth)),A.zIndex=M,S+="-"+M,(u=e.plotLinesAndBandsGroups[S])||(e.plotLinesAndBandsGroups[S]=u=p.g("plot-"+S).attr(A).add()),y&&(t.svgElem=v=p.path().attr(k).add(u)),x)k=e.getPlotLinePath(f,v.strokeWidth());else{if(!m)return;k=e.getPlotBandPath(d,b,o)}return y&&k&&k.length?(v.attr({d:k}),w&&a.objectEach(w,(function(a,b){v.on(b,(function(a){w[b].apply(t,[a])}))}))):v&&(k?(v.show(),v.animate({d:k})):(v.hide(),h&&(t.label=h=h.destroy()))),r&&q(r.text)&&k&&k.length&&0<e.width&&0<e.height&&!k.isFlat?(r=l({align:n&&m&&"center",x:n?!m&&4:10,verticalAlign:!n&&m&&"middle",y:n?m?16:10:m?6:-4,rotation:n&&!m&&90},r),this.renderLabel(r,k,m,M)):h&&h.hide(),t},renderLabel:function(a,t,o,r){var h=this.label,l=this.axis.chart.renderer;h||((h={align:a.textAlign||a.align,rotation:a.rotation,class:"highcharts-plot-"+(o?"band":"line")+"-label "+(a.className||"")}).zIndex=r,this.label=h=l.text(a.text,0,0,a.useHTML).attr(h).add(),h.css(a.style)),r=t.xBounds||[t[1],t[4],o?t[6]:t[1]],t=t.yBounds||[t[2],t[5],o?t[7]:t[2]],o=n(r),l=n(t),h.align(a,!1,{x:o,y:l,width:e(r)-o,height:e(t)-l}),h.show()},destroy:function(){h(this.axis.plotLinesAndBands,this),delete this.axis,o(this)}},a.extend(t.prototype,{getPlotBandPath:function(a,t){var e,n=this.getPlotLinePath(t,null,null,!0),o=this.getPlotLinePath(a,null,null,!0),r=[],h=this.horiz,b=1;if(a=a<this.min&&t<this.min||a>this.max&&t>this.max,o&&n)for(a&&(e=o.toString()===n.toString(),b=0),a=0;a<o.length;a+=6)h&&n[a+1]===o[a+1]?(n[a+1]+=b,n[a+4]+=b):h||n[a+2]!==o[a+2]||(n[a+2]+=b,n[a+5]+=b),r.push("M",o[a+1],o[a+2],"L",o[a+4],o[a+5],n[a+4],n[a+5],n[a+1],n[a+2],"z"),r.isFlat=e;return r},addPlotBand:function(a){return this.addPlotBandOrLine(a,"plotBands")},addPlotLine:function(a){return this.addPlotBandOrLine(a,"plotLines")},addPlotBandOrLine:function(t,e){var n=new a.PlotLineOrBand(this,t).render(),o=this.userOptions;return n&&(e&&(o[e]=o[e]||[],o[e].push(t)),this.plotLinesAndBands.push(n)),n},removePlotBandOrLine:function(a){for(var t=this.plotLinesAndBands,e=this.options,n=this.userOptions,o=t.length;o--;)t[o].id===a&&t[o].destroy();r([e.plotLines||[],n.plotLines||[],e.plotBands||[],n.plotBands||[]],(function(t){for(o=t.length;o--;)t[o].id===a&&h(t,t[o])}))},removePlotBand:function(a){this.removePlotBandOrLine(a)},removePlotLine:function(a){this.removePlotBandOrLine(a)}})}(c,d),function(a){var t=a.doc,e=a.each,n=a.extend,q=a.format,o=a.isNumber,r=a.map,h=a.merge,l=a.pick,c=a.splat,d=a.syncTimeout,f=a.timeUnits;a.Tooltip=function(){this.init.apply(this,arguments)},a.Tooltip.prototype={init:function(a,t){this.chart=a,this.options=t,this.crosshairs=[],this.now={x:0,y:0},this.isHidden=!0,this.split=t.split&&!a.inverted,this.shared=t.shared||this.split,this.outside=t.outside&&!this.split},cleanSplit:function(a){e(this.chart.series,(function(t){var e=t&&t.tt;e&&(!e.isActive||a?t.tt=e.destroy():e.isActive=!1)}))},getLabel:function(){var t,e=this.chart.renderer,n=this.options;return this.label||(this.outside&&(this.container=t=a.doc.createElement("div"),t.className="highcharts-tooltip-container",a.css(t,{position:"absolute",top:"1px",pointerEvents:n.style&&n.style.pointerEvents}),a.doc.body.appendChild(t),this.renderer=e=new a.Renderer(t,0,0)),this.split?this.label=e.g("tooltip"):(this.label=e.label("",0,0,n.shape||"callout",null,null,n.useHTML,null,"tooltip").attr({padding:n.padding,r:n.borderRadius}),this.label.attr({fill:n.backgroundColor,"stroke-width":n.borderWidth}).css(n.style).shadow(n.shadow)),this.outside&&(this.label.attr({x:this.distance,y:this.distance}),this.label.xSetter=function(a){t.style.left=a+"px"},this.label.ySetter=function(a){t.style.top=a+"px"}),this.label.attr({zIndex:8}).add()),this.label},update:function(a){this.destroy(),h(!0,this.chart.options.tooltip.userOptions,a),this.init(this.chart,h(!0,this.options,a))},destroy:function(){this.label&&(this.label=this.label.destroy()),this.split&&this.tt&&(this.cleanSplit(this.chart,!0),this.tt=this.tt.destroy()),this.renderer&&(this.renderer=this.renderer.destroy(),a.discardElement(this.container)),a.clearTimeout(this.hideTimer),a.clearTimeout(this.tooltipTimeout)},move:function(t,e,o,r){var b=this,h=b.now,l=!1!==b.options.animation&&!b.isHidden&&(1<Math.abs(t-h.x)||1<Math.abs(e-h.y)),c=b.followPointer||1<b.len;n(h,{x:l?(2*h.x+t)/3:t,y:l?(h.y+e)/2:e,anchorX:c?void 0:l?(2*h.anchorX+o)/3:o,anchorY:c?void 0:l?(h.anchorY+r)/2:r}),b.getLabel().attr(h),l&&(a.clearTimeout(this.tooltipTimeout),this.tooltipTimeout=setTimeout((function(){b&&b.move(t,e,o,r)}),32))},hide:function(t){var e=this;a.clearTimeout(this.hideTimer),t=l(t,this.options.hideDelay,500),this.isHidden||(this.hideTimer=d((function(){e.getLabel()[t?"fadeOut":"hide"](),e.isHidden=!0}),t))},getAnchor:function(a,t){var n,o,h=this.chart,l=h.pointer,b=h.inverted,d=h.plotTop,f=h.plotLeft,m=0,x=0;return a=c(a),this.followPointer&&t?(void 0===t.chartX&&(t=l.normalize(t)),a=[t.chartX-h.plotLeft,t.chartY-d]):a[0].tooltipPos?a=a[0].tooltipPos:(e(a,(function(a){n=a.series.yAxis,o=a.series.xAxis,m+=a.plotX+(!b&&o?o.left-f:0),x+=(a.plotLow?(a.plotLow+a.plotHigh)/2:a.plotY)+(!b&&n?n.top-d:0)})),m/=a.length,x/=a.length,a=[b?h.plotWidth-x:m,this.shared&&!b&&1<a.length&&t?t.chartY-d:b?h.plotHeight-m:x]),r(a,Math.round)},getPosition:function(a,e,n){var o,r=this.chart,b=this.distance,h={},c=r.inverted&&n.h||0,d=this.outside,f=d?t.documentElement.clientWidth-2*b:r.chartWidth,m=d?Math.max(t.body.scrollHeight,t.documentElement.scrollHeight,t.body.offsetHeight,t.documentElement.offsetHeight,t.documentElement.clientHeight):r.chartHeight,x=r.pointer.chartPosition,u=["y",m,e,(d?x.top-b:0)+n.plotY+r.plotTop,d?0:r.plotTop,d?m:r.plotTop+r.plotHeight],v=["x",f,a,(d?x.left-b:0)+n.plotX+r.plotLeft,d?0:r.plotLeft,d?f:r.plotLeft+r.plotWidth],y=!this.followPointer&&l(n.ttBelow,!r.inverted==!!n.negative),k=function(a,g,t,p,e,n){var o=t<p-b,r=p+b+t<g,l=p-b-t;if(p+=b,y&&r)h[a]=p;else if(!y&&o)h[a]=l;else if(o)h[a]=Math.min(n-t,0>l-c?l:l-c);else{if(!r)return!1;h[a]=Math.max(e,p+c+t>g?p:p+c)}},p=function(a,g,t,e){var p;return e<b||e>g-b?p=!1:h[a]=e<t/2?1:e>g-t/2?g-t-2:e-t/2,p},M=function(a){var b=u;u=v,v=b,o=a},g=function(){!1!==k.apply(0,u)?!1!==p.apply(0,v)||o||(M(!0),g()):o?h.x=h.y=0:(M(!0),g())};return(r.inverted||1<this.len)&&M(),g(),h},defaultFormatter:function(a){var t,e=this.points||c(this);return(t=(t=[a.tooltipFooterHeaderFormatter(e[0])]).concat(a.bodyFormatter(e))).push(a.tooltipFooterHeaderFormatter(e[0],!0)),t},refresh:function(t,n){var o,b,r,h=this.options,d=t,f={},m=[];o=h.formatter||this.defaultFormatter;var x;f=this.shared;h.enabled&&(a.clearTimeout(this.hideTimer),this.followPointer=c(d)[0].series.tooltipOptions.followPointer,n=(r=this.getAnchor(d,n))[0],b=r[1],!f||d.series&&d.series.noSharedTooltip?f=d.getLabelConfig():(e(d,(function(a){a.setState("hover"),m.push(a.getLabelConfig())})),(f={x:d[0].category,y:d[0].y}).points=m,d=d[0]),this.len=m.length,f=o.call(f,this),x=d.series,this.distance=l(x.tooltipOptions.distance,16),!1===f?this.hide():(o=this.getLabel(),this.isHidden&&o.attr({opacity:1}).show(),this.split?this.renderSplit(f,c(t)):(h.style.width||o.css({width:this.chart.spacingBox.width}),o.attr({text:f&&f.join?f.join(""):f}),o.removeClass(/highcharts-color-[\d]+/g).addClass("highcharts-color-"+l(d.colorIndex,x.colorIndex)),o.attr({stroke:h.borderColor||d.color||x.color||"#666666"}),this.updatePosition({plotX:n,plotY:b,negative:d.negative,ttBelow:d.ttBelow,h:r[2]||0})),this.isHidden=!1))},renderSplit:function(t,n){var o,r=this,h=[],b=this.chart,c=b.renderer,d=!0,f=this.options,m=0,x=this.getLabel(),v=b.plotTop;a.isString(t)&&(t=[!1,t]),e(t.slice(0,n.length+1),(function(a,t){if(!1!==a){var e=(t=n[t-1]||{isHeader:!0,plotX:n[0].plotX}).series||r,y=e.tt,p=t.series||{},k="highcharts-color-"+l(t.colorIndex,p.colorIndex,"none");y||(e.tt=y=c.label(null,null,null,"callout",null,null,f.useHTML).addClass("highcharts-tooltip-box "+k+(t.isHeader?" highcharts-tooltip-header":"")).attr({padding:f.padding,r:f.borderRadius,fill:f.backgroundColor,stroke:f.borderColor||t.color||p.color||"#333333","stroke-width":f.borderWidth}).add(x)),y.isActive=!0,y.attr({text:a}),y.css(f.style).shadow(f.shadow),p=(a=y.getBBox()).width+y.strokeWidth(),t.isHeader?(m=a.height,b.xAxis[0].opposite&&(o=!0,v-=m),p=Math.max(0,Math.min(t.plotX+b.plotLeft-p/2,b.chartWidth+(b.scrollablePixels?b.scrollablePixels-b.marginRight:0)-p))):p=t.plotX+b.plotLeft-l(f.distance,16)-p,0>p&&(d=!1),a=(t.series&&t.series.yAxis&&t.series.yAxis.pos)+(t.plotY||0),a-=v,t.isHeader&&(a=o?-m:b.plotHeight+m),h.push({target:a,rank:t.isHeader?1:0,size:e.tt.getBBox().height+1,point:t,x:p,tt:y})}})),this.cleanSplit(),a.distribute(h,b.plotHeight+m),e(h,(function(a){var t=a.point,e=t.series;a.tt.attr({visibility:void 0===a.pos?"hidden":"inherit",x:d||t.isHeader?a.x:t.plotX+b.plotLeft+l(f.distance,16),y:a.pos+v,anchorX:t.isHeader?t.plotX+b.plotLeft:t.plotX+e.xAxis.pos,anchorY:t.isHeader?b.plotTop+b.plotHeight/2:t.plotY+e.yAxis.pos})}))},updatePosition:function(a){var t,e=this.chart,n=this.getLabel(),o=(this.options.positioner||this.getPosition).call(this,n.width,n.height,a),b=a.plotX+e.plotLeft;a=a.plotY+e.plotTop,this.outside&&(t=(this.options.borderWidth||0)+2*this.distance,this.renderer.setSize(n.width+t,n.height+t,!1),b+=e.pointer.chartPosition.left-o.x,a+=e.pointer.chartPosition.top-o.y),this.move(Math.round(o.x),Math.round(o.y||0),b,a)},getDateFormat:function(a,t,e,n){var o,r,b=this.chart.time,h=b.dateFormat("%m-%d %H:%M:%S.%L",t),l={millisecond:15,second:12,minute:9,hour:6,day:3},c="millisecond";for(r in f){if(a===f.week&&+b.dateFormat("%w",t)===e&&"00:00:00.000"===h.substr(6)){r="week";break}if(f[r]>a){r=c;break}if(l[r]&&h.substr(l[r])!=="01-01 00:00:00.000".substr(l[r]))break;"week"!==r&&(c=r)}return r&&(o=b.resolveDTLFormat(n[r]).main),o},getXDateFormat:function(a,t,e){t=t.dateTimeLabelFormats;var n=e&&e.closestPointRange;return(n?this.getDateFormat(n,a.x,e.options.startOfWeek,t):t.day)||t.year},tooltipFooterHeaderFormatter:function(a,t){t=t?"footer":"header";var n=a.series,r=n.tooltipOptions,b=r.xDateFormat,h=n.xAxis,l=h&&"datetime"===h.options.type&&o(a.key),c=r[t+"Format"];return l&&!b&&(b=this.getXDateFormat(a,r,h)),l&&b&&e(a.point&&a.point.tooltipDateKeys||["key"],(function(a){c=c.replace("{point."+a+"}","{point."+a+":"+b+"}")})),q(c,{point:a,series:n},this.chart.time)},bodyFormatter:function(a){return r(a,(function(a){var t=a.series.tooltipOptions;return(t[(a.point.formatPrefix||"point")+"Formatter"]||a.point.tooltipFormatter).call(a.point,t[(a.point.formatPrefix||"point")+"Format"])}))}}}(c),function(a){var t=a.addEvent,e=a.attr,n=a.charts,q=a.color,o=a.css,r=a.defined,h=a.each,l=a.extend,c=a.find,d=a.fireEvent,f=a.isNumber,m=a.isObject,x=a.offset,v=a.pick,y=a.splat,b=a.Tooltip;a.Pointer=function(a,b){this.init(a,b)},a.Pointer.prototype={init:function(a,t){this.options=t,this.chart=a,this.runChartClick=t.chart.events&&!!t.chart.events.click,this.pinchDown=[],this.lastValidTouch={},b&&(a.tooltip=new b(a,t.tooltip),this.followTouchMove=v(t.tooltip.followTouchMove,!0)),this.setDOMEvents()},zoomOption:function(a){var t=(b=this.chart).options.chart,e=t.zoomType||"",b=b.inverted;/touch/.test(a.type)&&(e=v(t.pinchType,e)),this.zoomX=a=/x/.test(e),this.zoomY=e=/y/.test(e),this.zoomHor=a&&!b||e&&b,this.zoomVert=e&&!b||a&&b,this.hasZoom=a||e},normalize:function(a,b){var t;return t=a.touches?a.touches.length?a.touches.item(0):a.changedTouches[0]:a,b||(this.chartPosition=b=x(this.chart.container)),l(a,{chartX:Math.round(t.pageX-b.left),chartY:Math.round(t.pageY-b.top)})},getCoordinates:function(a){var b={xAxis:[],yAxis:[]};return h(this.chart.axes,(function(t){b[t.isXAxis?"xAxis":"yAxis"].push({axis:t,value:t.toValue(a[t.horiz?"chartX":"chartY"])})})),b},findNearestKDPoint:function(a,b,t){var e;return h(a,(function(a){var n=!(a.noSharedTooltip&&b)&&0>a.options.findNearestPointBy.indexOf("y");if(a=a.searchPoint(t,n),(n=m(a,!0))&&!(n=!m(e,!0))){n=e.distX-a.distX;var o=e.dist-a.dist,r=(a.series.group&&a.series.group.zIndex)-(e.series.group&&e.series.group.zIndex);n=0<(0!==n&&b?n:0!==o?o:0!==r?r:e.series.index>a.series.index?-1:1)}n&&(e=a)})),e},getPointFromEvent:function(a){a=a.target;for(var b;a&&!b;)b=a.point,a=a.parentNode;return b},getChartCoordinatesFromPoint:function(a,b){var t=(e=a.series).xAxis,e=e.yAxis,n=v(a.clientX,a.plotX),o=a.shapeArgs;return t&&e?b?{chartX:t.len+t.pos-n,chartY:e.len+e.pos-a.plotY}:{chartX:n+t.pos,chartY:a.plotY+e.pos}:o&&o.x&&o.y?{chartX:o.x,chartY:o.y}:void 0},getHoverData:function(b,t,e,n,o,r,l){var d,f=[],x=l&&l.isBoosting;return n=!(!n||!b),l=t&&!t.stickyTracking?[t]:a.grep(e,(function(a){return a.visible&&!(!o&&a.directTouch)&&v(a.options.enableMouseTracking,!0)&&a.stickyTracking})),t=(d=n?b:this.findNearestKDPoint(l,o,r))&&d.series,d&&(o&&!t.noSharedTooltip?(l=a.grep(e,(function(a){return a.visible&&!(!o&&a.directTouch)&&v(a.options.enableMouseTracking,!0)&&!a.noSharedTooltip})),h(l,(function(a){var b=c(a.points,(function(a){return a.x===d.x&&!a.isNull}));m(b)&&(x&&(b=a.getPoint(b)),f.push(b))}))):f.push(d)),{hoverPoint:d,hoverSeries:t,hoverPoints:f}},runPointActions:function(b,e){var u,o=this.chart,r=o.tooltip&&o.tooltip.options.enabled?o.tooltip:void 0,l=!!r&&r.shared,c=(d=e||o.hoverPoint)&&d.series||o.hoverSeries,d=(c=this.getHoverData(d,c,o.series,"touchmove"!==b.type&&(!!e||c&&c.directTouch&&this.isDirectTouch),l,b,{isBoosting:o.isBoosting})).hoverPoint;if(u=c.hoverPoints,e=(c=c.hoverSeries)&&c.tooltipOptions.followPointer,l=l&&c&&!c.noSharedTooltip,d&&(d!==o.hoverPoint||r&&r.isHidden)){if(h(o.hoverPoints||[],(function(b){-1===a.inArray(b,u)&&b.setState()})),h(u||[],(function(a){a.setState("hover")})),o.hoverSeries!==c&&c.onMouseOver(),o.hoverPoint&&o.hoverPoint.firePointEvent("mouseOut"),!d.series)return;d.firePointEvent("mouseOver"),o.hoverPoints=u,o.hoverPoint=d,r&&r.refresh(l?u:d,b)}else e&&r&&!r.isHidden&&(d=r.getAnchor([{}],b),r.updatePosition({plotX:d[0],plotY:d[1]}));this.unDocMouseMove||(this.unDocMouseMove=t(o.container.ownerDocument,"mousemove",(function(b){var t=n[a.hoverChartIndex];t&&t.pointer.onDocumentMouseMove(b)}))),h(o.axes,(function(t){var e=v(t.crosshair.snap,!0),n=e?a.find(u,(function(a){return a.series[t.coll]===t})):void 0;n||!e?t.drawCrosshair(b,n):t.hideCrosshair()}))},reset:function(a,b){var t=this.chart,e=t.hoverSeries,n=t.hoverPoint,o=t.hoverPoints,r=t.tooltip,u=r&&r.shared?o:n;a&&u&&h(y(u),(function(b){b.series.isCartesian&&void 0===b.plotX&&(a=!1)})),a?r&&u&&(r.refresh(u),r.shared&&o?h(o,(function(a){a.setState(a.state,!0),a.series.isCartesian&&(a.series.xAxis.crosshair&&a.series.xAxis.drawCrosshair(null,a),a.series.yAxis.crosshair&&a.series.yAxis.drawCrosshair(null,a))})):n&&(n.setState(n.state,!0),h(t.axes,(function(a){a.crosshair&&a.drawCrosshair(null,n)})))):(n&&n.onMouseOut(),o&&h(o,(function(a){a.setState()})),e&&e.onMouseOut(),r&&r.hide(b),this.unDocMouseMove&&(this.unDocMouseMove=this.unDocMouseMove()),h(t.axes,(function(a){a.hideCrosshair()})),this.hoverX=t.hoverPoints=t.hoverPoint=null)},scaleGroups:function(a,b){var t,e=this.chart;h(e.series,(function(n){t=a||n.getPlotBox(),n.xAxis&&n.xAxis.zoomEnabled&&n.group&&(n.group.attr(t),n.markerGroup&&(n.markerGroup.attr(t),n.markerGroup.clip(b?e.clipRect:null)),n.dataLabelsGroup&&n.dataLabelsGroup.attr(t))})),e.clipRect.attr(b||e.clipBox)},dragStart:function(a){var b=this.chart;b.mouseIsDown=a.type,b.cancelClick=!1,b.mouseDownX=this.mouseDownX=a.chartX,b.mouseDownY=this.mouseDownY=a.chartY},drag:function(a){var p,b=this.chart,t=b.options.chart,e=a.chartX,n=a.chartY,o=this.zoomHor,r=this.zoomVert,u=b.plotLeft,h=b.plotTop,l=b.plotWidth,c=b.plotHeight,d=this.selectionMarker,g=this.mouseDownX,f=this.mouseDownY,m=t.panKey&&a[t.panKey+"Key"];d&&d.touch||(e<u?e=u:e>u+l&&(e=u+l),n<h?n=h:n>h+c&&(n=h+c),this.hasDragged=Math.sqrt(Math.pow(g-e,2)+Math.pow(f-n,2)),10<this.hasDragged&&(p=b.isInsidePlot(g-u,f-h),b.hasCartesianSeries&&(this.zoomX||this.zoomY)&&p&&!m&&!d&&(this.selectionMarker=d=b.renderer.rect(u,h,o?1:l,r?1:c,0).attr({fill:t.selectionMarkerFill||q("#335cad").setOpacity(.25).get(),class:"highcharts-selection-marker",zIndex:7}).add()),d&&o&&(e-=g,d.attr({width:Math.abs(e),x:(0<e?0:e)+g})),d&&r&&(e=n-f,d.attr({height:Math.abs(e),y:(0<e?0:e)+f})),p&&!d&&t.panning&&b.pan(a,t.panning)))},drop:function(a){var b=this,t=this.chart,e=this.hasPinched;if(this.selectionMarker){var n,c={originalEvent:a,xAxis:[],yAxis:[]},m=this.selectionMarker,x=m.attr?m.attr("x"):m.x,u=m.attr?m.attr("y"):m.y,v=m.attr?m.attr("width"):m.width,y=m.attr?m.attr("height"):m.height;(this.hasDragged||e)&&(h(t.axes,(function(t){if(t.zoomEnabled&&r(t.min)&&(e||b[{xAxis:"zoomX",yAxis:"zoomY"}[t.coll]])){var o=t.horiz,g="touchend"===a.type?t.minPixelPadding:0,p=t.toValue((o?x:u)+g);o=t.toValue((o?x+v:u+y)-g);c[t.coll].push({axis:t,min:Math.min(p,o),max:Math.max(p,o)}),n=!0}})),n&&d(t,"selection",c,(function(a){t.zoom(l(a,e?{animation:!1}:null))}))),f(t.index)&&(this.selectionMarker=this.selectionMarker.destroy()),e&&this.scaleGroups()}t&&f(t.index)&&(o(t.container,{cursor:t._cursor}),t.cancelClick=10<this.hasDragged,t.mouseIsDown=this.hasDragged=this.hasPinched=!1,this.pinchDown=[])},onContainerMouseDown:function(a){2!==(a=this.normalize(a)).button&&(this.zoomOption(a),a.preventDefault&&a.preventDefault(),this.dragStart(a))},onDocumentMouseUp:function(b){n[a.hoverChartIndex]&&n[a.hoverChartIndex].pointer.drop(b)},onDocumentMouseMove:function(a){var b=this.chart,t=this.chartPosition;a=this.normalize(a,t),!t||this.inClass(a.target,"highcharts-tracker")||b.isInsidePlot(a.chartX-b.plotLeft,a.chartY-b.plotTop)||this.reset()},onContainerMouseLeave:function(b){var t=n[a.hoverChartIndex];t&&(b.relatedTarget||b.toElement)&&(t.pointer.reset(),t.pointer.chartPosition=null)},onContainerMouseMove:function(b){var t=this.chart;r(a.hoverChartIndex)&&n[a.hoverChartIndex]&&n[a.hoverChartIndex].mouseIsDown||(a.hoverChartIndex=t.index),(b=this.normalize(b)).returnValue=!1,"mousedown"===t.mouseIsDown&&this.drag(b),!this.inClass(b.target,"highcharts-tracker")&&!t.isInsidePlot(b.chartX-t.plotLeft,b.chartY-t.plotTop)||t.openMenu||this.runPointActions(b)},inClass:function(a,b){for(var t;a;){if(t=e(a,"class")){if(-1!==t.indexOf(b))return!0;if(-1!==t.indexOf("highcharts-container"))return!1}a=a.parentNode}},onTrackerMouseOut:function(a){var b=this.chart.hoverSeries;a=a.relatedTarget||a.toElement,this.isDirectTouch=!1,!b||!a||b.stickyTracking||this.inClass(a,"highcharts-tooltip")||this.inClass(a,"highcharts-series-"+b.index)&&this.inClass(a,"highcharts-tracker")||b.onMouseOut()},onContainerClick:function(a){var b=this.chart,t=b.hoverPoint,e=b.plotLeft,n=b.plotTop;a=this.normalize(a),b.cancelClick||(t&&this.inClass(a.target,"highcharts-tracker")?(d(t.series,"click",l(a,{point:t})),b.hoverPoint&&t.firePointEvent("click",a)):(l(a,this.getCoordinates(a)),b.isInsidePlot(a.chartX-e,a.chartY-n)&&d(b,"click",a)))},setDOMEvents:function(){var b=this,e=b.chart.container,n=e.ownerDocument;e.onmousedown=function(a){b.onContainerMouseDown(a)},e.onmousemove=function(a){b.onContainerMouseMove(a)},e.onclick=function(a){b.onContainerClick(a)},this.unbindContainerMouseLeave=t(e,"mouseleave",b.onContainerMouseLeave),a.unbindDocumentMouseUp||(a.unbindDocumentMouseUp=t(n,"mouseup",b.onDocumentMouseUp)),a.hasTouch&&(e.ontouchstart=function(a){b.onContainerTouchStart(a)},e.ontouchmove=function(a){b.onContainerTouchMove(a)},a.unbindDocumentTouchEnd||(a.unbindDocumentTouchEnd=t(n,"touchend",b.onDocumentTouchEnd)))},destroy:function(){var b=this;b.unDocMouseMove&&b.unDocMouseMove(),this.unbindContainerMouseLeave(),a.chartCount||(a.unbindDocumentMouseUp&&(a.unbindDocumentMouseUp=a.unbindDocumentMouseUp()),a.unbindDocumentTouchEnd&&(a.unbindDocumentTouchEnd=a.unbindDocumentTouchEnd())),clearInterval(b.tooltipTimeout),a.objectEach(b,(function(a,t){b[t]=null}))}}}(c),function(a){var t=a.charts,e=a.each,n=a.extend,q=a.map,o=a.noop,r=a.pick;n(a.Pointer.prototype,{pinchTranslate:function(a,t,e,q,n,o){this.zoomHor&&this.pinchTranslateDirection(!0,a,t,e,q,n,o),this.zoomVert&&this.pinchTranslateDirection(!1,a,t,e,q,n,o)},pinchTranslateDirection:function(a,t,e,q,n,o,r,h){var l,c,d,f=this.chart,b=a?"x":"y",m=a?"X":"Y",x="chart"+m,v=a?"width":"height",y=f["plot"+(a?"Left":"Top")],k=h||1,u=f.inverted,M=f.bounds[a?"h":"v"],w=1===t.length,A=t[0][x],p=e[0][x],S=!w&&t[1][x],g=!w&&e[1][x];(e=function(){!w&&20<Math.abs(A-S)&&(k=h||Math.abs(p-g)/Math.abs(A-S)),c=(y-p)/k+A,l=f["plot"+(a?"Width":"Height")]/k})(),(t=c)<M.min?(t=M.min,d=!0):t+l>M.max&&(t=M.max-l,d=!0),d?(p-=.8*(p-r[b][0]),w||(g-=.8*(g-r[b][1])),e()):r[b]=[p,g],u||(o[b]=c-y,o[v]=l),o=u?1/k:k,n[v]=l,n[b]=t,q[u?a?"scaleY":"scaleX":"scale"+m]=k,q["translate"+m]=o*y+(p-o*A)},pinch:function(a){var t=this,h=t.chart,l=t.pinchDown,c=a.touches,d=c.length,f=t.lastValidTouch,m=t.hasZoom,x=t.selectionMarker,b={},v=1===d&&(t.inClass(a.target,"highcharts-tracker")&&h.runTrackerClick||t.runChartClick),y={};1<d&&(t.initiated=!0),m&&t.initiated&&!v&&a.preventDefault(),q(c,(function(a){return t.normalize(a)})),"touchstart"===a.type?(e(c,(function(a,b){l[b]={chartX:a.chartX,chartY:a.chartY}})),f.x=[l[0].chartX,l[1]&&l[1].chartX],f.y=[l[0].chartY,l[1]&&l[1].chartY],e(h.axes,(function(a){if(a.zoomEnabled){var b=h.bounds[a.horiz?"h":"v"],t=a.minPixelPadding,e=a.toPixels(r(a.options.min,a.dataMin)),n=a.toPixels(r(a.options.max,a.dataMax)),o=Math.max(e,n);b.min=Math.min(a.pos,Math.min(e,n)-t),b.max=Math.max(a.pos+a.len,o+t)}})),t.res=!0):t.followTouchMove&&1===d?this.runPointActions(t.normalize(a)):l.length&&(x||(t.selectionMarker=x=n({destroy:o,touch:!0},h.plotBox)),t.pinchTranslate(l,c,b,x,y,f),t.hasPinched=m,t.scaleGroups(b,y),t.res&&(t.res=!1,this.reset(!1,0)))},touch:function(t,q){var e,n=this.chart;n.index!==a.hoverChartIndex&&this.onContainerMouseLeave({relatedTarget:!0}),a.hoverChartIndex=n.index,1===t.touches.length?(t=this.normalize(t),n.isInsidePlot(t.chartX-n.plotLeft,t.chartY-n.plotTop)&&!n.openMenu?(q&&this.runPointActions(t),"touchmove"===t.type&&(e=!!(q=this.pinchDown)[0]&&4<=Math.sqrt(Math.pow(q[0].chartX-t.chartX,2)+Math.pow(q[0].chartY-t.chartY,2))),r(e,!0)&&this.pinch(t)):q&&this.reset()):2===t.touches.length&&this.pinch(t)},onContainerTouchStart:function(a){this.zoomOption(a),this.touch(a,!0)},onContainerTouchMove:function(a){this.touch(a)},onDocumentTouchEnd:function(e){t[a.hoverChartIndex]&&t[a.hoverChartIndex].pointer.drop(e)}})}(c),function(a){var t=a.addEvent,e=a.charts,n=a.css,q=a.doc,o=a.extend,r=a.noop,h=a.Pointer,l=a.removeEvent,c=a.win,d=a.wrap;if(!a.hasTouch&&(c.PointerEvent||c.MSPointerEvent)){var f={},m=!!c.PointerEvent,x=function(){var t=[];return t.item=function(a){return this[a]},a.objectEach(f,(function(a){t.push({pageX:a.pageX,pageY:a.pageY,target:a.target})})),t},v=function(t,b,n,o){"touch"!==t.pointerType&&t.pointerType!==t.MSPOINTER_TYPE_TOUCH||!e[a.hoverChartIndex]||(o(t),(o=e[a.hoverChartIndex].pointer)[b]({type:n,target:t.currentTarget,preventDefault:r,touches:x()}))};o(h.prototype,{onContainerPointerDown:function(a){v(a,"onContainerTouchStart","touchstart",(function(a){f[a.pointerId]={pageX:a.pageX,pageY:a.pageY,target:a.currentTarget}}))},onContainerPointerMove:function(a){v(a,"onContainerTouchMove","touchmove",(function(a){f[a.pointerId]={pageX:a.pageX,pageY:a.pageY},f[a.pointerId].target||(f[a.pointerId].target=a.currentTarget)}))},onDocumentPointerUp:function(a){v(a,"onDocumentTouchEnd","touchend",(function(a){delete f[a.pointerId]}))},batchMSEvents:function(a){a(this.chart.container,m?"pointerdown":"MSPointerDown",this.onContainerPointerDown),a(this.chart.container,m?"pointermove":"MSPointerMove",this.onContainerPointerMove),a(q,m?"pointerup":"MSPointerUp",this.onDocumentPointerUp)}}),d(h.prototype,"init",(function(a,b,t){a.call(this,b,t),this.hasZoom&&n(b.container,{"-ms-touch-action":"none","touch-action":"none"})})),d(h.prototype,"setDOMEvents",(function(a){a.apply(this),(this.hasZoom||this.followTouchMove)&&this.batchMSEvents(t)})),d(h.prototype,"destroy",(function(a){this.batchMSEvents(l),a.call(this)}))}}(c),function(a){var t=a.addEvent,e=a.css,n=a.discardElement,q=a.defined,o=a.each,r=a.fireEvent,h=a.isFirefox,l=a.marginNames,c=a.merge,d=a.pick,f=a.setAnimation,m=a.stableSort,x=a.win,v=a.wrap;a.Legend=function(a,b){this.init(a,b)},a.Legend.prototype={init:function(a,b){this.chart=a,this.setOptions(b),b.enabled&&(this.render(),t(this.chart,"endResize",(function(){this.legend.positionCheckboxes()})),this.proximate?this.unchartrender=t(this.chart,"render",(function(){this.legend.proximatePositions(),this.legend.positionItems()})):this.unchartrender&&this.unchartrender())},setOptions:function(a){var b=d(a.padding,8);this.options=a,this.itemStyle=a.itemStyle,this.itemHiddenStyle=c(this.itemStyle,a.itemHiddenStyle),this.itemMarginTop=a.itemMarginTop||0,this.padding=b,this.initialItemY=b-5,this.symbolWidth=d(a.symbolWidth,16),this.pages=[],this.proximate="proximate"===a.layout&&!this.chart.inverted},update:function(a,b){var t=this.chart;this.setOptions(c(!0,this.options,a)),this.destroy(),t.isDirtyLegend=t.isDirtyBox=!0,d(b,!0)&&t.redraw(),r(this,"afterUpdate")},colorizeItem:function(a,b){a.legendGroup[b?"removeClass":"addClass"]("highcharts-legend-item-hidden");var t=this.options,e=a.legendItem,n=a.legendLine,o=a.legendSymbol,h=this.itemHiddenStyle.color,l=(t=b?t.itemStyle.color:h,b&&a.color||h),c=a.options&&a.options.marker,u={fill:l};e&&e.css({fill:t,color:t}),n&&n.attr({stroke:l}),o&&(c&&o.isMarker&&(u=a.pointAttribs(),b||(u.stroke=u.fill=h)),o.attr(u)),r(this,"afterColorizeItem",{item:a,visible:b})},positionItems:function(){o(this.allItems,this.positionItem,this),this.chart.isResizing||this.positionCheckboxes()},positionItem:function(a){var t=(b=this.options).symbolPadding,b=!b.rtl,e=(n=a._legendItemPos)[0],n=n[1],o=a.checkbox;(a=a.legendGroup)&&a.element&&a[q(a.translateY)?"animate":"attr"]({translateX:b?e:this.legendWidth-e-2*t-4,translateY:n}),o&&(o.x=e,o.y=n)},destroyItem:function(a){var b=a.checkbox;o(["legendItem","legendLine","legendSymbol","legendGroup"],(function(b){a[b]&&(a[b]=a[b].destroy())})),b&&n(a.checkbox)},destroy:function(){function a(a){this[a]&&(this[a]=this[a].destroy())}o(this.getAllItems(),(function(b){o(["legendItem","legendGroup"],a,b)})),o("clipRect up down pager nav box title group".split(" "),a,this),this.display=null},positionCheckboxes:function(){var b,a=this.group&&this.group.alignAttr,t=this.clipHeight||this.legendHeight,n=this.titleHeight;a&&(b=a.translateY,o(this.allItems,(function(o){var r,h=o.checkbox;h&&(r=b+n+h.y+(this.scrollOffset||0)+3,e(h,{left:a.translateX+o.checkboxOffset+h.x-20+"px",top:r+"px",display:this.proximate||r>b-6&&r<b+t-6?"":"none"}))}),this))},renderTitle:function(){var a=this.options,b=this.padding,t=a.title,e=0;t.text&&(this.title||(this.title=this.chart.renderer.label(t.text,b-3,b-4,null,null,null,a.useHTML,null,"legend-title").attr({zIndex:1}).css(t.style).add(this.group)),e=(a=this.title.getBBox()).height,this.offsetWidth=a.width,this.contentGroup.attr({translateY:e})),this.titleHeight=e},setText:function(t){var b=this.options;t.legendItem.attr({text:b.labelFormat?a.format(b.labelFormat,t,this.chart.time):b.labelFormatter.call(t)})},renderItem:function(a){var b=this.chart,t=b.renderer,e=this.options,n=this.symbolWidth,o=e.symbolPadding,r=this.itemStyle,h=this.itemHiddenStyle,l="horizontal"===e.layout?d(e.itemDistance,20):0,u=!e.rtl,f=a.legendItem,m=!a.series,x=!m&&a.series.drawLegendSymbol?a.series:a,p=x.options,v=(l=n+o+l+((p=this.createCheckboxForItem&&p&&p.showCheckbox)?20:0),e.useHTML),g=a.options.className;f||(a.legendGroup=t.g("legend-item").addClass("highcharts-"+x.type+"-series highcharts-color-"+a.colorIndex+(g?" "+g:"")+(m?" highcharts-series-"+a.index:"")).attr({zIndex:1}).add(this.scrollGroup),a.legendItem=f=t.text("",u?n+o:-o,this.baseline||0,v).css(c(a.visible?r:h)).attr({align:u?"left":"right",zIndex:2}).add(a.legendGroup),this.baseline||(n=r.fontSize,this.fontMetrics=t.fontMetrics(n,f),this.baseline=this.fontMetrics.f+3+this.itemMarginTop,f.attr("y",this.baseline)),this.symbolHeight=e.symbolHeight||this.fontMetrics.f,x.drawLegendSymbol(this,a),this.setItemEvents&&this.setItemEvents(a,f,v),p&&this.createCheckboxForItem(a)),this.colorizeItem(a,a.visible),r.width||f.css({width:(e.itemWidth||e.width||b.spacingBox.width)-l}),this.setText(a),b=f.getBBox(),a.itemWidth=a.checkboxOffset=e.itemWidth||a.legendItemWidth||b.width+l,this.maxItemWidth=Math.max(this.maxItemWidth,a.itemWidth),this.totalItemWidth+=a.itemWidth,this.itemHeight=a.itemHeight=Math.round(a.legendItemHeight||b.height||this.symbolHeight)},layoutItem:function(a){var b=this.options,t=this.padding,e="horizontal"===b.layout,n=a.itemHeight,o=b.itemMarginBottom||0,r=this.itemMarginTop,h=e?d(b.itemDistance,20):0,l=b.width,u=l||this.chart.spacingBox.width-2*t-b.x;b=b.alignColumns&&this.totalItemWidth>u?this.maxItemWidth:a.itemWidth;e&&this.itemX-t+b>u&&(this.itemX=t,this.itemY+=r+this.lastLineHeight+o,this.lastLineHeight=0),this.lastItemY=r+this.itemY+o,this.lastLineHeight=Math.max(n,this.lastLineHeight),a._legendItemPos=[this.itemX,this.itemY],e?this.itemX+=b:(this.itemY+=r+n+o,this.lastLineHeight=n),this.offsetWidth=l||Math.max((e?this.itemX-t-(a.checkbox?0:h):b)+t,this.offsetWidth)},getAllItems:function(){var a=[];return o(this.chart.series,(function(b){var t=b&&b.options;b&&d(t.showInLegend,!q(t.linkedTo)&&void 0,!0)&&(a=a.concat(b.legendItems||("point"===t.legendType?b.data:b)))})),r(this,"afterGetAllItems",{allItems:a}),a},getAlignment:function(){var a=this.options;return this.proximate?a.align.charAt(0)+"tv":a.floating?"":a.align.charAt(0)+a.verticalAlign.charAt(0)+a.layout.charAt(0)},adjustMargins:function(a,b){var t=this.chart,e=this.options,n=this.getAlignment();n&&o([/(lth|ct|rth)/,/(rtv|rm|rbv)/,/(rbh|cb|lbh)/,/(lbv|lm|ltv)/],(function(o,r){o.test(n)&&!q(a[r])&&(t[l[r]]=Math.max(t[l[r]],t.legend[(r+1)%2?"legendHeight":"legendWidth"]+[1,-1,-1,1][r]*e[r%2?"x":"y"]+d(e.margin,12)+b[r]+(0===r&&void 0!==t.options.title.margin?t.titleOffset+t.options.title.margin:0)))}))},proximatePositions:function(){var t=this.chart,b=[],e="left"===this.options.align;o(this.allItems,(function(n){var o,r;o=e,n.xAxis&&n.points&&(n.xAxis.options.reversed&&(o=!o),o=a.find(o?n.points:n.points.slice(0).reverse(),(function(b){return a.isNumber(b.plotY)})),r=n.legendGroup.getBBox().height,b.push({target:n.visible?(o?o.plotY:n.xAxis.height)-.3*r:t.plotHeight,size:r,item:n}))}),this),a.distribute(b,t.plotHeight),o(b,(function(a){a.item._legendItemPos[1]=t.plotTop-t.spacing[0]+a.pos}))},render:function(){var t,e,n,a=this.chart,b=a.renderer,r=this.group,h=this.box,l=this.options,d=this.padding;this.itemX=d,this.itemY=this.initialItemY,this.lastItemY=this.offsetWidth=0,r||(this.group=r=b.g("legend").attr({zIndex:7}).add(),this.contentGroup=b.g().attr({zIndex:1}).add(r),this.scrollGroup=b.g().add(this.contentGroup)),this.renderTitle(),t=this.getAllItems(),m(t,(function(a,b){return(a.options&&a.options.legendIndex||0)-(b.options&&b.options.legendIndex||0)})),l.reversed&&t.reverse(),this.allItems=t,this.display=e=!!t.length,this.itemHeight=this.totalItemWidth=this.maxItemWidth=this.lastLineHeight=0,o(t,this.renderItem,this),o(t,this.layoutItem,this),t=(l.width||this.offsetWidth)+d,n=this.lastItemY+this.lastLineHeight+this.titleHeight,n=this.handleOverflow(n),n+=d,h||(this.box=h=b.rect().addClass("highcharts-legend-box").attr({r:l.borderRadius}).add(r),h.isNew=!0),h.attr({stroke:l.borderColor,"stroke-width":l.borderWidth||0,fill:l.backgroundColor||"none"}).shadow(l.shadow),0<t&&0<n&&(h[h.isNew?"attr":"animate"](h.crisp.call({},{x:0,y:0,width:t,height:n},h.strokeWidth())),h.isNew=!1),h[e?"show":"hide"](),this.legendWidth=t,this.legendHeight=n,e&&(b=a.spacingBox,/(lth|ct|rth)/.test(this.getAlignment())&&(b=c(b,{y:b.y+a.titleOffset+a.options.title.margin})),r.align(c(l,{width:t,height:n,verticalAlign:this.proximate?"top":l.verticalAlign}),!0,b)),this.proximate||this.positionItems()},handleOverflow:function(a){var t,e,b=this,n=(c=this.chart).renderer,r=this.options,h=r.y,l=this.padding,c=c.spacingBox.height+("top"===r.verticalAlign?-h:h)-l,f=(h=r.maxHeight,this.clipRect),u=r.navigation,m=d(u.animation,!0),x=u.arrowSize||12,v=this.nav,p=this.pages,g=this.allItems,y=function(a){"number"==typeof a?f.attr({height:a}):f&&(b.clipRect=f.destroy(),b.contentGroup.clip()),b.contentGroup.div&&(b.contentGroup.div.style.clip=a?"rect("+l+"px,9999px,"+(l+a)+"px,0)":"auto")};return"horizontal"!==r.layout||"middle"===r.verticalAlign||r.floating||(c/=2),h&&(c=Math.min(c,h)),p.length=0,a>c&&!1!==u.enabled?(this.clipHeight=t=Math.max(c-20-this.titleHeight-l,0),this.currentPage=d(this.currentPage,1),this.fullHeight=a,o(g,(function(a,b){var n=a._legendItemPos[1],o=Math.round(a.legendItem.getBBox().height),r=p.length;(!r||n-p[r-1]>t&&(e||n)!==p[r-1])&&(p.push(e||n),r++),a.pageIx=r-1,e&&(g[b-1].pageIx=r-1),b===g.length-1&&n+o-p[r-1]>t&&(p.push(n),a.pageIx=r),n!==e&&(e=n)})),f||(f=b.clipRect=n.clipRect(0,l,9999,0),b.contentGroup.clip(f)),y(t),v||(this.nav=v=n.g().attr({zIndex:1}).add(this.group),this.up=n.symbol("triangle",0,0,x,x).on("click",(function(){b.scroll(-1,m)})).add(v),this.pager=n.text("",15,10).addClass("highcharts-legend-navigation").css(u.style).add(v),this.down=n.symbol("triangle-down",0,0,x,x).on("click",(function(){b.scroll(1,m)})).add(v)),b.scroll(0),a=c):v&&(y(),this.nav=v.destroy(),this.scrollGroup.attr({translateY:1}),this.clipHeight=0),a},scroll:function(a,b){var t=this.pages,e=t.length;a=this.currentPage+a;var n=this.clipHeight,o=this.options.navigation,r=this.pager,h=this.padding;a>e&&(a=e),0<a&&(void 0!==b&&f(b,this.chart),this.nav.attr({translateX:h,translateY:n+this.padding+7+this.titleHeight,visibility:"visible"}),this.up.attr({class:1===a?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"}),r.attr({text:a+"/"+e}),this.down.attr({x:18+this.pager.getBBox().width,class:a===e?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"}),this.up.attr({fill:1===a?o.inactiveColor:o.activeColor}).css({cursor:1===a?"default":"pointer"}),this.down.attr({fill:a===e?o.inactiveColor:o.activeColor}).css({cursor:a===e?"default":"pointer"}),this.scrollOffset=-t[a-1]+this.initialItemY,this.scrollGroup.animate({translateY:this.scrollOffset}),this.currentPage=a,this.positionCheckboxes())}},a.LegendSymbolMixin={drawRectangle:function(a,b){var t=a.symbolHeight,e=a.options.squareSymbol;b.legendSymbol=this.chart.renderer.rect(e?(a.symbolWidth-t)/2:0,a.baseline-t+1,e?t:a.symbolWidth,t,d(a.options.symbolRadius,t/2)).addClass("highcharts-point").attr({zIndex:3}).add(b.legendGroup)},drawLineMarker:function(a){var t,b=this.options,e=b.marker,n=a.symbolWidth,o=a.symbolHeight,r=o/2,h=this.chart.renderer,l=this.legendGroup;a=a.baseline-Math.round(.3*a.fontMetrics.b),t={"stroke-width":b.lineWidth||0},b.dashStyle&&(t.dashstyle=b.dashStyle),this.legendLine=h.path(["M",0,a,"L",n,a]).addClass("highcharts-graph").attr(t).add(l),e&&!1!==e.enabled&&n&&(b=Math.min(d(e.radius,r),r),0===this.symbol.indexOf("url")&&(e=c(e,{width:o,height:o}),b=0),this.legendSymbol=e=h.symbol(this.symbol,n/2-b,a-b,2*b,2*b,e).addClass("highcharts-point").add(l),e.isMarker=!0)}},(/Trident\/7\.0/.test(x.navigator.userAgent)||h)&&v(a.Legend.prototype,"positionItem",(function(a,b){var t=this,e=function(){b._legendItemPos&&a.call(t,b)};e(),setTimeout(e)}))}(c),function(a){var t=a.addEvent,e=a.animate,n=a.animObject,q=a.attr,o=a.doc,r=a.Axis,h=a.createElement,l=a.defaultOptions,c=a.discardElement,d=a.charts,f=a.css,m=a.defined,x=a.each,v=a.extend,y=a.find,b=a.fireEvent,k=a.grep,M=a.isNumber,w=a.isObject,A=a.isString,S=a.Legend,T=a.marginNames,P=a.merge,u=a.objectEach,C=a.Pointer,L=a.pick,O=a.pInt,p=a.removeEvent,D=a.seriesTypes,g=a.splat,I=a.syncTimeout,B=a.win,z=a.Chart=function(){this.getArgs.apply(this,arguments)};a.chart=function(a,b,g){return new z(a,b,g)},v(z.prototype,{callbacks:[],getArgs:function(){var a=[].slice.call(arguments);(A(a[0])||a[0].nodeName)&&(this.renderTo=a.shift()),this.init(a[0],a[1])},init:function(g,e){var n,o,r=g.series,p=g.plotOptions||{};b(this,"init",{args:arguments},(function(){for(o in g.series=null,(n=P(l,g)).plotOptions)n.plotOptions[o].tooltip=p[o]&&P(p[o].tooltip)||void 0;n.tooltip.userOptions=g.chart&&g.chart.forExport&&g.tooltip.userOptions||g.tooltip,n.series=g.series=r,this.userOptions=g;var h=n.chart,c=h.events;this.margin=[],this.spacing=[],this.bounds={h:{},v:{}},this.labelCollectors=[],this.callback=e,this.isResizing=0,this.options=n,this.axes=[],this.series=[],this.time=g.time&&a.keys(g.time).length?new a.Time(g.time):a.time,this.hasCartesianSeries=h.showAxes;var f=this;f.index=d.length,d.push(f),a.chartCount++,c&&u(c,(function(a,b){t(f,b,a)})),f.xAxis=[],f.yAxis=[],f.pointCount=f.colorCounter=f.symbolCounter=0,b(f,"afterInit"),f.firstRender()}))},initSeries:function(b){var g=this.options.chart;return(g=D[b.type||g.type||g.defaultSeriesType])||a.error(17,!0),(g=new g).init(this,b),g},orderSeries:function(a){var b=this.series;for(a=a||0;a<b.length;a++)b[a]&&(b[a].index=a,b[a].name=b[a].getName())},isInsidePlot:function(a,b,g){var t=g?b:a;return a=g?a:b,0<=t&&t<=this.plotWidth&&0<=a&&a<=this.plotHeight},redraw:function(g){b(this,"beforeRedraw");var t,e,n,o=this.axes,r=this.series,h=this.pointer,p=this.legend,l=this.userOptions.legend,c=this.isDirtyLegend,d=this.hasCartesianSeries,f=this.isDirtyBox,u=this.renderer,m=u.isHidden(),y=[];for(this.setResponsive&&this.setResponsive(!1),a.setAnimation(g,this),m&&this.temporaryDisplay(),this.layOutTitles(),g=r.length;g--;)if((n=r[g]).options.stacking&&(t=!0,n.isDirty)){e=!0;break}if(e)for(g=r.length;g--;)(n=r[g]).options.stacking&&(n.isDirty=!0);x(r,(function(a){a.isDirty&&("point"===a.options.legendType?(a.updateTotals&&a.updateTotals(),c=!0):l&&(l.labelFormatter||l.labelFormat)&&(c=!0)),a.isDirtyData&&b(a,"updatedData")})),c&&p&&p.options.enabled&&(p.render(),this.isDirtyLegend=!1),t&&this.getStacks(),d&&x(o,(function(a){a.updateNames(),a.updateYNames&&a.updateYNames(),a.setScale()})),this.getMargins(),d&&(x(o,(function(a){a.isDirty&&(f=!0)})),x(o,(function(a){var g=a.min+","+a.max;a.extKey!==g&&(a.extKey=g,y.push((function(){b(a,"afterSetExtremes",v(a.eventArgs,a.getExtremes())),delete a.eventArgs}))),(f||t)&&a.redraw()}))),f&&this.drawChartBox(),b(this,"predraw"),x(r,(function(a){(f||a.isDirty)&&a.visible&&a.redraw(),a.isDirtyData=!1})),h&&h.reset(!0),u.draw(),b(this,"redraw"),b(this,"render"),m&&this.temporaryDisplay(!0),x(y,(function(a){a.call()}))},get:function(a){function b(b){return b.id===a||b.options&&b.options.id===a}var g,t,e=this.series;for(g=y(this.axes,b)||y(this.series,b),t=0;!g&&t<e.length;t++)g=y(e[t].points||[],b);return g},getAxes:function(){var a=this,t=(e=this.options).xAxis=g(e.xAxis||{}),e=e.yAxis=g(e.yAxis||{});b(this,"getAxes"),x(t,(function(a,b){a.index=b,a.isX=!0})),x(e,(function(a,b){a.index=b})),t=t.concat(e),x(t,(function(b){new r(a,b)})),b(this,"afterGetAxes")},getSelectedPoints:function(){var a=[];return x(this.series,(function(b){a=a.concat(k(b.data||[],(function(a){return a.selected})))})),a},getSelectedSeries:function(){return k(this.series,(function(a){return a.selected}))},setTitle:function(a,b,g){var t,e=this,n=e.options;t=n.title=P({style:{color:"#333333",fontSize:n.isStock?"16px":"18px"}},n.title,a),n=n.subtitle=P({style:{color:"#666666"}},n.subtitle,b),x([["title",a,t],["subtitle",b,n]],(function(a,b){var g=a[0],t=e[g],n=a[1];a=a[2],t&&n&&(e[g]=t=t.destroy()),a&&!t&&(e[g]=e.renderer.text(a.text,0,0,a.useHTML).attr({align:a.align,class:"highcharts-"+g,zIndex:a.zIndex||4}).add(),e[g].update=function(a){e.setTitle(!b&&a,b&&a)},e[g].css(a.style))})),e.layOutTitles(g)},layOutTitles:function(a){var g,b=0,t=this.renderer,e=this.spacingBox;x(["title","subtitle"],(function(a){var n,g=this[a],o=this.options[a];a="title"===a?-3:o.verticalAlign?0:b+2,g&&(n=o.style.fontSize,n=t.fontMetrics(n,g).b,g.css({width:(o.width||e.width+o.widthAdjust)+"px"}).align(v({y:a+n},o),!1,"spacingBox"),o.floating||o.verticalAlign||(b=Math.ceil(b+g.getBBox(o.useHTML).height)))}),this),g=this.titleOffset!==b,this.titleOffset=b,!this.isDirtyBox&&g&&(this.isDirtyBox=this.isDirtyLegend=g,this.hasRendered&&L(a,!0)&&this.isDirtyBox&&this.redraw())},getChartSize:function(){var g=(b=this.options.chart).width,b=b.height,t=this.renderTo;m(g)||(this.containerWidth=a.getStyle(t,"width")),m(b)||(this.containerHeight=a.getStyle(t,"height")),this.chartWidth=Math.max(0,g||this.containerWidth||600),this.chartHeight=Math.max(0,a.relativeLength(b,this.chartWidth)||(1<this.containerHeight?this.containerHeight:400))},temporaryDisplay:function(b){var g=this.renderTo;if(b)for(;g&&g.style;)g.hcOrigStyle&&(a.css(g,g.hcOrigStyle),delete g.hcOrigStyle),g.hcOrigDetached&&(o.body.removeChild(g),g.hcOrigDetached=!1),g=g.parentNode;else for(;g&&g.style&&(o.body.contains(g)||g.parentNode||(g.hcOrigDetached=!0,o.body.appendChild(g)),("none"===a.getStyle(g,"display",!1)||g.hcOricDetached)&&(g.hcOrigStyle={display:g.style.display,height:g.style.height,overflow:g.style.overflow},b={display:"block",overflow:"hidden"},g!==this.renderTo&&(b.height=0),a.css(g,b),g.offsetWidth||g.style.setProperty("display","block","important")),(g=g.parentNode)!==o.body););},setClassName:function(a){this.container.className="highcharts-container "+(a||"")},getContainer:function(){var g,t,p,e=this.options,n=e.chart;g=this.renderTo;var r,l=a.uniqueKey();g||(this.renderTo=g=n.renderTo),A(g)&&(this.renderTo=g=o.getElementById(g)),g||a.error(13,!0),t=O(q(g,"data-highcharts-chart")),M(t)&&d[t]&&d[t].hasRendered&&d[t].destroy(),q(g,"data-highcharts-chart",this.index),g.innerHTML="",n.skipClone||g.offsetWidth||this.temporaryDisplay(),this.getChartSize(),t=this.chartWidth,p=this.chartHeight,r=v({position:"relative",overflow:"hidden",width:t+"px",height:p+"px",textAlign:"left",lineHeight:"normal",zIndex:0,"-webkit-tap-highlight-color":"rgba(0,0,0,0)"},n.style),this.container=g=h("div",{id:l},r,g),this._cursor=g.style.cursor,this.renderer=new(a[n.renderer]||a.Renderer)(g,t,p,null,n.forExport,e.exporting&&e.exporting.allowHTML),this.setClassName(n.className),this.renderer.setStyle(n.style),this.renderer.chartIndex=this.index,b(this,"afterGetContainer")},getMargins:function(a){var g=this.spacing,t=this.margin,e=this.titleOffset;this.resetMargins(),e&&!m(t[0])&&(this.plotTop=Math.max(this.plotTop,e+this.options.title.margin+g[0])),this.legend&&this.legend.display&&this.legend.adjustMargins(t,g),b(this,"getMargins"),a||this.getAxisMargins()},getAxisMargins:function(){var a=this,b=a.axisOffset=[0,0,0,0],g=a.margin;a.hasCartesianSeries&&x(a.axes,(function(a){a.visible&&a.getOffset()})),x(T,(function(t,e){m(g[e])||(a[t]+=b[e])})),a.setChartSize()},reflow:function(b){var g=this,t=g.options.chart,e=g.renderTo,n=m(t.width)&&m(t.height),p=t.width||a.getStyle(e,"width");t=t.height||a.getStyle(e,"height"),e=b?b.target:B;n||g.isPrinting||!p||!t||e!==B&&e!==o||(p===g.containerWidth&&t===g.containerHeight||(a.clearTimeout(g.reflowTimeout),g.reflowTimeout=I((function(){g.container&&g.setSize(void 0,void 0,!1)}),b?100:0)),g.containerWidth=p,g.containerHeight=t)},setReflow:function(a){var b=this;!1===a||this.unbindReflow?!1===a&&this.unbindReflow&&(this.unbindReflow=this.unbindReflow()):(this.unbindReflow=t(B,"resize",(function(a){b.reflow(a)})),t(this,"destroy",this.unbindReflow))},setSize:function(g,t,o){var r=this,p=r.renderer;r.isResizing+=1,a.setAnimation(o,r),r.oldChartHeight=r.chartHeight,r.oldChartWidth=r.chartWidth,void 0!==g&&(r.options.chart.width=g),void 0!==t&&(r.options.chart.height=t),r.getChartSize(),((g=p.globalAnimation)?e:f)(r.container,{width:r.chartWidth+"px",height:r.chartHeight+"px"},g),r.setChartSize(!0),p.setSize(r.chartWidth,r.chartHeight,o),x(r.axes,(function(a){a.isDirty=!0,a.setScale()})),r.isDirtyLegend=!0,r.isDirtyBox=!0,r.layOutTitles(),r.getMargins(),r.redraw(o),r.oldChartHeight=null,b(r,"resize"),I((function(){r&&b(r,"endResize",null,(function(){--r.isResizing}))}),n(g).duration)},setChartSize:function(a){var t,e,n,o,g=this.inverted,r=this.renderer,h=this.chartWidth,l=this.chartHeight,p=this.options.chart,c=this.spacing,d=this.clipOffset;this.plotLeft=t=Math.round(this.plotLeft),this.plotTop=e=Math.round(this.plotTop),this.plotWidth=n=Math.max(0,Math.round(h-t-this.marginRight)),this.plotHeight=o=Math.max(0,Math.round(l-e-this.marginBottom)),this.plotSizeX=g?o:n,this.plotSizeY=g?n:o,this.plotBorderWidth=p.plotBorderWidth||0,this.spacingBox=r.spacingBox={x:c[3],y:c[0],width:h-c[3]-c[1],height:l-c[0]-c[2]},this.plotBox=r.plotBox={x:t,y:e,width:n,height:o},h=2*Math.floor(this.plotBorderWidth/2),g=Math.ceil(Math.max(h,d[3])/2),r=Math.ceil(Math.max(h,d[0])/2),this.clipBox={x:g,y:r,width:Math.floor(this.plotSizeX-Math.max(h,d[1])/2-g),height:Math.max(0,Math.floor(this.plotSizeY-Math.max(h,d[2])/2-r))},a||x(this.axes,(function(a){a.setAxisSize(),a.setAxisTranslation()})),b(this,"afterSetChartSize",{skipAxes:a})},resetMargins:function(){var a=this,b=a.options.chart;x(["margin","spacing"],(function(g){var t=b[g],e=w(t)?t:[t,t,t,t];x(["Top","Right","Bottom","Left"],(function(t,n){a[g][n]=L(b[g+t],e[n])}))})),x(T,(function(b,g){a[b]=L(a.margin[g],a.spacing[g])})),a.axisOffset=[0,0,0,0],a.clipOffset=[0,0,0,0]},drawChartBox:function(){var t,e,a=this.options.chart,g=this.renderer,n=this.chartWidth,o=this.chartHeight,r=this.chartBackground,h=this.plotBackground,p=this.plotBorder,l=this.plotBGImage,c=a.backgroundColor,d=a.plotBackgroundColor,f=a.plotBackgroundImage,m=this.plotLeft,x=this.plotTop,u=this.plotWidth,v=this.plotHeight,y=this.plotBox,k=this.clipRect,M=this.clipBox,w="animate";r||(this.chartBackground=r=g.rect().addClass("highcharts-background").add(),w="attr"),e=(t=a.borderWidth||0)+(a.shadow?8:0),c={fill:c||"none"},(t||r["stroke-width"])&&(c.stroke=a.borderColor,c["stroke-width"]=t),r.attr(c).shadow(a.shadow),r[w]({x:e/2,y:e/2,width:n-e-t%2,height:o-e-t%2,r:a.borderRadius}),w="animate",h||(w="attr",this.plotBackground=h=g.rect().addClass("highcharts-plot-background").add()),h[w](y),h.attr({fill:d||"none"}).shadow(a.plotShadow),f&&(l?l.animate(y):this.plotBGImage=g.image(f,m,x,u,v).add()),k?k.animate({width:M.width,height:M.height}):this.clipRect=g.clipRect(M),w="animate",p||(w="attr",this.plotBorder=p=g.rect().addClass("highcharts-plot-border").attr({zIndex:1}).add()),p.attr({stroke:a.plotBorderColor,"stroke-width":a.plotBorderWidth||0,fill:"none"}),p[w](p.crisp({x:m,y:x,width:u,height:v},-p.strokeWidth())),this.isDirtyBox=!1,b(this,"afterDrawChartBox")},propFromSeries:function(){var g,t,e,a=this,b=a.options.chart,n=a.options.series;x(["inverted","angular","polar"],(function(o){for(g=D[b.type||b.defaultSeriesType],e=b[o]||g&&g.prototype[o],t=n&&n.length;!e&&t--;)(g=D[n[t].type])&&g.prototype[o]&&(e=!0);a[o]=e}))},linkSeries:function(){var a=this,g=a.series;x(g,(function(a){a.linkedSeries.length=0})),x(g,(function(b){var g=b.options.linkedTo;A(g)&&(g=":previous"===g?a.series[b.index-1]:a.get(g))&&g.linkedParent!==b&&(g.linkedSeries.push(b),b.linkedParent=g,b.visible=L(b.options.visible,g.options.visible,b.visible))})),b(this,"afterLinkSeries")},renderSeries:function(){x(this.series,(function(a){a.translate(),a.render()}))},renderLabels:function(){var a=this,b=a.options.labels;b.items&&x(b.items,(function(g){var t=v(b.style,g.style),e=O(t.left)+a.plotLeft,n=O(t.top)+a.plotTop+12;delete t.left,delete t.top,a.renderer.text(g.html,e,n).attr({zIndex:2}).css(t).add()}))},render:function(){var t,e,n,a=this.axes,b=this.renderer,g=this.options;this.setTitle(),this.legend=new S(this,g.legend),this.getStacks&&this.getStacks(),this.getMargins(!0),this.setChartSize(),g=this.plotWidth,t=this.plotHeight=Math.max(this.plotHeight-21,0),x(a,(function(a){a.setScale()})),this.getAxisMargins(),e=1.1<g/this.plotWidth,n=1.05<t/this.plotHeight,(e||n)&&(x(a,(function(a){(a.horiz&&e||!a.horiz&&n)&&a.setTickInterval(!0)})),this.getMargins()),this.drawChartBox(),this.hasCartesianSeries&&x(a,(function(a){a.visible&&a.render()})),this.seriesGroup||(this.seriesGroup=b.g("series-group").attr({zIndex:3}).add()),this.renderSeries(),this.renderLabels(),this.addCredits(),this.setResponsive&&this.setResponsive(),this.hasRendered=!0},addCredits:function(a){var b=this;(a=P(!0,this.options.credits,a)).enabled&&!this.credits&&(this.credits=this.renderer.text(a.text+(this.mapCredits||""),0,0).addClass("highcharts-credits").on("click",(function(){a.href&&(B.location.href=a.href)})).attr({align:a.position.align,zIndex:8}).css(a.style).add().align(a.position),this.credits.update=function(a){b.credits=b.credits.destroy(),b.addCredits(a)})},destroy:function(){var t,g=this,e=g.axes,n=g.series,o=g.container,r=o&&o.parentNode;for(b(g,"destroy"),g.renderer.forExport?a.erase(d,g):d[g.index]=void 0,a.chartCount--,g.renderTo.removeAttribute("data-highcharts-chart"),p(g),t=e.length;t--;)e[t]=e[t].destroy();for(this.scroller&&this.scroller.destroy&&this.scroller.destroy(),t=n.length;t--;)n[t]=n[t].destroy();x("title subtitle chartBackground plotBackground plotBGImage plotBorder seriesGroup clipRect credits pointer rangeSelector legend resetZoomButton tooltip renderer".split(" "),(function(a){var b=g[a];b&&b.destroy&&(g[a]=b.destroy())})),o&&(o.innerHTML="",p(o),r&&c(o)),u(g,(function(a,b){delete g[b]}))},firstRender:function(){var a=this,g=a.options;a.isReadyToRender&&!a.isReadyToRender()||(a.getContainer(),a.resetMargins(),a.setChartSize(),a.propFromSeries(),a.getAxes(),x(g.series||[],(function(b){a.initSeries(b)})),a.linkSeries(),b(a,"beforeRender"),C&&(a.pointer=new C(a,g)),a.render(),!a.renderer.imgCount&&a.onload&&a.onload(),a.temporaryDisplay(!0))},onload:function(){x([this.callback].concat(this.callbacks),(function(a){a&&void 0!==this.index&&a.apply(this,[this])}),this),b(this,"load"),b(this,"render"),m(this.index)&&this.setReflow(this.options.chart.reflow),this.onload=null}})}(c),function(a){var t=a.addEvent,e=a.Chart,n=a.each;t(e,"afterSetChartSize",(function(q){var t=this.options.chart.scrollablePlotArea;(t=t&&t.minWidth)&&!this.renderer.forExport&&(this.scrollablePixels=t=Math.max(0,t-this.chartWidth))&&(this.plotWidth+=t,this.clipBox.width+=t,q.skipAxes||n(this.axes,(function(t){1===t.side?t.getPlotLinePath=function(){var q,e=this.right;return this.right=e-t.chart.scrollablePixels,q=a.Axis.prototype.getPlotLinePath.apply(this,arguments),this.right=e,q}:(t.setAxisSize(),t.setAxisTranslation())})))})),t(e,"render",(function(){this.scrollablePixels?(this.setUpScrolling&&this.setUpScrolling(),this.applyFixed()):this.fixedDiv&&this.applyFixed()})),e.prototype.setUpScrolling=function(){this.scrollingContainer=a.createElement("div",{className:"highcharts-scrolling"},{overflowX:"auto",WebkitOverflowScrolling:"touch"},this.renderTo),this.innerContainer=a.createElement("div",{className:"highcharts-inner-container"},null,this.scrollingContainer),this.innerContainer.appendChild(this.container),this.setUpScrolling=null},e.prototype.applyFixed=function(){var t,e,q=this.container;(n=!this.fixedDiv)&&(this.fixedDiv=a.createElement("div",{className:"highcharts-fixed"},{position:"absolute",overflow:"hidden",pointerEvents:"none",zIndex:2},null,!0),this.renderTo.insertBefore(this.fixedDiv,this.renderTo.firstChild),this.fixedRenderer=t=new a.Renderer(this.fixedDiv,0,0),this.scrollableMask=t.path().attr({fill:a.color(this.options.chart.backgroundColor||"#fff").setOpacity(.85).get(),zIndex:-1}).addClass("highcharts-scrollable-mask").add(),a.each([this.inverted?".highcharts-xaxis":".highcharts-yaxis",this.inverted?".highcharts-xaxis-labels":".highcharts-yaxis-labels",".highcharts-contextbutton",".highcharts-credits",".highcharts-legend",".highcharts-subtitle",".highcharts-title",".highcharts-legend-checkbox"],(function(e){a.each(q.querySelectorAll(e),(function(a){(a.namespaceURI===t.SVG_NS?t.box:t.box.parentNode).appendChild(a),a.style.pointerEvents="auto"}))}))),this.fixedRenderer.setSize(this.chartWidth,this.chartHeight),e=this.chartWidth+this.scrollablePixels,a.stop(this.container),this.container.style.width=e+"px",this.renderer.boxWrapper.attr({width:e,height:this.chartHeight,viewBox:[0,0,e,this.chartHeight].join(" ")}),this.chartBackground.attr({width:e}),n&&((e=this.options.chart.scrollablePlotArea).scrollPositionX&&(this.scrollingContainer.scrollLeft=this.scrollablePixels*e.scrollPositionX)),n=this.axisOffset,e=this.plotTop-n[0]-1;var n=this.plotTop+this.plotHeight+n[2],o=this.plotLeft+this.plotWidth-this.scrollablePixels;this.scrollableMask.attr({d:this.scrollablePixels?["M",0,e,"L",this.plotLeft-1,e,"L",this.plotLeft-1,n,"L",0,n,"Z","M",o,e,"L",this.chartWidth,e,"L",this.chartWidth,n,"L",o,n,"Z"]:["M",0,0]})}}(c),function(a){var t,e=a.each,n=a.extend,q=a.erase,o=a.fireEvent,r=a.format,h=a.isArray,l=a.isNumber,c=a.pick,d=a.uniqueKey,f=a.defined,m=a.removeEvent;a.Point=t=function(){},a.Point.prototype={init:function(a,t,e){return this.series=a,this.color=a.color,this.applyOptions(t,e),this.id=f(this.id)?this.id:d(),a.options.colorByPoint?(t=a.options.colors||a.chart.options.colors,this.color=this.color||t[a.colorCounter],t=t.length,e=a.colorCounter,a.colorCounter++,a.colorCounter===t&&(a.colorCounter=0)):e=a.colorIndex,this.colorIndex=c(this.colorIndex,e),a.chart.pointCount++,o(this,"afterInit"),this},applyOptions:function(a,e){var o=this.series,b=o.options.pointValKey||o.pointValKey;return a=t.prototype.optionsToObject.call(this,a),n(this,a),this.options=this.options?n(this.options,a):a,a.group&&delete this.group,a.dataLabels&&delete this.dataLabels,b&&(this.y=this[b]),this.isNull=c(this.isValid&&!this.isValid(),null===this.x||!l(this.y,!0)),this.selected&&(this.state="select"),"name"in this&&void 0===e&&o.xAxis&&o.xAxis.hasNames&&(this.x=o.xAxis.nameToX(this)),void 0===this.x&&o&&(this.x=void 0===e?o.autoIncrement(this):e),this},setNestedProperty:function(t,e,n){return n=n.split("."),a.reduce(n,(function(b,t,n,o){return b[t]=o.length-1===n?e:a.isObject(b[t],!0)?b[t]:{},b[t]}),t),t},optionsToObject:function(t){var e={},n=this.series,b=n.options.keys,o=b||n.pointArrayMap||["y"],r=o.length,c=0,d=0;if(l(t)||null===t)e[o[0]]=t;else if(h(t))for(!b&&t.length>r&&("string"===(n=typeof t[0])?e.name=t[0]:"number"===n&&(e.x=t[0]),c++);d<r;)b&&void 0===t[c]||(0<o[d].indexOf(".")?a.Point.prototype.setNestedProperty(e,t[c],o[d]):e[o[d]]=t[c]),c++,d++;else"object"==typeof t&&(e=t,t.dataLabels&&(n._hasPointLabels=!0),t.marker&&(n._hasPointMarkers=!0));return e},getClassName:function(){return"highcharts-point"+(this.selected?" highcharts-point-select":"")+(this.negative?" highcharts-negative":"")+(this.isNull?" highcharts-null-point":"")+(void 0!==this.colorIndex?" highcharts-color-"+this.colorIndex:"")+(this.options.className?" "+this.options.className:"")+(this.zone&&this.zone.className?" "+this.zone.className.replace("highcharts-negative",""):"")},getZone:function(){var b,t=(a=this.series).zones,a=a.zoneAxis||"y",e=0;for(b=t[e];this[a]>=b.value;)b=t[++e];return this.nonZonedColor||(this.nonZonedColor=this.color),this.color=b&&b.color&&!this.options.color?b.color:this.nonZonedColor,b},destroy:function(){var t,a=this.series.chart,e=a.hoverPoints;for(t in a.pointCount--,e&&(this.setState(),q(e,this),e.length||(a.hoverPoints=null)),this===a.hoverPoint&&this.onMouseOut(),(this.graphic||this.dataLabel||this.dataLabels)&&(m(this),this.destroyElements()),this.legendItem&&a.legend.destroyItem(this),this)this[t]=null},destroyElements:function(){for(var t,a=["graphic","dataLabel","dataLabelUpper","connector","shadowGroup"],n=6;n--;)this[t=a[n]]&&(this[t]=this[t].destroy());this.dataLabels&&(e(this.dataLabels,(function(a){a.element&&a.destroy()})),delete this.dataLabels),this.connectors&&(e(this.connectors,(function(a){a.element&&a.destroy()})),delete this.connectors)},getLabelConfig:function(){return{x:this.category,y:this.y,color:this.color,colorIndex:this.colorIndex,key:this.name||this.category,series:this.series,point:this,percentage:this.percentage,total:this.total||this.stackTotal}},tooltipFormatter:function(a){var t=this.series,n=t.tooltipOptions,b=c(n.valueDecimals,""),o=n.valuePrefix||"",h=n.valueSuffix||"";return e(t.pointArrayMap||["y"],(function(t){t="{point."+t,(o||h)&&(a=a.replace(RegExp(t+"}","g"),o+t+"}"+h)),a=a.replace(RegExp(t+"}","g"),t+":,."+b+"f}")})),r(a,{point:this,series:this.series},t.chart.time)},firePointEvent:function(a,t,e){var b=this,n=this.series.options;(n.point.events[a]||b.options&&b.options.events&&b.options.events[a])&&this.importEvents(),"click"===a&&n.allowPointSelect&&(e=function(a){b.select&&b.select(null,a.ctrlKey||a.metaKey||a.shiftKey)}),o(this,a,t,e)},visible:!0}}(c),function(a){var t=a.addEvent,e=a.animObject,n=a.arrayMax,q=a.arrayMin,o=a.correctFloat,r=a.defaultOptions,h=a.defaultPlotOptions,l=a.defined,c=a.each,d=a.erase,f=a.extend,m=a.fireEvent,x=a.grep,v=a.isArray,y=a.isNumber,b=a.isString,k=a.merge,M=a.objectEach,w=a.pick,A=a.removeEvent,S=a.splat,T=a.SVGElement,P=a.syncTimeout,u=a.win;a.Series=a.seriesType("line",null,{lineWidth:2,allowPointSelect:!1,showCheckbox:!1,animation:{duration:1e3},events:{},marker:{lineWidth:0,lineColor:"#ffffff",enabledThreshold:2,radius:4,states:{normal:{animation:!0},hover:{animation:{duration:50},enabled:!0,radiusPlus:2,lineWidthPlus:1},select:{fillColor:"#cccccc",lineColor:"#000000",lineWidth:2}}},point:{events:{}},dataLabels:{align:"center",formatter:function(){return null===this.y?"":a.numberFormat(this.y,-1)},style:{fontSize:"11px",fontWeight:"bold",color:"contrast",textOutline:"1px contrast"},verticalAlign:"bottom",x:0,y:0,padding:5},cropThreshold:300,pointRange:0,softThreshold:!0,states:{normal:{animation:!0},hover:{animation:{duration:50},lineWidthPlus:1,marker:{},halo:{size:10,opacity:.25}},select:{}},stickyTracking:!0,turboThreshold:1e3,findNearestPointBy:"x"},{isCartesian:!0,pointClass:a.Point,sorted:!0,requireSorting:!0,directTouch:!1,axisTypes:["xAxis","yAxis"],colorCounter:0,parallelArrays:["x","y"],coll:"series",init:function(a,b){var e,g,n=this,o=a.series;n.chart=a,n.options=b=n.setOptions(b),n.linkedSeries=[],n.bindAxes(),f(n,{name:b.name,state:"",visible:!1!==b.visible,selected:!0===b.selected}),e=b.events,M(e,(function(a,b){t(n,b,a)})),(e&&e.click||b.point&&b.point.events&&b.point.events.click||b.allowPointSelect)&&(a.runTrackerClick=!0),n.getColor(),n.getSymbol(),c(n.parallelArrays,(function(a){n[a+"Data"]=[]})),n.setData(b.data,!1),n.isCartesian&&(a.hasCartesianSeries=!0),o.length&&(g=o[o.length-1]),n._i=w(g&&g._i,-1)+1,a.orderSeries(this.insert(o)),m(this,"afterInit")},insert:function(a){var t,b=this.options.index;if(y(b)){for(t=a.length;t--;)if(b>=w(a[t].options.index,a[t]._i)){a.splice(t+1,0,this);break}-1===t&&a.unshift(this),t+=1}else a.push(this);return w(t,a.length-1)},bindAxes:function(){var t,b=this,e=b.options,n=b.chart;c(b.axisTypes||[],(function(o){c(n[o],(function(a){t=a.options,(e[o]===t.index||void 0!==e[o]&&e[o]===t.id||void 0===e[o]&&0===t.index)&&(b.insert(a.series),b[o]=a,a.isDirty=!0)})),b[o]||b.optionalAxis===o||a.error(18,!0)}))},updateParallelArrays:function(a,b){var t=a.series,e=arguments,n=y(b)?function(g){var e="y"===g&&t.toYData?t.toYData(a):a[g];t[g+"Data"][b]=e}:function(a){Array.prototype[b].apply(t[a+"Data"],Array.prototype.slice.call(e,2))};c(t.parallelArrays,n)},autoIncrement:function(){var t,a=this.options,b=this.xIncrement,e=a.pointIntervalUnit,n=this.chart.time;b=w(b,a.pointStart,0);return this.pointInterval=t=w(this.pointInterval,a.pointInterval,1),e&&(a=new n.Date(b),"day"===e?n.set("Date",a,n.get("Date",a)+t):"month"===e?n.set("Month",a,n.get("Month",a)+t):"year"===e&&n.set("FullYear",a,n.get("FullYear",a)+t),t=a.getTime()-b),this.xIncrement=b+t,b},setOptions:function(a){var b=this.chart,t=b.options,e=t.plotOptions,n=(b.userOptions||{}).plotOptions||{},g=e[this.type];return this.userOptions=a,b=k(g,e.series,a),this.tooltipOptions=k(r.tooltip,r.plotOptions.series&&r.plotOptions.series.tooltip,r.plotOptions[this.type].tooltip,t.tooltip.userOptions,e.series&&e.series.tooltip,e[this.type].tooltip,a.tooltip),this.stickyTracking=w(a.stickyTracking,n[this.type]&&n[this.type].stickyTracking,n.series&&n.series.stickyTracking,!(!this.tooltipOptions.shared||this.noSharedTooltip)||b.stickyTracking),null===g.marker&&delete b.marker,this.zoneAxis=b.zoneAxis,a=this.zones=(b.zones||[]).slice(),!b.negativeColor&&!b.negativeFillColor||b.zones||a.push({value:b[this.zoneAxis+"Threshold"]||b.threshold||0,className:"highcharts-negative",color:b.negativeColor,fillColor:b.negativeFillColor}),a.length&&l(a[a.length-1].value)&&a.push({color:this.color,fillColor:this.fillColor}),m(this,"afterSetOptions",{options:b}),b},getName:function(){return this.name||"Series "+(this.index+1)},getCyclic:function(a,b,t){var e,n=this.chart,g=this.userOptions,o=a+"Index",r=a+"Counter",h=t?t.length:w(n.options.chart[a+"Count"],n[a+"Count"]);b||(e=w(g[o],g["_"+o]),l(e)||(n.series.length||(n[r]=0),g["_"+o]=e=n[r]%h,n[r]+=1),t&&(b=t[e])),void 0!==e&&(this[o]=e),this[a]=b},getColor:function(){this.options.colorByPoint?this.options.color=null:this.getCyclic("color",this.options.color||h[this.type].color,this.chart.options.colors)},getSymbol:function(){this.getCyclic("symbol",this.options.marker.symbol,this.chart.options.symbols)},drawLegendSymbol:a.LegendSymbolMixin.drawLineMarker,updateData:function(b){var t,g,e,n=this.options,o=this.points,r=[],h=this.requireSorting;if(c(b,(function(b){var g;g=a.defined(b)&&this.pointClass.prototype.optionsToObject.call({series:this},b).x,y(g)&&(-1===(g=a.inArray(g,this.xData,e))||o[g].touched?r.push(b):b!==n.data[g]?(o[g].update(b,!1,null,!1),o[g].touched=!0,h&&(e=g+1)):o[g]&&(o[g].touched=!0),t=!0)}),this),t)for(b=o.length;b--;)(g=o[b]).touched||g.remove(!1),g.touched=!1;else{if(b.length!==o.length)return!1;c(b,(function(a,b){o[b].update&&a!==n.data[b]&&o[b].update(a,!1,null,!1)}))}return c(r,(function(a){this.addPoint(a,!1)}),this),!0},setData:function(t,e,n,o){var r,q,p=this,g=p.points,h=g&&g.length||0,l=p.options,d=p.chart,u=null,f=p.xAxis,m=l.turboThreshold,x=this.xData,k=this.yData,M=(r=p.pointArrayMap)&&r.length;if(r=(t=t||[]).length,e=w(e,!0),!1!==o&&r&&h&&!p.cropped&&!p.hasGroupedData&&p.visible&&!p.isSeriesBoosting&&(q=this.updateData(t)),!q){if(p.xIncrement=null,p.colorCounter=0,c(this.parallelArrays,(function(a){p[a+"Data"].length=0})),m&&r>m){for(n=0;null===u&&n<r;)u=t[n],n++;if(y(u))for(n=0;n<r;n++)x[n]=this.autoIncrement(),k[n]=t[n];else if(v(u))if(M)for(n=0;n<r;n++)u=t[n],x[n]=u[0],k[n]=u.slice(1,M+1);else for(n=0;n<r;n++)u=t[n],x[n]=u[0],k[n]=u[1];else a.error(12)}else for(n=0;n<r;n++)void 0!==t[n]&&(u={series:p},p.pointClass.prototype.applyOptions.apply(u,[t[n]]),p.updateParallelArrays(u,n));for(k&&b(k[0])&&a.error(14,!0),p.data=[],p.options.data=p.userOptions.data=t,n=h;n--;)g[n]&&g[n].destroy&&g[n].destroy();f&&(f.minRange=f.userMinRange),p.isDirty=d.isDirtyBox=!0,p.isDirtyData=!!g,n=!1}"point"===l.legendType&&(this.processData(),this.generatePoints()),e&&d.redraw(n)},processData:function(b){var t,e=this.xData,n=this.yData,o=e.length;t=0;var g,r,h,l=this.xAxis;h=(m=this.options).cropThreshold;var c,d,f=this.getExtremesFromAll||m.getExtremesFromAll,u=this.isCartesian,m=l&&l.val2lin,x=l&&l.isLog,v=this.requireSorting;if(u&&!this.isDirty&&!l.isDirty&&!this.yAxis.isDirty&&!b)return!1;for(l&&(c=(b=l.getExtremes()).min,d=b.max),u&&this.sorted&&!f&&(!h||o>h||this.forceCrop)&&(e[o-1]<c||e[0]>d?(e=[],n=[]):this.yData&&(e[0]<c||e[o-1]>d)&&(e=(t=this.cropData(this.xData,this.yData,c,d)).xData,n=t.yData,t=t.start,g=!0)),h=e.length||1;--h;)0<(o=x?m(e[h])-m(e[h-1]):e[h]-e[h-1])&&(void 0===r||o<r)?r=o:0>o&&v&&(a.error(15),v=!1);this.cropped=g,this.cropStart=t,this.processedXData=e,this.processedYData=n,this.closestPointRange=r},cropData:function(a,b,t,e,n){var o,g=a.length,r=0,p=g;for(n=w(n,this.cropShoulder,1),o=0;o<g;o++)if(a[o]>=t){r=Math.max(0,o-n);break}for(t=o;t<g;t++)if(a[t]>e){p=t+n;break}return{xData:a.slice(r,p),yData:b.slice(r,p),start:r,end:p}},generatePoints:function(){var t,e,n,o,b=(a=this.options).data,r=this.data,h=this.processedXData,g=this.processedYData,l=this.pointClass,c=h.length,d=this.cropStart||0,u=this.hasGroupedData,a=a.keys,m=[];for(r||u||((r=[]).length=b.length,r=this.data=r),a&&u&&(this.options.keys=!1),o=0;o<c;o++)e=d+o,u?((n=(new l).init(this,[h[o]].concat(S(g[o])))).dataGroup=this.groupMap[o],n.dataGroup.options&&(n.options=n.dataGroup.options,f(n,n.dataGroup.options))):(n=r[e])||void 0===b[e]||(r[e]=n=(new l).init(this,b[e],h[o])),n&&(n.index=e,m[o]=n);if(this.options.keys=a,r&&(c!==(t=r.length)||u))for(o=0;o<t;o++)o!==d||u||(o+=c),r[o]&&(r[o].destroyElements(),r[o].plotX=void 0);this.data=r,this.points=m},getExtremes:function(a){var t,e,o,u,r,b=this.yAxis,h=this.processedXData,l=[],g=0,c=(t=this.xAxis.getExtremes()).min,d=t.max,f=this.requireSorting?1:0;for(t=(a=a||this.stackedYData||this.processedYData||[]).length,r=0;r<t;r++)if(o=h[r],u=a[r],e=(y(u,!0)||v(u))&&(!b.positiveValuesOnly||u.length||0<u),o=this.getExtremesFromAll||this.options.getExtremesFromAll||this.cropped||(h[r+f]||o)>=c&&(h[r-f]||o)<=d,e&&o)if(e=u.length)for(;e--;)"number"==typeof u[e]&&(l[g++]=u[e]);else l[g++]=u;this.dataMin=q(l),this.dataMax=n(l)},translate:function(){this.processedXData||this.processData(),this.generatePoints();var t,e,q,n,a=this.options,b=a.stacking,r=this.xAxis,h=r.categories,c=this.yAxis,g=this.points,d=g.length,f=!!this.modifyValue,x=a.pointPlacement,v="between"===x||y(x),u=a.threshold,k=a.startFromThreshold?u:0,M=Number.MAX_VALUE;for("between"===x&&(x=.5),y(x)&&(x*=w(a.pointRange||r.pointRange)),a=0;a<d;a++){var A=g[a],S=A.x,T=A.y;e=A.low;var P,C=b&&c.stacks[(this.negStacks&&T<(k?0:u)?"-":"")+this.stackKey];c.positiveValuesOnly&&null!==T&&0>=T&&(A.isNull=!0),A.plotX=t=o(Math.min(Math.max(-1e5,r.translate(S,0,0,0,1,x,"flags"===this.type)),1e5)),b&&this.visible&&!A.isNull&&C&&C[S]&&(n=this.getStackIndicator(n,S,this.index),e=(T=(P=C[S]).points[n.key])[0],T=T[1],e===k&&n.key===C[S].base&&(e=w(y(u)&&u,c.min)),c.positiveValuesOnly&&0>=e&&(e=null),A.total=A.stackTotal=P.total,A.percentage=P.total&&A.y/P.total*100,A.stackY=T,P.setOffset(this.pointXOffset||0,this.barW||0)),A.yBottom=l(e)?Math.min(Math.max(-1e5,c.translate(e,0,1,0,1)),1e5):null,f&&(T=this.modifyValue(T,A)),A.plotY=e="number"==typeof T&&1/0!==T?Math.min(Math.max(-1e5,c.translate(T,0,1,0,1)),1e5):void 0,A.isInside=void 0!==e&&0<=e&&e<=c.len&&0<=t&&t<=r.len,A.clientX=v?o(r.translate(S,0,0,0,1,x)):t,A.negative=A.y<(u||0),A.category=h&&void 0!==h[A.x]?h[A.x]:A.x,A.isNull||(void 0!==q&&(M=Math.min(M,Math.abs(t-q))),q=t),A.zone=this.zones.length&&A.getZone()}this.closestPointRangePx=M,m(this,"afterTranslate")},getValidPoints:function(a,b){var t=this.chart;return x(a||this.points||[],(function(a){return!(b&&!t.isInsidePlot(a.plotX,a.plotY,t.inverted))&&!a.isNull}))},setClip:function(a){var b=this.chart,t=this.options,e=b.renderer,n=b.inverted,g=this.clipBox,o=g||b.clipBox,r=this.sharedClipKey||["_sharedClip",a&&a.duration,a&&a.easing,o.height,t.xAxis,t.yAxis].join(),h=b[r],l=b[r+"m"];h||(a&&(o.width=0,n&&(o.x=b.plotSizeX),b[r+"m"]=l=e.clipRect(n?b.plotSizeX+99:-99,n?-b.plotLeft:-b.plotTop,99,n?b.chartWidth:b.chartHeight)),b[r]=h=e.clipRect(o),h.count={length:0}),a&&!h.count[this.index]&&(h.count[this.index]=!0,h.count.length+=1),!1!==t.clip&&(this.group.clip(a||g?h:b.clipRect),this.markerGroup.clip(l),this.sharedClipKey=r),a||(h.count[this.index]&&(delete h.count[this.index],--h.count.length),0===h.count.length&&r&&b[r]&&(g||(b[r]=b[r].destroy()),b[r+"m"]&&(b[r+"m"]=b[r+"m"].destroy())))},animate:function(a){var t,b=this.chart,n=e(this.options.animation);a?this.setClip(n):((a=b[t=this.sharedClipKey])&&a.animate({width:b.plotSizeX,x:0},n),b[t+"m"]&&b[t+"m"].animate({width:b.plotSizeX+99,x:0},n),this.animate=null)},afterAnimate:function(){this.setClip(),m(this,"afterAnimate"),this.finishedAnimating=!0},drawPoints:function(){var t,e,n,g,o,r,h,u,a=this.points,b=this.chart,l=this.options.marker,c=this[this.specialGroup]||this.markerGroup,d=w(l.enabled,!!this.xAxis.isRadial||null,this.closestPointRangePx>=l.enabledThreshold*l.radius);if(!1!==l.enabled||this._hasPointMarkers)for(t=0;t<a.length;t++)g=(e=a[t]).graphic,o=e.marker||{},r=!!e.marker,n=d&&void 0===o.enabled||o.enabled,h=e.isInside,n&&!e.isNull?(n=w(o.symbol,this.symbol),u=this.markerAttribs(e,e.selected&&"select"),g?g[h?"show":"hide"](!0).animate(u):h&&(0<u.width||e.hasImage)&&(e.graphic=g=b.renderer.symbol(n,u.x,u.y,u.width,u.height,r?o:l).add(c)),g&&g.attr(this.pointAttribs(e,e.selected&&"select")),g&&g.addClass(e.getClassName(),!0)):g&&(e.graphic=g.destroy())},markerAttribs:function(a,b){var t=this.options.marker,e=a.marker||{},n=e.symbol||t.symbol,g=w(e.radius,t.radius);return b&&(t=t.states[b],b=e.states&&e.states[b],g=w(b&&b.radius,t&&t.radius,g+(t&&t.radiusPlus||0))),a.hasImage=n&&0===n.indexOf("url"),a.hasImage&&(g=0),a={x:Math.floor(a.plotX)-g,y:a.plotY-g},g&&(a.width=a.height=2*g),a},pointAttribs:function(a,b){var t=this.options.marker,e=(r=a&&a.options)&&r.marker||{},g=this.color,n=r&&r.color,o=a&&a.color,r=w(e.lineWidth,t.lineWidth);return a=a&&a.zone&&a.zone.color,g=n||a||o||g,a=e.fillColor||t.fillColor||g,g=e.lineColor||t.lineColor||g,b&&(t=t.states[b],b=e.states&&e.states[b]||{},r=w(b.lineWidth,t.lineWidth,r+w(b.lineWidthPlus,t.lineWidthPlus,0)),a=b.fillColor||t.fillColor||a,g=b.lineColor||t.lineColor||g),{stroke:g,"stroke-width":r,fill:a}},destroy:function(){var t,e,n,b=this,o=b.chart,r=/AppleWebKit\/533/.test(u.navigator.userAgent),g=b.data||[];for(m(b,"destroy"),A(b),c(b.axisTypes||[],(function(a){(n=b[a])&&n.series&&(d(n.series,b),n.isDirty=n.forceRedraw=!0)})),b.legendItem&&b.chart.legend.destroyItem(b),t=g.length;t--;)(e=g[t])&&e.destroy&&e.destroy();b.points=null,a.clearTimeout(b.animationTimeout),M(b,(function(a,b){a instanceof T&&!a.survive&&a[r&&"group"===b?"hide":"destroy"]()})),o.hoverSeries===b&&(o.hoverSeries=null),d(o.series,b),o.orderSeries(),M(b,(function(a,t){delete b[t]}))},getGraphPath:function(a,b,t){var e,n,o=this,r=o.options,g=r.step,h=[],d=[];return(e=(a=a||o.points).reversed)&&a.reverse(),(g={right:1,center:2}[g]||g&&3)&&e&&(g=4-g),!r.connectNulls||b||t||(a=this.getValidPoints(a)),c(a,(function(e,p){var c=e.plotX,f=e.plotY,u=a[p-1];(e.leftCliff||u&&u.rightCliff)&&!t&&(n=!0),e.isNull&&!l(b)&&0<p?n=!r.connectNulls:e.isNull&&!b?n=!0:(0===p||n?p=["M",e.plotX,e.plotY]:o.getPointSpline?p=o.getPointSpline(a,e,p):g?(p=1===g?["L",u.plotX,f]:2===g?["L",(u.plotX+c)/2,u.plotY,"L",(u.plotX+c)/2,f]:["L",c,u.plotY]).push("L",c,f):p=["L",c,f],d.push(e.x),g&&(d.push(e.x),2===g&&d.push(e.x)),h.push.apply(h,p),n=!1)})),h.xMap=d,o.graphPath=h},drawGraph:function(){var a=this,b=this.options,t=(this.gappedPath||this.getGraphPath).call(this),e=[["graph","highcharts-graph",b.lineColor||this.color,b.dashStyle]];e=a.getZonesGraphs(e);c(e,(function(e,g){var n=e[0],o=a[n];o?(o.endX=a.preventGraphAnimation?null:t.xMap,o.animate({d:t})):t.length&&(a[n]=a.chart.renderer.path(t).addClass(e[1]).attr({zIndex:1}).add(a.group),o={stroke:e[2],"stroke-width":b.lineWidth,fill:a.fillGraph&&a.color||"none"},e[3]?o.dashstyle=e[3]:"square"!==b.linecap&&(o["stroke-linecap"]=o["stroke-linejoin"]="round"),o=a[n].attr(o).shadow(2>g&&b.shadow)),o&&(o.startX=t.xMap,o.isArea=t.isArea)}))},getZonesGraphs:function(a){return c(this.zones,(function(b,t){a.push(["zone-graph-"+t,"highcharts-graph highcharts-zone-graph-"+t+" "+(b.className||""),b.color||this.color,b.dashStyle||this.options.dashStyle])}),this),a},applyZones:function(){var t,g,e,n,o,r,q,h,l,a=this,b=this.chart,d=b.renderer,f=this.zones,m=this.clips||[],x=this.graph,v=this.area,u=Math.max(b.chartWidth,b.chartHeight),y=this[(this.zoneAxis||"y")+"Axis"],k=b.inverted,M=!1;f.length&&(x||v)&&y&&void 0!==y.min&&(o=y.reversed,r=y.horiz,x&&!this.showLine&&x.hide(),v&&v.hide(),n=y.getExtremes(),c(f,(function(c,p){t=o?r?b.plotWidth:0:r?0:y.toPixels(n.min),t=Math.min(Math.max(w(g,t),0),u),g=Math.min(Math.max(Math.round(y.toPixels(w(c.value,n.max),!0)),0),u),M&&(t=g=y.toPixels(n.max)),q=Math.abs(t-g),h=Math.min(t,g),l=Math.max(t,g),y.isXAxis?(e={x:k?l:h,y:0,width:q,height:u},r||(e.x=b.plotHeight-e.x)):(e={x:0,y:k?l:h,width:u,height:q},r&&(e.y=b.plotWidth-e.y)),k&&d.isVML&&(e=y.isXAxis?{x:0,y:o?h:l,height:e.width,width:b.chartWidth}:{x:e.y-b.plotLeft-b.spacingBox.x,y:0,width:e.height,height:b.chartHeight}),m[p]?m[p].animate(e):(m[p]=d.clipRect(e),x&&a["zone-graph-"+p].clip(m[p]),v&&a["zone-area-"+p].clip(m[p])),M=c.value>n.max,a.resetZones&&0===g&&(g=void 0)})),this.clips=m)},invertGroups:function(a){function b(){c(["group","markerGroup"],(function(b){n[b]&&(o.renderer.isVML&&n[b].attr({width:n.yAxis.len,height:n.xAxis.len}),n[b].width=n.yAxis.len,n[b].height=n.xAxis.len,n[b].invert(a))}))}var e,n=this,o=n.chart;n.xAxis&&(e=t(o,"resize",b),t(n,"destroy",e),b(),n.invertGroups=b)},plotGroup:function(a,b,t,e,n){var g=this[a],o=!g;return o&&(this[a]=g=this.chart.renderer.g().attr({zIndex:e||.1}).add(n)),g.addClass("highcharts-"+b+" highcharts-series-"+this.index+" highcharts-"+this.type+"-series "+(l(this.colorIndex)?"highcharts-color-"+this.colorIndex+" ":"")+(this.options.className||"")+(g.hasClass("highcharts-tracker")?" highcharts-tracker":""),!0),g.attr({visibility:t})[o?"attr":"animate"](this.getPlotBox()),g},getPlotBox:function(){var a=this.chart,b=this.xAxis,t=this.yAxis;return a.inverted&&(b=t,t=this.xAxis),{translateX:b?b.left:a.plotLeft,translateY:t?t.top:a.plotTop,scaleX:1,scaleY:1}},render:function(){var t,a=this,b=a.chart,n=a.options,o=!!a.animate&&b.renderer.isSVG&&e(n.animation).duration,g=a.visible?"inherit":"hidden",r=n.zIndex,h=a.hasRendered,l=b.seriesGroup,u=b.inverted;t=a.plotGroup("group","series",g,r,l),a.markerGroup=a.plotGroup("markerGroup","markers",g,r,l),o&&a.animate(!0),t.inverted=!!a.isCartesian&&u,a.drawGraph&&(a.drawGraph(),a.applyZones()),a.drawDataLabels&&a.drawDataLabels(),a.visible&&a.drawPoints(),a.drawTracker&&!1!==a.options.enableMouseTracking&&a.drawTracker(),a.invertGroups(u),!1===n.clip||a.sharedClipKey||h||t.clip(b.clipRect),o&&a.animate(),h||(a.animationTimeout=P((function(){a.afterAnimate()}),o)),a.isDirty=!1,a.hasRendered=!0,m(a,"afterRender")},redraw:function(){var a=this.chart,b=this.isDirty||this.isDirtyData,t=this.group,e=this.xAxis,n=this.yAxis;t&&(a.inverted&&t.attr({width:a.plotWidth,height:a.plotHeight}),t.animate({translateX:w(e&&e.left,a.plotLeft),translateY:w(n&&n.top,a.plotTop)})),this.translate(),this.render(),b&&delete this.kdTree},kdAxisArray:["clientX","plotY"],searchPoint:function(a,b){var t=this.xAxis,e=this.yAxis,n=this.chart.inverted;return this.searchKDTree({clientX:n?t.len-a.chartY+t.pos:a.chartX-t.pos,plotY:n?e.len-a.chartX+e.pos:a.chartY-e.pos},b)},buildKDTree:function(){this.buildingKdTree=!0;var b=this,t=-1<b.options.findNearestPointBy.indexOf("y")?2:1;delete b.kdTree,P((function(){b.kdTree=function a(t,e,g){var n,o;if(o=t&&t.length)return n=b.kdAxisArray[e%g],t.sort((function(a,b){return a[n]-b[n]})),{point:t[o=Math.floor(o/2)],left:a(t.slice(0,o),e+1,g),right:a(t.slice(o+1),e+1,g)}}(b.getValidPoints(null,!b.directTouch),t,t),b.buildingKdTree=!1}),b.options.kdNow?0:1)},searchKDTree:function(a,b){var t=this,e=this.kdAxisArray[0],g=this.kdAxisArray[1],n=b?"distX":"dist";if(b=-1<t.options.findNearestPointBy.indexOf("y")?2:1,this.kdTree||this.buildingKdTree||this.buildKDTree(),this.kdTree)return function o(a,b,p,r){var u,h,c=b.point,d=t.kdAxisArray[p%r],f=c;return u=((h=l(a[e])&&l(c[e])?Math.pow(a[e]-c[e],2):null)||0)+((u=l(a[g])&&l(c[g])?Math.pow(a[g]-c[g],2):null)||0),c.dist=l(u)?Math.sqrt(u):Number.MAX_VALUE,c.distX=l(h)?Math.sqrt(h):Number.MAX_VALUE,h=0>(d=a[d]-c[d])?"right":"left",b[u=0>d?"left":"right"]&&(f=(u=o(a,b[u],p+1,r))[n]<f[n]?u:c),b[h]&&Math.sqrt(d*d)<f[n]&&(f=(a=o(a,b[h],p+1,r))[n]<f[n]?a:f),f}(a,this.kdTree,b,b)}})}(c),function(a){var t=a.Axis,e=a.Chart,n=a.correctFloat,q=a.defined,o=a.destroyObjectProperties,r=a.each,h=a.format,l=a.objectEach,c=a.pick,d=a.Series;a.StackItem=function(a,t,e,n,o){var b=a.chart.inverted;this.axis=a,this.isNegative=e,this.options=t,this.x=n,this.total=null,this.points={},this.stack=o,this.rightCliff=this.leftCliff=0,this.alignOptions={align:t.align||(b?e?"left":"right":"center"),verticalAlign:t.verticalAlign||(b?"middle":e?"bottom":"top"),y:c(t.y,b?4:e?14:-6),x:c(t.x,b?e?-6:6:0)},this.textAlign=t.textAlign||(b?e?"right":"left":"center")},a.StackItem.prototype={destroy:function(){o(this,this.axis)},render:function(a){var t=this.axis.chart,e=this.options,n=(n=e.format)?h(n,this,t.time):e.formatter.call(this);this.label?this.label.attr({text:n,visibility:"hidden"}):this.label=t.renderer.text(n,null,null,e.useHTML).css(e.style).attr({align:this.textAlign,rotation:e.rotation,visibility:"hidden"}).add(a),this.label.labelrank=t.plotHeight},setOffset:function(a,t){var e=this.axis,n=e.chart,o=e.translate(e.usePercentage?100:this.total,0,0,0,1),b=e.translate(0);b=q(o)&&Math.abs(o-b);a=n.xAxis[0].translate(this.x)+a,e=q(o)&&this.getStackBox(n,this,a,o,t,b,e),(t=this.label)&&e&&(t.align(this.alignOptions,null,e),e=t.alignAttr,t[!1===this.options.crop||n.isInsidePlot(e.x,e.y)?"show":"hide"](!0))},getStackBox:function(a,t,e,n,o,b,r){var h=t.axis.reversed,l=a.inverted;return a=r.height+r.pos-(l?a.plotLeft:a.plotTop),t=t.isNegative&&!h||!t.isNegative&&h,{x:l?t?n:n-b:e,y:l?a-e-o:t?a-n-b:a-n,width:l?b:o,height:l?o:b}}},e.prototype.getStacks=function(){var a=this;r(a.yAxis,(function(a){a.stacks&&a.hasVisibleSeries&&(a.oldStacks=a.stacks)})),r(a.series,(function(t){!t.options.stacking||!0!==t.visible&&!1!==a.options.chart.ignoreHiddenSeries||(t.stackKey=t.type+c(t.options.stack,""))}))},t.prototype.buildStacks=function(){var t,a=this.series,e=c(this.options.reversedStacks,!0),n=a.length;if(!this.isXAxis){for(this.usePercentage=!1,t=n;t--;)a[e?t:n-t-1].setStackedPoints();for(t=0;t<n;t++)a[t].modifyStacks()}},t.prototype.renderStackTotals=function(){var a=this.chart,t=a.renderer,e=this.stacks,n=this.stackTotalGroup;n||(this.stackTotalGroup=n=t.g("stack-labels").attr({visibility:"visible",zIndex:6}).add()),n.translate(a.plotLeft,a.plotTop),l(e,(function(a){l(a,(function(a){a.render(n)}))}))},t.prototype.resetStacks=function(){var a=this,t=a.stacks;a.isXAxis||l(t,(function(t){l(t,(function(e,n){e.touched<a.stacksTouched?(e.destroy(),delete t[n]):(e.total=null,e.cumulative=null)}))}))},t.prototype.cleanStacks=function(){var a;this.isXAxis||(this.oldStacks&&(a=this.stacks=this.oldStacks),l(a,(function(a){l(a,(function(a){a.cumulative=a.total}))})))},d.prototype.setStackedPoints=function(){if(this.options.stacking&&(!0===this.visible||!1===this.chart.options.chart.ignoreHiddenSeries)){var t,e,o,p,r,g,h,l=this.processedXData,d=this.processedYData,f=[],m=d.length,b=(y=this.options).threshold,x=c(y.startFromThreshold&&b,0),v=y.stack,y=y.stacking,k=this.stackKey,M="-"+k,w=this.negStacks,A=this.yAxis,S=A.stacks,u=A.oldStacks;for(A.stacksTouched+=1,r=0;r<m;r++)g=l[r],h=d[r],p=(t=this.getStackIndicator(t,g,this.index)).key,S[o=(e=w&&h<(x?0:b))?M:k]||(S[o]={}),S[o][g]||(u[o]&&u[o][g]?(S[o][g]=u[o][g],S[o][g].total=null):S[o][g]=new a.StackItem(A,A.options.stackLabels,e,g,v)),o=S[o][g],null!==h?(o.points[p]=o.points[this.index]=[c(o.cumulative,x)],q(o.cumulative)||(o.base=p),o.touched=A.stacksTouched,0<t.index&&!1===this.singleStacks&&(o.points[p][0]=o.points[this.index+","+g+",0"][0])):o.points[p]=o.points[this.index]=null,"percent"===y?(e=e?k:M,w&&S[e]&&S[e][g]?(e=S[e][g],o.total=e.total=Math.max(e.total,o.total)+Math.abs(h)||0):o.total=n(o.total+(Math.abs(h)||0))):o.total=n(o.total+(h||0)),o.cumulative=c(o.cumulative,x)+(h||0),null!==h&&(o.points[p].push(o.cumulative),f[r]=o.cumulative);"percent"===y&&(A.usePercentage=!0),this.stackedYData=f,A.oldStacks={}}},d.prototype.modifyStacks=function(){var t,a=this,e=a.stackKey,n=a.yAxis.stacks,o=a.processedXData,b=a.options.stacking;a[b+"Stacker"]&&r([e,"-"+e],(function(e){for(var r,h,l=o.length;l--;)r=o[l],t=a.getStackIndicator(t,r,a.index,e),(h=(r=n[e]&&n[e][r])&&r.points[t.key])&&a[b+"Stacker"](h,r,l)}))},d.prototype.percentStacker=function(a,t,e){t=t.total?100/t.total:0,a[0]=n(a[0]*t),a[1]=n(a[1]*t),this.stackedYData[e]=a[1]},d.prototype.getStackIndicator=function(a,t,e,n){return!q(a)||a.x!==t||n&&a.key!==n?a={x:t,index:0,key:n}:a.index++,a.key=[e,t,a.index].join(),a}}(c),function(a){var t=a.addEvent,e=a.animate,n=a.Axis,q=a.createElement,o=a.css,r=a.defined,h=a.each,l=a.erase,c=a.extend,d=a.fireEvent,f=a.inArray,m=a.isNumber,x=a.isObject,v=a.isArray,y=a.merge,b=a.objectEach,k=a.pick,M=a.Point,w=a.Series,A=a.seriesTypes,S=a.setAnimation,T=a.splat;c(a.Chart.prototype,{addSeries:function(a,b,t){var e,n=this;return a&&(b=k(b,!0),d(n,"addSeries",{options:a},(function(){e=n.initSeries(a),n.isDirtyLegend=!0,n.linkSeries(),d(n,"afterAddSeries"),b&&n.redraw(t)}))),e},addAxis:function(a,b,t,e){var o=b?"xAxis":"yAxis",p=this.options;return a=y(a,{index:this[o].length,isX:b}),b=new n(this,a),p[o]=T(p[o]||{}),p[o].push(a),k(t,!0)&&this.redraw(e),b},showLoading:function(a){var b=this,n=b.options,r=b.loadingDiv,h=n.loading,l=function(){r&&o(r,{left:b.plotLeft+"px",top:b.plotTop+"px",width:b.plotWidth+"px",height:b.plotHeight+"px"})};r||(b.loadingDiv=r=q("div",{className:"highcharts-loading highcharts-loading-hidden"},null,b.container),b.loadingSpan=q("span",{className:"highcharts-loading-inner"},null,r),t(b,"redraw",l)),r.className="highcharts-loading",b.loadingSpan.innerHTML=a||n.lang.loading,o(r,c(h.style,{zIndex:10})),o(b.loadingSpan,h.labelStyle),b.loadingShown||(o(r,{opacity:0,display:""}),e(r,{opacity:h.style.opacity||.5},{duration:h.showDuration||0})),b.loadingShown=!0,l()},hideLoading:function(){var a=this.options,b=this.loadingDiv;b&&(b.className="highcharts-loading highcharts-loading-hidden",e(b,{opacity:0},{duration:a.loading.hideDuration||100,complete:function(){o(b,{display:"none"})}})),this.loadingShown=!1},propsRequireDirtyBox:"backgroundColor borderColor borderWidth margin marginTop marginRight marginBottom marginLeft spacing spacingTop spacingRight spacingBottom spacingLeft borderRadius plotBackgroundColor plotBackgroundImage plotBorderColor plotBorderWidth plotShadow shadow".split(" "),propsRequireUpdateSeries:"chart.inverted chart.polar chart.ignoreHiddenSeries chart.type colors plotOptions time tooltip".split(" "),update:function(a,t,e,n){var g,o,l=this,p={credits:"addCredits",title:"setTitle",subtitle:"setSubtitle"},u=a.chart,c=[];d(l,"update",{options:a}),u&&(y(!0,l.options.chart,u),"className"in u&&l.setClassName(u.className),"reflow"in u&&l.setReflow(u.reflow),("inverted"in u||"polar"in u||"type"in u)&&(l.propFromSeries(),g=!0),"alignTicks"in u&&(g=!0),b(u,(function(a,b){-1!==f("chart."+b,l.propsRequireUpdateSeries)&&(o=!0),-1!==f(b,l.propsRequireDirtyBox)&&(l.isDirtyBox=!0)})),"style"in u&&l.renderer.setStyle(u.style)),a.colors&&(this.options.colors=a.colors),a.plotOptions&&y(!0,this.options.plotOptions,a.plotOptions),b(a,(function(a,b){l[b]&&"function"==typeof l[b].update?l[b].update(a,!1):"function"==typeof l[p[b]]&&l[p[b]](a),"chart"!==b&&-1!==f(b,l.propsRequireUpdateSeries)&&(o=!0)})),h("xAxis yAxis zAxis series colorAxis pane".split(" "),(function(b){var t;a[b]&&("series"===b&&(t=[],h(l[b],(function(a,b){a.options.isInternal||t.push(b)}))),h(T(a[b]),(function(a,g){(g=r(a.id)&&l.get(a.id)||l[b][t?t[g]:g])&&g.coll===b&&(g.update(a,!1),e&&(g.touched=!0)),!g&&e&&("series"===b?l.addSeries(a,!1).touched=!0:"xAxis"!==b&&"yAxis"!==b||(l.addAxis(a,"xAxis"===b,!1).touched=!0))})),e&&h(l[b],(function(a){a.touched||a.options.isInternal?delete a.touched:c.push(a)})))})),h(c,(function(a){a.remove&&a.remove(!1)})),g&&h(l.axes,(function(a){a.update({},!1)})),o&&h(l.series,(function(a){a.update({},!1)})),a.loading&&y(!0,l.options.loading,a.loading),g=u&&u.width,u=u&&u.height,m(g)&&g!==l.chartWidth||m(u)&&u!==l.chartHeight?l.setSize(g,u,n):k(t,!0)&&l.redraw(n),d(l,"afterUpdate",{options:a})},setSubtitle:function(a){this.setTitle(void 0,a)}}),c(M.prototype,{update:function(a,b,t,e){function n(){p.applyOptions(a),null===p.y&&g&&(p.graphic=g.destroy()),x(a,!0)&&(g&&g.element&&a&&a.marker&&void 0!==a.marker.symbol&&(p.graphic=g.destroy()),a&&a.dataLabels&&p.dataLabel&&(p.dataLabel=p.dataLabel.destroy()),p.connector&&(p.connector=p.connector.destroy())),o=p.index,r.updateParallelArrays(p,o),h.data[o]=x(h.data[o],!0)||x(a,!0)?p.options:k(a,h.data[o]),r.isDirty=r.isDirtyData=!0,!r.fixedBox&&r.hasCartesianSeries&&(u.isDirtyBox=!0),"point"===h.legendType&&(u.isDirtyLegend=!0),b&&u.redraw(t)}var o,p=this,r=p.series,g=p.graphic,u=r.chart,h=r.options;b=k(b,!0),!1===e?n():p.firePointEvent("update",{options:a},n)},remove:function(a,b){this.series.removePoint(f(this,this.series.data),a,b)}}),c(w.prototype,{addPoint:function(a,b,t,e){var n,u,o,r,h=this.options,p=this.data,l=this.chart,g=(g=this.xAxis)&&g.hasNames&&g.names,c=h.data,d=this.xData;if(b=k(b,!0),n={series:this},this.pointClass.prototype.applyOptions.apply(n,[a]),r=n.x,o=d.length,this.requireSorting&&r<d[o-1])for(u=!0;o&&d[o-1]>r;)o--;this.updateParallelArrays(n,"splice",o,0,0),this.updateParallelArrays(n,o),g&&n.name&&(g[r]=n.name),c.splice(o,0,a),u&&(this.data.splice(o,0,null),this.processData()),"point"===h.legendType&&this.generatePoints(),t&&(p[0]&&p[0].remove?p[0].remove(!1):(p.shift(),this.updateParallelArrays(n,"shift"),c.shift())),this.isDirtyData=this.isDirty=!0,b&&l.redraw(e)},removePoint:function(a,b,t){var e=this,n=e.data,p=n[a],o=e.points,g=e.chart,r=function(){o&&o.length===n.length&&o.splice(a,1),n.splice(a,1),e.options.data.splice(a,1),e.updateParallelArrays(p||{series:e},"splice",a,1),p&&p.destroy(),e.isDirty=!0,e.isDirtyData=!0,b&&g.redraw()};S(t,g),b=k(b,!0),p?p.firePointEvent("remove",null,r):r()},remove:function(a,b,t){function e(){n.destroy(),n.remove=null,p.isDirtyLegend=p.isDirtyBox=!0,p.linkSeries(),k(a,!0)&&p.redraw(b)}var n=this,p=n.chart;!1!==t?d(n,"remove",null,e):e()},update:function(b,t){var e,n=this,o=n.chart,r=n.userOptions,p=n.oldType||n.type,l=b.type||r.type||o.options.chart.type,g=A[p].prototype,u=["group","markerGroup","dataLabelsGroup"],m=["navigatorSeries","baseSeries"],x=n.finishedAnimating&&{animation:!1},v=["data","name","turboThreshold"],M=a.keys(b),q=0<M.length;if(h(M,(function(a){-1===f(a,v)&&(q=!1)})),q)b.data&&this.setData(b.data,!1),b.name&&this.setName(b.name,!1);else{for(e in m=u.concat(m),h(m,(function(a){m[a]=n[a],delete n[a]})),b=y(r,x,{index:n.index,pointStart:k(r.pointStart,n.xData[0])},{data:n.options.data},b),n.remove(!1,null,!1),g)n[e]=void 0;A[l||p]?c(n,A[l||p].prototype):a.error(17,!0),h(m,(function(a){n[a]=m[a]})),n.init(o,b),b.zIndex!==r.zIndex&&h(u,(function(a){n[a]&&n[a].attr({zIndex:b.zIndex})})),n.oldType=p,o.linkSeries()}d(this,"afterUpdate"),k(t,!0)&&o.redraw(!!q&&void 0)},setName:function(a){this.name=this.options.name=this.userOptions.name=a,this.chart.isDirtyLegend=!0}}),c(n.prototype,{update:function(a,t){var e=this.chart,n=a&&a.events||{};a=y(this.userOptions,a),e.options[this.coll].indexOf&&(e.options[this.coll][e.options[this.coll].indexOf(this.userOptions)]=a),b(e.options[this.coll].events,(function(a,b){void 0===n[b]&&(n[b]=void 0)})),this.destroy(!0),this.init(e,c(a,{events:n})),e.isDirtyBox=!0,k(t,!0)&&e.redraw()},remove:function(a){for(var b=this.chart,t=this.coll,e=this.series,n=e.length;n--;)e[n]&&e[n].remove(!1);l(b.axes,this),l(b[t],this),v(b.options[t])?b.options[t].splice(this.options.index,1):delete b.options[t],h(b[t],(function(a,b){a.options.index=a.userOptions.index=b})),this.destroy(),b.isDirtyBox=!0,k(a,!0)&&b.redraw()},setTitle:function(a,b){this.update({title:a},b)},setCategories:function(a,b){this.update({categories:a},b)}})}(c),function(a){var t=a.color,e=a.each,n=a.map,q=a.pick,o=a.Series;(0,a.seriesType)("area","line",{softThreshold:!1,threshold:0},{singleStacks:!1,getStackPoints:function(t){var o,r,h=[],l=[],c=this.xAxis,d=this.yAxis,f=d.stacks[this.stackKey],m={},x=this.index,v=d.series,b=v.length,y=q(d.options.reversedStacks,!0)?1:-1;if(t=t||this.points,this.options.stacking){for(r=0;r<t.length;r++)t[r].leftNull=t[r].rightNull=null,m[t[r].x]=t[r];a.objectEach(f,(function(a,b){null!==a.total&&l.push(b)})),l.sort((function(a,b){return a-b})),o=n(v,(function(){return this.visible})),e(l,(function(a,t){var n,u,v=0;if(m[a]&&!m[a].isNull)h.push(m[a]),e([-1,1],(function(e){var h=1===e?"rightNull":"leftNull",c=0,p=f[l[t+e]];if(p)for(r=x;0<=r&&r<b;)(n=p.points[r])||(r===x?m[a][h]=!0:o[r]&&(u=f[a].points[r])&&(c-=u[1]-u[0])),r+=y;m[a][1===e?"rightCliff":"leftCliff"]=c}));else{for(r=x;0<=r&&r<b;){if(n=f[a].points[r]){v=n[1];break}r+=y}v=d.translate(v,0,1,0,1),h.push({isNull:!0,plotX:c.translate(a,0,0,0,1),x:a,plotY:v,yBottom:v})}}))}return h},getGraphPath:function(a){var t,e,n,r,h=o.prototype.getGraphPath,l=(y=this.options).stacking,c=this.yAxis,d=[],f=[],b=this.index,m=c.stacks[this.stackKey],x=y.threshold,v=c.getThreshold(y.threshold),y=y.connectNulls||"percent"===l,k=function(t,e,o){var r=a[t];t=l&&m[r.x].points[b];var h=r[o+"Null"]||0;o=r[o+"Cliff"]||0;var p,u;r=!0;o||h?(p=(h?t[0]:t[1])+o,u=t[0]+o,r=!!h):!l&&a[e]&&a[e].isNull&&(p=u=x),void 0!==p&&(f.push({plotX:n,plotY:null===p?v:c.getThreshold(p),isNull:r,isCliff:!0}),d.push({plotX:n,plotY:null===u?v:c.getThreshold(u),doCurve:!1}))};for(a=a||this.points,l&&(a=this.getStackPoints(a)),t=0;t<a.length;t++)e=a[t].isNull,n=q(a[t].rectPlotX,a[t].plotX),r=q(a[t].yBottom,v),(!e||y)&&(y||k(t,t-1,"left"),e&&!l&&y||(f.push(a[t]),d.push({x:t,plotX:n,plotY:r})),y||k(t,t+1,"right"));return t=h.call(this,f,!0,!0),d.reversed=!0,(e=h.call(this,d,!0,!0)).length&&(e[0]="L"),e=t.concat(e),h=h.call(this,f,!1,y),e.xMap=t.xMap,this.areaPath=e,h},drawGraph:function(){this.areaPath=[],o.prototype.drawGraph.apply(this);var a=this,n=this.areaPath,r=this.options,h=[["area","highcharts-area",this.color,r.fillColor]];e(this.zones,(function(t,e){h.push(["zone-area-"+e,"highcharts-area highcharts-zone-area-"+e+" "+t.className,t.color||a.color,t.fillColor||r.fillColor])})),e(h,(function(e){var o=e[0],h=a[o];h?(h.endX=a.preventGraphAnimation?null:n.xMap,h.animate({d:n})):(h=a[o]=a.chart.renderer.path(n).addClass(e[1]).attr({fill:q(e[3],t(e[2]).setOpacity(q(r.fillOpacity,.75)).get()),zIndex:0}).add(a.group)).isArea=!0,h.startX=n.xMap,h.shiftUnit=r.step?2:1}))},drawLegendSymbol:a.LegendSymbolMixin.drawRectangle})}(c),function(a){var t=a.pick;(a=a.seriesType)("spline","line",{},{getPointSpline:function(a,e,q){var n,o,r,h,l=e.plotX,c=e.plotY,d=a[q-1];if(q=a[q+1],d&&!d.isNull&&!1!==d.doCurve&&!e.isCliff&&q&&!q.isNull&&!1!==q.doCurve&&!e.isCliff){a=d.plotY,r=q.plotX;var f=0;o=(1.5*c+a)/2.5,h=(1.5*c+(q=q.plotY))/2.5,(r=(1.5*l+r)/2.5)!==(n=(1.5*l+d.plotX)/2.5)&&(f=(h-o)*(r-l)/(r-n)+c-h),h+=f,(o+=f)>a&&o>c?h=2*c-(o=Math.max(a,c)):o<a&&o<c&&(h=2*c-(o=Math.min(a,c))),h>q&&h>c?o=2*c-(h=Math.max(q,c)):h<q&&h<c&&(o=2*c-(h=Math.min(q,c))),e.rightContX=r,e.rightContY=h}return e=["C",t(d.rightContX,d.plotX),t(d.rightContY,d.plotY),t(n,l),t(o,c),l,c],d.rightContX=d.rightContY=null,e}})}(c),function(a){var t=a.seriesTypes.area.prototype;(0,a.seriesType)("areaspline","spline",a.defaultPlotOptions.area,{getStackPoints:t.getStackPoints,getGraphPath:t.getGraphPath,drawGraph:t.drawGraph,drawLegendSymbol:a.LegendSymbolMixin.drawRectangle})}(c),function(a){var t=a.animObject,e=a.color,n=a.each,q=a.extend,o=a.defined,r=a.isNumber,h=a.merge,l=a.pick,c=a.Series,d=a.seriesType,f=a.svg;d("column","line",{borderRadius:0,crisp:!0,groupPadding:.2,marker:null,pointPadding:.1,minPointLength:0,cropThreshold:50,pointRange:null,states:{hover:{halo:!1,brightness:.1},select:{color:"#cccccc",borderColor:"#000000"}},dataLabels:{align:null,verticalAlign:null,y:null},softThreshold:!1,startFromThreshold:!0,stickyTracking:!1,tooltip:{distance:6},threshold:0,borderColor:"#ffffff"},{cropShoulder:0,directTouch:!0,trackerGroups:["group","dataLabelsGroup"],negStacks:!0,init:function(){c.prototype.init.apply(this,arguments);var a=this,t=a.chart;t.hasRendered&&n(t.series,(function(t){t.type===a.type&&(t.isDirty=!0)}))},getColumnMetrics:function(){var t,a=this,e=a.options,o=a.xAxis,r=a.yAxis,b=o.options.reversedStacks,h=(b=o.reversed&&!b||!o.reversed&&b,{}),c=0;!1===e.grouping?c=1:n(a.chart.series,(function(b){var e,n=b.options,o=b.yAxis;b.type!==a.type||!b.visible&&a.chart.options.chart.ignoreHiddenSeries||r.len!==o.len||r.pos!==o.pos||(n.stacking?(t=b.stackKey,void 0===h[t]&&(h[t]=c++),e=h[t]):!1!==n.grouping&&(e=c++),b.columnIndex=e)}));var d=Math.min(Math.abs(o.transA)*(o.ordinalSlope||e.pointRange||o.closestPointRange||o.tickInterval||1),o.len),f=d*e.groupPadding,m=(d-2*f)/(c||1);e=Math.min(e.maxPointWidth||o.len,l(e.pointWidth,m*(1-2*e.pointPadding)));return a.columnMetrics={width:e,offset:(m-e)/2+(f+((a.columnIndex||0)+(b?1:0))*m-d/2)*(b?-1:1)},a.columnMetrics},crispCol:function(a,t,e,n){var b=this.chart,o=-((r=this.borderWidth)%2?.5:0),r=r%2?.5:1;return b.inverted&&b.renderer.isVML&&(r+=1),this.options.crisp&&(e=Math.round(a+e)+o,e-=a=Math.round(a)+o),n=Math.round(t+n)+r,o=.5>=Math.abs(t)&&.5<n,n-=t=Math.round(t)+r,o&&n&&(--t,n+=1),{x:a,y:t,width:e,height:n}},translate:function(){var a=this,t=a.chart,e=a.options,r=a.dense=2>a.closestPointRange*a.xAxis.transA,b=(r=a.borderWidth=l(e.borderWidth,r?0:1),a.yAxis),h=e.threshold,d=a.translatedThreshold=b.getThreshold(h),f=l(e.minPointLength,5),m=a.getColumnMetrics(),x=m.width,v=a.barW=Math.max(x,1+2*r),y=a.pointXOffset=m.offset;t.inverted&&(d-=.5),e.pointPadding&&(v=Math.ceil(v)),c.prototype.translate.apply(a),n(a.points,(function(e){var n,r=l(e.yBottom,d),c=999+Math.abs(r),u=x,p=(c=Math.min(Math.max(-c,e.plotY),b.len+c),e.plotX+y),m=v,g=Math.min(c,r),k=Math.max(c,r)-g;f&&Math.abs(k)<f&&(k=f,n=!b.reversed&&!e.negative||b.reversed&&e.negative,e.y===h&&a.dataMax<=h&&b.min<h&&(n=!n),g=Math.abs(g-d)>f?r-f:d-(n?f:0)),o(e.options.pointWidth)&&(u=m=Math.ceil(e.options.pointWidth),p-=Math.round((u-x)/2)),e.barX=p,e.pointWidth=u,e.tooltipPos=t.inverted?[b.len+b.pos-t.plotLeft-c,a.xAxis.len-p-m/2,k]:[p+m/2,c+b.pos-t.plotTop,k],e.shapeType="rect",e.shapeArgs=a.crispCol.apply(a,e.isNull?[p,d,m,0]:[p,g,m,k])}))},getSymbol:a.noop,drawLegendSymbol:a.LegendSymbolMixin.drawRectangle,drawGraph:function(){this.group[this.dense?"addClass":"removeClass"]("highcharts-dense-data")},pointAttribs:function(a,t){var n,o=this.options;n=(b=this.pointAttrToOptions||{}).stroke||"borderColor";var r=b["stroke-width"]||"borderWidth",l=a&&a.color||this.color,c=a&&a[n]||o[n]||this.color||l,d=a&&a[r]||o[r]||this[r]||0,b=o.dashStyle;return a&&this.zones.length&&(l=a.getZone(),l=a.options.color||l&&l.color||this.color),t&&(t=(a=h(o.states[t],a.options.states&&a.options.states[t]||{})).brightness,l=a.color||void 0!==t&&e(l).brighten(a.brightness).get()||l,c=a[n]||c,d=a[r]||d,b=a.dashStyle||b),n={fill:l,stroke:c,"stroke-width":d},b&&(n.dashstyle=b),n},drawPoints:function(){var t,a=this,e=this.chart,o=a.options,l=e.renderer,b=o.animationLimit||250;n(a.points,(function(n){var c=n.graphic,d=c&&e.pointCount<b?"animate":"attr";r(n.plotY)&&null!==n.y?(t=n.shapeArgs,c?c[d](h(t)):n.graphic=c=l[n.shapeType](t).add(n.group||a.group),o.borderRadius&&c.attr({r:o.borderRadius}),c[d](a.pointAttribs(n,n.selected&&"select")).shadow(o.shadow,null,o.stacking&&!o.borderRadius),c.addClass(n.getClassName(),!0)):c&&(n.graphic=c.destroy())}))},animate:function(a){var e,n=this,o=this.yAxis,r=n.options,b=this.chart.inverted,h={},l=b?"translateX":"translateY";f&&(a?(h.scaleY=.001,a=Math.min(o.pos+o.len,Math.max(o.pos,o.toPixels(r.threshold))),b?h.translateX=a-o.len:h.translateY=a,n.group.attr(h)):(e=n.group.attr(l),n.group.animate({scaleY:1},q(t(n.options.animation),{step:function(a,b){h[l]=e+b.pos*(o.pos-e),n.group.attr(h)}})),n.animate=null))},remove:function(){var a=this,t=a.chart;t.hasRendered&&n(t.series,(function(t){t.type===a.type&&(t.isDirty=!0)})),c.prototype.remove.apply(a,arguments)}})}(c),function(a){(a=a.seriesType)("bar","column",null,{inverted:!0})}(c),function(a){var t=a.Series;(a=a.seriesType)("scatter","line",{lineWidth:0,findNearestPointBy:"xy",marker:{enabled:!0},tooltip:{headerFormat:'<span style="color:{point.color}">●</span> <span style="font-size: 0.85em"> {series.name}</span><br/>',pointFormat:"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>"}},{sorted:!1,requireSorting:!1,noSharedTooltip:!0,trackerGroups:["group","markerGroup","dataLabelsGroup"],takeOrdinalPosition:!1,drawGraph:function(){this.options.lineWidth&&t.prototype.drawGraph.call(this)}})}(c),function(a){var t=a.deg2rad,e=a.isNumber,n=a.pick,q=a.relativeLength;a.CenteredSeriesMixin={getCenter:function(){var t,e,a=this.options,o=this.chart,r=2*(a.slicedOffset||0),h=o.plotWidth-2*r,l=(o=o.plotHeight-2*r,a.center),c=(l=[n(l[0],"50%"),n(l[1],"50%"),a.size||"100%",a.innerSize||0],Math.min(h,o));for(t=0;4>t;++t)e=l[t],a=2>t||2===t&&/%$/.test(e),l[t]=q(e,[h,o,c,l[2]][t])+(a?r:0);return l[3]>l[2]&&(l[3]=l[2]),l},getStartAndEndRadians:function(a,n){return a=e(a)?a:0,n=e(n)&&n>a&&360>n-a?n:a+360,{start:t*(a+-90),end:t*(n+-90)}}}}(c),function(a){var t=a.addEvent,e=a.CenteredSeriesMixin,n=a.defined,q=a.each,o=a.extend,r=e.getStartAndEndRadians,h=a.inArray,l=a.noop,c=a.pick,d=a.Point,f=a.Series,m=a.seriesType,x=a.setAnimation;m("pie","line",{center:[null,null],clip:!1,colorByPoint:!0,dataLabels:{allowOverlap:!0,distance:30,enabled:!0,formatter:function(){return this.point.isNull?void 0:this.point.name},x:0},ignoreHiddenPoint:!0,legendType:"point",marker:null,size:null,showInLegend:!1,slicedOffset:10,stickyTracking:!1,tooltip:{followPointer:!0},borderColor:"#ffffff",borderWidth:1,states:{hover:{brightness:.1}}},{isCartesian:!1,requireSorting:!1,directTouch:!0,noSharedTooltip:!0,trackerGroups:["group","dataLabelsGroup"],axisTypes:[],pointAttribs:a.seriesTypes.column.prototype.pointAttribs,animate:function(a){var t=this,b=t.points,e=t.startAngleRad;a||(q(b,(function(a){var b=a.graphic,n=a.shapeArgs;b&&(b.attr({r:a.startR||t.center[3]/2,start:e,end:e}),b.animate({r:n.r,start:n.start,end:n.end},t.options.animation))})),t.animate=null)},updateTotals:function(){var a,t,e=0,b=this.points,n=b.length,o=this.options.ignoreHiddenPoint;for(a=0;a<n;a++)t=b[a],e+=o&&!t.visible||t.isNull?0:t.y;for(this.total=e,a=0;a<n;a++)(t=b[a]).percentage=0<e&&(t.visible||!o)?t.y/e*100:0,t.total=e},generatePoints:function(){f.prototype.generatePoints.call(this),this.updateTotals()},translate:function(a){this.generatePoints();var t,e,n,o,h,l,d=0,f=(b=this.options).slicedOffset,m=f+(b.borderWidth||0),x=r(b.startAngle,b.endAngle),v=this.startAngleRad=x.start,u=(x=(this.endAngleRad=x.end)-v,this.points),q=b.dataLabels.distance,b=b.ignoreHiddenPoint,p=u.length;for(a||(this.center=a=this.getCenter()),this.getX=function(b,t,e){return n=Math.asin(Math.min((b-a[1])/(a[2]/2+e.labelDistance),1)),a[0]+(t?-1:1)*Math.cos(n)*(a[2]/2+e.labelDistance)},h=0;h<p;h++)(l=u[h]).labelDistance=c(l.options.dataLabels&&l.options.dataLabels.distance,q),this.maxLabelDistance=Math.max(this.maxLabelDistance||0,l.labelDistance),t=v+d*x,b&&!l.visible||(d+=l.percentage/100),e=v+d*x,l.shapeType="arc",l.shapeArgs={x:a[0],y:a[1],r:a[2]/2,innerR:a[3]/2,start:Math.round(1e3*t)/1e3,end:Math.round(1e3*e)/1e3},(n=(e+t)/2)>1.5*Math.PI?n-=2*Math.PI:n<-Math.PI/2&&(n+=2*Math.PI),l.slicedTranslation={translateX:Math.round(Math.cos(n)*f),translateY:Math.round(Math.sin(n)*f)},e=Math.cos(n)*a[2]/2,o=Math.sin(n)*a[2]/2,l.tooltipPos=[a[0]+.7*e,a[1]+.7*o],l.half=n<-Math.PI/2||n>Math.PI/2?1:0,l.angle=n,t=Math.min(m,l.labelDistance/5),l.labelPos=[a[0]+e+Math.cos(n)*l.labelDistance,a[1]+o+Math.sin(n)*l.labelDistance,a[0]+e+Math.cos(n)*t,a[1]+o+Math.sin(n)*t,a[0]+e,a[1]+o,0>l.labelDistance?"center":l.half?"right":"left",n]},drawGraph:null,drawPoints:function(){var b,t,e,n,a=this,r=a.chart.renderer,h=a.options.shadow;h&&!a.shadowGroup&&(a.shadowGroup=r.g("shadow").add(a.group)),q(a.points,(function(l){if(t=l.graphic,l.isNull)t&&(l.graphic=t.destroy());else{n=l.shapeArgs,b=l.getTranslate();var c=l.shadowGroup;h&&!c&&(c=l.shadowGroup=r.g("shadow").add(a.shadowGroup)),c&&c.attr(b),e=a.pointAttribs(l,l.selected&&"select"),t?t.setRadialReference(a.center).attr(e).animate(o(n,b)):(l.graphic=t=r[l.shapeType](n).setRadialReference(a.center).attr(b).add(a.group),t.attr(e).attr({"stroke-linejoin":"round"}).shadow(h,c)),t.attr({visibility:l.visible?"inherit":"hidden"}),t.addClass(l.getClassName())}}))},searchPoint:l,sortByAngle:function(a,t){a.sort((function(a,e){return void 0!==a.angle&&(e.angle-a.angle)*t}))},drawLegendSymbol:a.LegendSymbolMixin.drawRectangle,getCenter:e.getCenter,getSymbol:l},{init:function(){d.prototype.init.apply(this,arguments);var e,a=this;return a.name=c(a.name,"Slice"),e=function(b){a.slice("select"===b.type)},t(a,"select",e),t(a,"unselect",e),a},isValid:function(){return a.isNumber(this.y,!0)&&0<=this.y},setVisible:function(a,t){var b=this,e=b.series,n=e.chart,o=e.options.ignoreHiddenPoint;t=c(t,o),a!==b.visible&&(b.visible=b.options.visible=a=void 0===a?!b.visible:a,e.options.data[h(b,e.data)]=b.options,q(["graphic","dataLabel","connector","shadowGroup"],(function(t){b[t]&&b[t][a?"show":"hide"](!0)})),b.legendItem&&n.legend.colorizeItem(b,a),a||"hover"!==b.state||b.setState(""),o&&(e.isDirty=!0),t&&n.redraw())},slice:function(a,t,b){var e=this.series;x(b,e.chart),c(t,!0),this.sliced=this.options.sliced=n(a)?a:!this.sliced,e.options.data[h(this,e.data)]=this.options,this.graphic.animate(this.getTranslate()),this.shadowGroup&&this.shadowGroup.animate(this.getTranslate())},getTranslate:function(){return this.sliced?this.slicedTranslation:{translateX:0,translateY:0}},haloPath:function(a){var t=this.shapeArgs;return this.sliced||!this.visible?[]:this.series.chart.renderer.symbols.arc(t.x,t.y,t.r+a,t.r+a,{innerR:this.shapeArgs.r-1,start:t.start,end:t.end})}})}(c),function(a){var t=a.addEvent,e=a.arrayMax,n=a.defined,q=a.each,o=a.extend,r=a.format,h=a.map,l=a.merge,c=a.noop,d=a.pick,f=a.relativeLength,m=a.Series,x=a.seriesTypes,v=a.some,y=a.stableSort,b=a.isArray,k=a.splat;a.distribute=function(b,t,e){function n(a,b){return a.target-b.target}var o,r,l=!0,c=b,f=[];r=0;var m=c.reducedLen||t;for(o=b.length;o--;)r+=b[o].size;if(r>m){for(y(b,(function(a,b){return(b.rank||0)-(a.rank||0)})),r=o=0;r<=m;)r+=b[o].size,o++;f=b.splice(o-1,b.length)}for(y(b,n),b=h(b,(function(a){return{size:a.size,targets:[a.target],align:d(a.align,.5)}}));l;){for(o=b.length;o--;)l=b[o],r=(Math.min.apply(0,l.targets)+Math.max.apply(0,l.targets))/2,l.pos=Math.min(Math.max(0,r-l.size*l.align),t-l.size);for(o=b.length,l=!1;o--;)0<o&&b[o-1].pos+b[o-1].size>b[o].pos&&(b[o-1].size+=b[o].size,b[o-1].targets=b[o-1].targets.concat(b[o].targets),b[o-1].align=.5,b[o-1].pos+b[o-1].size>t&&(b[o-1].pos=t-b[o-1].size),b.splice(o,1),l=!0)}c.push.apply(c,f),o=0,v(b,(function(b){var n=0;if(v(b.targets,(function(){if(c[o].pos=b.pos+n,Math.abs(c[o].pos-c[o].target)>e)return q(c.slice(0,o+1),(function(a){delete a.pos})),c.reducedLen=(c.reducedLen||t)-.1*t,c.reducedLen>.1*t&&a.distribute(c,t,e),!0;n+=c[o].size,o++})))return!0})),y(c,n)},m.prototype.drawDataLabels=function(){function e(a,t){var g,e=[];if(b(a)&&!b(t))e=h(a,(function(a){return l(a,t)}));else if(b(t)&&!b(a))e=h(t,(function(b){return l(a,b)}));else if(b(a)||b(t))for(g=Math.max(a.length,t.length);g--;)e[g]=l(a[g],t[g]);else e=l(a,t);return e}var o,c,f=this,m=f.chart,x=f.options,v=x.dataLabels,u=f.points,y=f.hasRendered||0,p=d(v.defer,!!x.animation),M=m.renderer;v=e(e(m.options.plotOptions&&m.options.plotOptions.series&&m.options.plotOptions.series.dataLabels,m.options.plotOptions&&m.options.plotOptions[f.type]&&m.options.plotOptions[f.type].dataLabels),v);(b(v)||v.enabled||f._hasPointLabels)&&(c=f.plotGroup("dataLabelsGroup","data-labels",p&&!y?"hidden":"visible",v.zIndex||6),p&&(c.attr({opacity:+y}),y||t(f,"afterAnimate",(function(){f.visible&&c.show(!0),c[x.animation?"animate":"attr"]({opacity:1},{duration:200})}))),q(u,(function(b){o=k(e(v,b.dlOptions||b.options&&b.options.dataLabels)),q(o,(function(t,g){var e,p,u,o,h=t.enabled&&!b.isNull&&function(a,b){var t=b.filter;return!t||(b=t.operator,a=a[t.property],t=t.value,">"===b&&a>t||"<"===b&&a<t||">="===b&&a>=t||"<="===b&&a<=t||"=="===b&&a==t||"==="===b&&a===t)}(b,t),l=b.dataLabels?b.dataLabels[g]:b.dataLabel,v=b.connectors?b.connectors[g]:b.connector,y=!l;h&&(e=b.getLabelConfig(),p=t[b.formatPrefix+"Format"]||t.format,e=n(p)?r(p,e,m.time):(t[b.formatPrefix+"Formatter"]||t.formatter).call(e,t),p=t.style,u=t.rotation,p.color=d(t.color,p.color,f.color,"#000000"),"contrast"===p.color&&(b.contrastColor=M.getContrast(b.color||f.color),p.color=t.inside||0>d(t.distance,b.labelDistance)||x.stacking?b.contrastColor:"#000000"),x.cursor&&(p.cursor=x.cursor),o={fill:t.backgroundColor,stroke:t.borderColor,"stroke-width":t.borderWidth,r:t.borderRadius||0,rotation:u,padding:t.padding,zIndex:1},a.objectEach(o,(function(a,b){void 0===a&&delete o[b]}))),!l||h&&n(e)?h&&n(e)&&(l?o.text=e:(b.dataLabels=b.dataLabels||[],l=b.dataLabels[g]=u?M.text(e,0,-9999).addClass("highcharts-data-label"):M.label(e,0,-9999,t.shape,null,null,t.useHTML,null,"data-label"),g||(b.dataLabel=l),l.addClass(" highcharts-data-label-color-"+b.colorIndex+" "+(t.className||"")+(t.useHTML?" highcharts-tracker":""))),l.options=t,l.attr(o),l.css(p).shadow(t.shadow),l.added||l.add(c),f.alignDataLabel(b,l,t,null,y)):(b.dataLabel=b.dataLabel.destroy(),b.dataLabels&&(1===b.dataLabels.length?delete b.dataLabels:delete b.dataLabels[g]),g||delete b.dataLabel,v&&(b.connector=b.connector.destroy(),b.connectors&&(1===b.connectors.length?delete b.connectors:delete b.connectors[g])))}))}))),a.fireEvent(this,"afterDrawDataLabels")},m.prototype.alignDataLabel=function(a,b,t,e,n){var p,r=this.chart,h=r.inverted,l=d(a.dlBox&&a.dlBox.centerX,a.plotX,-9999),c=d(a.plotY,-9999),f=b.getBBox(),m=t.rotation,g=t.align,x=this.visible&&(a.series.forceDL||r.isInsidePlot(l,Math.round(c),h)||e&&r.isInsidePlot(l,h?e.x+1:e.y+e.height-1,h)),v="justify"===d(t.overflow,"justify");x&&(p=t.style.fontSize,p=r.renderer.fontMetrics(p,b).b,e=o({x:h?this.yAxis.len-c:l,y:Math.round(h?this.xAxis.len-l:c),width:0,height:0},e),o(t,{width:f.width,height:f.height}),m?(v=!1,l=r.renderer.rotCorr(p,m),l={x:e.x+t.x+e.width/2+l.x,y:e.y+t.y+{top:0,middle:.5,bottom:1}[t.verticalAlign]*e.height},b[n?"attr":"animate"](l).attr({align:g}),c=180<(c=(m+720)%360)&&360>c,"left"===g?l.y-=c?f.height:0:"center"===g?(l.x-=f.width/2,l.y-=f.height/2):"right"===g&&(l.x-=f.width,l.y-=c?0:f.height),b.placed=!0,b.alignAttr=l):(b.align(t,null,e),l=b.alignAttr),v&&0<=e.height?a.isLabelJustified=this.justifyDataLabel(b,t,l,f,e,n):d(t.crop,!0)&&(x=r.isInsidePlot(l.x,l.y)&&r.isInsidePlot(l.x+f.width,l.y+f.height)),t.shape&&!m)&&b[n?"attr":"animate"]({anchorX:h?r.plotWidth-a.plotY:a.plotX,anchorY:h?r.plotHeight-a.plotX:a.plotY}),x||(b.attr({y:-9999}),b.placed=!1)},m.prototype.justifyDataLabel=function(a,b,t,e,n,o){var r,p,h=this.chart,l=b.align,c=b.verticalAlign,d=a.box?0:a.padding||0;return 0>(r=t.x+d)&&("right"===l?b.align="left":b.x=-r,p=!0),(r=t.x+e.width-d)>h.plotWidth&&("left"===l?b.align="right":b.x=h.plotWidth-r,p=!0),0>(r=t.y+d)&&("bottom"===c?b.verticalAlign="top":b.y=-r,p=!0),(r=t.y+e.height-d)>h.plotHeight&&("top"===c?b.verticalAlign="bottom":b.y=h.plotHeight-r,p=!0),p&&(a.placed=!o,a.align(b,null,n)),p},x.pie&&(x.pie.prototype.drawDataLabels=function(){var t,p,o,r,h,l,c,f,x,v,b=this,y=b.data,k=b.chart,M=b.options.dataLabels,w=d(M.connectorPadding,10),u=d(M.connectorWidth,1),A=k.plotWidth,S=k.plotHeight,T=Math.round(k.chartWidth/3),P=b.center,g=P[2]/2,C=P[1],L=[[],[]],O=[0,0,0,0];b.visible&&(M.enabled||b._hasPointLabels)&&(q(y,(function(a){a.dataLabel&&a.visible&&a.dataLabel.shortened&&(a.dataLabel.attr({width:"auto"}).css({width:"auto",textOverflow:"clip"}),a.dataLabel.shortened=!1)})),m.prototype.drawDataLabels.apply(b),q(y,(function(a){a.dataLabel&&(a.visible?(L[a.half].push(a),a.dataLabel._pos=null,!n(M.style.width)&&!n(a.options.dataLabels&&a.options.dataLabels.style&&a.options.dataLabels.style.width)&&a.dataLabel.getBBox().width>T&&(a.dataLabel.css({width:.7*T}),a.dataLabel.shortened=!0)):(a.dataLabel=a.dataLabel.destroy(),a.dataLabels&&1===a.dataLabels.length&&delete a.dataLabels))})),q(L,(function(e,m){var y,p,T,L=e.length,u=[];if(L)for(b.sortByAngle(e,m-.5),0<b.maxLabelDistance&&(y=Math.max(0,C-g-b.maxLabelDistance),p=Math.min(C+g+b.maxLabelDistance,k.plotHeight),q(e,(function(a){0<a.labelDistance&&a.dataLabel&&(a.top=Math.max(0,C-g-a.labelDistance),a.bottom=Math.min(C+g+a.labelDistance,k.plotHeight),T=a.dataLabel.getBBox().height||21,a.distributeBox={target:a.labelPos[1]-a.top+T/2,size:T,rank:a.y},u.push(a.distributeBox))})),y=p+T-y,a.distribute(u,y,y/5)),v=0;v<L;v++)t=e[v],h=t.labelPos,o=t.dataLabel,x=!1===t.visible?"hidden":"inherit",f=y=h[1],u&&n(t.distributeBox)&&(void 0===t.distributeBox.pos?x="hidden":(l=t.distributeBox.size,f=t.top+t.distributeBox.pos)),delete t.positionIndex,c=M.justify?P[0]+(m?-1:1)*(g+t.labelDistance):b.getX(f<t.top+2||f>t.bottom-2?y:f,m,t),o._attr={visibility:x,align:h[6]},o._pos={x:c+M.x+({left:w,right:-w}[h[6]]||0),y:f+M.y-10},h.x=c,h.y=f,d(M.crop,!0)&&(r=o.getBBox().width,y=null,c-r<w&&1===m?(y=Math.round(r-c+w),O[3]=Math.max(y,O[3])):c+r>A-w&&0===m&&(y=Math.round(c+r-A+w),O[1]=Math.max(y,O[1])),0>f-l/2?O[0]=Math.max(Math.round(l/2-f),O[0]):f+l/2>S&&(O[2]=Math.max(Math.round(f+l/2-S),O[2])),o.sideOverflow=y)})),0===e(O)||this.verifyDataLabelOverflow(O))&&(this.placeDataLabels(),u&&q(this.points,(function(a){var t;p=a.connector,(o=a.dataLabel)&&o._pos&&a.visible&&0<a.labelDistance?(x=o._attr.visibility,(t=!p)&&(a.connector=p=k.renderer.path().addClass("highcharts-data-label-connector  highcharts-color-"+a.colorIndex+(a.className?" "+a.className:"")).add(b.dataLabelsGroup),p.attr({"stroke-width":u,stroke:M.connectorColor||a.color||"#666666"})),p[t?"attr":"animate"]({d:b.connectorPath(a.labelPos)}),p.attr("visibility",x)):p&&(a.connector=p.destroy())})))},x.pie.prototype.connectorPath=function(a){var b=a.x,t=a.y;return d(this.options.dataLabels.softConnector,!0)?["M",b+("left"===a[6]?5:-5),t,"C",b,t,2*a[2]-a[4],2*a[3]-a[5],a[2],a[3],"L",a[4],a[5]]:["M",b+("left"===a[6]?5:-5),t,"L",a[2],a[3],"L",a[4],a[5]]},x.pie.prototype.placeDataLabels=function(){q(this.points,(function(a){var b=a.dataLabel;b&&a.visible&&((a=b._pos)?(b.sideOverflow&&(b._attr.width=b.getBBox().width-b.sideOverflow,b.css({width:b._attr.width+"px",textOverflow:(this.options.dataLabels.style||{}).textOverflow||"ellipsis"}),b.shortened=!0),b.attr(b._attr),b[b.moved?"animate":"attr"](a),b.moved=!0):b&&b.attr({y:-9999}))}),this)},x.pie.prototype.alignDataLabel=c,x.pie.prototype.verifyDataLabelOverflow=function(a){var t,b=this.center,e=this.options,n=e.center,o=e.minSize||80,r=null!==e.size;return r||(null!==n[0]?t=Math.max(b[2]-Math.max(a[1],a[3]),o):(t=Math.max(b[2]-a[1]-a[3],o),b[0]+=(a[3]-a[1])/2),null!==n[1]?t=Math.max(Math.min(t,b[2]-Math.max(a[0],a[2])),o):(t=Math.max(Math.min(t,b[2]-a[0]-a[2]),o),b[1]+=(a[0]-a[2])/2),t<b[2]?(b[2]=t,b[3]=Math.min(f(e.innerSize||0,t),t),this.translate(b),this.drawDataLabels&&this.drawDataLabels()):r=!0),r}),x.column&&(x.column.prototype.alignDataLabel=function(a,b,t,e,n){var o=this.chart.inverted,r=a.series,h=a.dlBox||a.shapeArgs,c=d(a.below,a.plotY>d(this.translatedThreshold,r.yAxis.len)),f=d(t.inside,!!this.options.stacking);h&&(0>(e=l(h)).y&&(e.height+=e.y,e.y=0),0<(h=e.y+e.height-r.yAxis.len)&&(e.height-=h),o&&(e={x:r.yAxis.len-e.y-e.height,y:r.xAxis.len-e.x-e.width,width:e.height,height:e.width}),f||(o?(e.x+=c?0:e.width,e.width=0):(e.y+=c?e.height:0,e.height=0))),t.align=d(t.align,!o||f?"center":c?"right":"left"),t.verticalAlign=d(t.verticalAlign,o||f?"middle":c?"top":"bottom"),m.prototype.alignDataLabel.call(this,a,b,t,e,n),a.isLabelJustified&&a.contrastColor&&b.css({color:a.contrastColor})})}(c),function(a){var t=a.Chart,e=a.each,n=a.isArray,q=a.objectEach,o=a.pick;(a=a.addEvent)(t,"render",(function(){var a=[];e(this.labelCollectors||[],(function(t){a=a.concat(t())})),e(this.yAxis||[],(function(t){t.options.stackLabels&&!t.options.stackLabels.allowOverlap&&q(t.stacks,(function(t){q(t,(function(t){a.push(t.label)}))}))})),e(this.series||[],(function(t){var q=t.options.dataLabels;t.visible&&(!1!==q.enabled||t._hasPointLabels)&&e(t.points,(function(t){if(t.visible){var r=n(t.dataLabels)?t.dataLabels:t.dataLabel?[t.dataLabel]:[];e(r,(function(e){var n=e.options;e.labelrank=o(n.labelrank,t.labelrank,t.shapeArgs&&t.shapeArgs.height),n.allowOverlap||a.push(e)}))}}))})),this.hideOverlappingLabels(a)})),t.prototype.hideOverlappingLabels=function(a){var t,q,n,o,r,h,l=a.length,c=this.renderer,d=function(a,t,e,n,o,r,h,l){return!(o>a+e||o+h<a||r>t+n||r+l<t)};for(n=function(a){var b,t,e,n=a.box?0:a.padding||0;if(e=0,a&&(!a.alignAttr||a.placed))return b=a.alignAttr||{x:a.attr("x"),y:a.attr("y")},t=a.parentGroup,a.width||(e=a.getBBox(),a.width=e.width,a.height=e.height,e=c.fontMetrics(null,a.element).h),{x:b.x+(t.translateX||0)+n,y:b.y+(t.translateY||0)+n-e,width:a.width-2*n,height:a.height-2*n}},q=0;q<l;q++)(t=a[q])&&(t.oldOpacity=t.opacity,t.newOpacity=1,t.absoluteBox=n(t));for(a.sort((function(a,t){return(t.labelrank||0)-(a.labelrank||0)})),q=0;q<l;q++)for(h=(n=a[q])&&n.absoluteBox,t=q+1;t<l;++t)r=(o=a[t])&&o.absoluteBox,h&&r&&n!==o&&0!==n.newOpacity&&0!==o.newOpacity&&(r=d(h.x,h.y,h.width,h.height,r.x,r.y,r.width,r.height))&&((n.labelrank<o.labelrank?n:o).newOpacity=0);e(a,(function(a){var b,t;a&&(t=a.newOpacity,a.oldOpacity!==t&&(a.alignAttr&&a.placed?(t?a.show(!0):b=function(){a.hide()},a.alignAttr.opacity=t,a[a.isOld?"animate":"attr"](a.alignAttr,null,b)):a.attr({opacity:t})),a.isOld=!0)}))}}(c),function(a){var t,e=a.addEvent,n=a.Chart,o=a.createElement,q=a.css,r=a.defaultOptions,h=a.defaultPlotOptions,l=a.each,c=a.extend,d=a.fireEvent,f=a.hasTouch,m=a.inArray,x=a.isObject,v=a.Legend,y=a.merge,k=a.pick,b=a.Point,M=a.Series,w=a.seriesTypes,A=a.svg;t=a.TrackerMixin={drawTrackerPoint:function(){var a=this,b=a.chart.pointer,t=function(a){var t=b.getPointFromEvent(a);void 0!==t&&(b.isDirectTouch=!0,t.onMouseOver(a))};l(a.points,(function(a){a.graphic&&(a.graphic.element.point=a),a.dataLabel&&(a.dataLabel.div?a.dataLabel.div.point=a:a.dataLabel.element.point=a)})),a._hasTracking||(l(a.trackerGroups,(function(e){a[e]&&(a[e].addClass("highcharts-tracker").on("mouseover",t).on("mouseout",(function(a){b.onTrackerMouseOut(a)})),f&&a[e].on("touchstart",t),a.options.cursor&&a[e].css(q).css({cursor:a.options.cursor}))})),a._hasTracking=!0),d(this,"afterDrawTracker")},drawTrackerGraph:function(){var t,a=this,b=a.options,e=b.trackByArea,n=[].concat(e?a.areaPath:a.graphPath),o=n.length,r=a.chart,h=r.pointer,p=r.renderer,c=r.options.tooltip.snap,g=a.tracker,m=function(){r.hoverSeries!==a&&a.onMouseOver()},x="rgba(192,192,192,"+(A?1e-4:.002)+")";if(o&&!e)for(t=o+1;t--;)"M"===n[t]&&n.splice(t+1,0,n[t+1]-c,n[t+2],"L"),(t&&"M"===n[t]||t===o)&&n.splice(t,0,"L",n[t-2]+c,n[t-1]);g?g.attr({d:n}):a.graph&&(a.tracker=p.path(n).attr({"stroke-linejoin":"round",stroke:x,fill:e?x:"none","stroke-width":a.graph.strokeWidth()+(e?0:2*c),visibility:a.visible?"visible":"hidden",zIndex:2}).addClass(e?"highcharts-tracker-area":"highcharts-tracker-line").add(a.group),l([a.tracker,a.markerGroup],(function(a){a.addClass("highcharts-tracker").on("mouseover",m).on("mouseout",(function(a){h.onTrackerMouseOut(a)})),b.cursor&&a.css({cursor:b.cursor}),f&&a.on("touchstart",m)}))),d(this,"afterDrawTracker")}},w.column&&(w.column.prototype.drawTracker=t.drawTrackerPoint),w.pie&&(w.pie.prototype.drawTracker=t.drawTrackerPoint),w.scatter&&(w.scatter.prototype.drawTracker=t.drawTrackerPoint),r.legend.itemStyle.cursor="pointer",c(v.prototype,{setItemEvents:function(a,t,e){var n=this,o=n.chart.renderer.boxWrapper,r="highcharts-legend-"+(a instanceof b?"point":"series")+"-active";(e?t:a.legendGroup).on("mouseover",(function(){a.setState("hover"),o.addClass(r),t.css(n.options.itemHoverStyle)})).on("mouseout",(function(){t.css(y(a.visible?n.itemStyle:n.itemHiddenStyle)),o.removeClass(r),a.setState()})).on("click",(function(b){var t=function(){a.setVisible&&a.setVisible()};o.removeClass(r),b={browserEvent:b},a.firePointEvent?a.firePointEvent("legendItemClick",b,t):d(a,"legendItemClick",b,t)}))},createCheckboxForItem:function(a){a.checkbox=o("input",{type:"checkbox",className:"highcharts-legend-checkbox",checked:a.selected,defaultChecked:a.selected},this.options.itemCheckboxStyle,this.chart.container),e(a.checkbox,"click",(function(b){d(a.series||a,"checkboxClick",{checked:b.target.checked,item:a},(function(){a.select()}))}))}}),c(n.prototype,{showResetZoom:function(){function a(){b.zoomOut()}var b=this,t=r.lang,e=b.options.chart.resetZoomButton,n=e.theme,o=n.states,h="chart"===e.relativeTo?null:"plotBox";d(this,"beforeShowResetZoom",null,(function(){b.resetZoomButton=b.renderer.button(t.resetZoom,null,null,a,n,o&&o.hover).attr({align:e.position.align,title:t.resetZoomTitle}).addClass("highcharts-reset-zoom").add().align(e.position,!1,h)}))},zoomOut:function(){d(this,"selection",{resetSelection:!0},this.zoom)},zoom:function(a){var b,t,e=this.pointer,n=!1;!a||a.resetSelection?(l(this.axes,(function(a){b=a.zoom()})),e.initiated=!1):l(a.xAxis.concat(a.yAxis),(function(a){var t=a.axis;e[t.isXAxis?"zoomX":"zoomY"]&&(b=t.zoom(a.min,a.max),t.displayBtn&&(n=!0))})),t=this.resetZoomButton,n&&!t?this.showResetZoom():!n&&x(t)&&(this.resetZoomButton=t.destroy()),b&&this.redraw(k(this.options.chart.animation,a&&a.animation,100>this.pointCount))},pan:function(a,b){var t,e=this,n=e.hoverPoints;n&&l(n,(function(a){a.setState()})),l("xy"===b?[1,0]:[1],(function(b){var u,n=(b=e[b?"xAxis":"yAxis"][0]).horiz,o=a[n?"chartX":"chartY"],r=e[n=n?"mouseDownX":"mouseDownY"],g=(b.pointRange||0)/2,h=b.reversed&&!e.inverted||!b.reversed&&e.inverted?-1:1,l=b.getExtremes(),c=b.toValue(r-o,!0)+g*h;r=(u=(h=b.toValue(r+b.len-o,!0)-g*h)<c)?h:c,c=u?c:h;0<(u=(h=Math.min(l.dataMin,g?l.min:b.toValue(b.toPixels(l.min)-b.minPixelPadding)))-r)&&(c+=u,r=h),0<(u=c-(g=Math.max(l.dataMax,g?l.max:b.toValue(b.toPixels(l.max)+b.minPixelPadding))))&&(c=g,r-=u),b.series.length&&r!==l.min&&c!==l.max&&(b.setExtremes(r,c,!1,!1,{trigger:"pan"}),t=!0),e[n]=o})),t&&e.redraw(!1),q(e.container,{cursor:"move"})}}),c(b.prototype,{select:function(a,b){var t=this,e=t.series,n=e.chart;a=k(a,!t.selected),t.firePointEvent(a?"select":"unselect",{accumulate:b},(function(){t.selected=t.options.selected=a,e.options.data[m(t,e.data)]=t.options,t.setState(a&&"select"),b||l(n.getSelectedPoints(),(function(a){a.selected&&a!==t&&(a.selected=a.options.selected=!1,e.options.data[m(a,e.data)]=a.options,a.setState(""),a.firePointEvent("unselect"))}))}))},onMouseOver:function(a){var b=this.series.chart,t=b.pointer;a=a?t.normalize(a):t.getChartCoordinatesFromPoint(this,b.inverted),t.runPointActions(a,this)},onMouseOut:function(){var a=this.series.chart;this.firePointEvent("mouseOut"),l(a.hoverPoints||[],(function(a){a.setState()})),a.hoverPoints=a.hoverPoint=null},importEvents:function(){if(!this.hasImportedEvents){var b=this,t=y(b.series.options.point,b.options).events;b.events=t,a.objectEach(t,(function(a,t){e(b,t,a)})),this.hasImportedEvents=!0}},setState:function(a,b){var t,e=Math.floor(this.plotX),n=this.plotY,o=this.series,r=o.options.states[a||"normal"]||{},l=h[o.type].marker&&o.options.marker,p=l&&!1===l.enabled,f=l&&l.states&&l.states[a||"normal"]||{},g=!1===f.enabled,m=o.stateMarkerGraphic,x=this.marker||{},v=o.chart,q=o.halo,y=l&&o.markerAttribs;(a=a||"")===this.state&&!b||this.selected&&"select"!==a||!1===r.enabled||a&&(g||p&&!1===f.enabled)||a&&x.states&&x.states[a]&&!1===x.states[a].enabled||(y&&(t=o.markerAttribs(this,a)),this.graphic?(this.state&&this.graphic.removeClass("highcharts-point-"+this.state),a&&this.graphic.addClass("highcharts-point-"+a),this.graphic.animate(o.pointAttribs(this,a),k(v.options.chart.animation,r.animation)),t&&this.graphic.animate(t,k(v.options.chart.animation,f.animation,l.animation)),m&&m.hide()):(a&&f&&(l=x.symbol||o.symbol,m&&m.currentSymbol!==l&&(m=m.destroy()),m?m[b?"animate":"attr"]({x:t.x,y:t.y}):l&&(o.stateMarkerGraphic=m=v.renderer.symbol(l,t.x,t.y,t.width,t.height).add(o.markerGroup),m.currentSymbol=l),m&&m.attr(o.pointAttribs(this,a))),m&&(m[a&&v.isInsidePlot(e,n,v.inverted)?"show":"hide"](),m.element.point=this)),(e=r.halo)&&e.size?(q||(o.halo=q=v.renderer.path().add((this.graphic||m).parentGroup)),q.show()[b?"animate":"attr"]({d:this.haloPath(e.size)}),q.attr({class:"highcharts-halo highcharts-color-"+k(this.colorIndex,o.colorIndex)+(this.className?" "+this.className:""),zIndex:-1}),q.point=this,q.attr(c({fill:this.color||o.color,"fill-opacity":e.opacity},e.attributes))):q&&q.point&&q.point.haloPath&&q.animate({d:q.point.haloPath(0)},null,q.hide),this.state=a,d(this,"afterSetState"))},haloPath:function(a){return this.series.chart.renderer.symbols.circle(Math.floor(this.plotX)-a,this.plotY-a,2*a,2*a)}}),c(M.prototype,{onMouseOver:function(){var a=this.chart,b=a.hoverSeries;b&&b!==this&&b.onMouseOut(),this.options.events.mouseOver&&d(this,"mouseOver"),this.setState("hover"),a.hoverSeries=this},onMouseOut:function(){var a=this.options,b=this.chart,t=b.tooltip,e=b.hoverPoint;b.hoverSeries=null,e&&e.onMouseOut(),this&&a.events.mouseOut&&d(this,"mouseOut"),!t||this.stickyTracking||t.shared&&!this.noSharedTooltip||t.hide(),this.setState()},setState:function(a){var b=this,t=b.options,e=b.graph,n=t.states,o=t.lineWidth;t=0;if(a=a||"",b.state!==a&&(l([b.group,b.markerGroup,b.dataLabelsGroup],(function(t){t&&(b.state&&t.removeClass("highcharts-series-"+b.state),a&&t.addClass("highcharts-series-"+a))})),b.state=a,!n[a]||!1!==n[a].enabled)&&(a&&(o=n[a].lineWidth||o+(n[a].lineWidthPlus||0)),e&&!e.dashstyle))for(o={"stroke-width":o},e.animate(o,k(n[a||"normal"]&&n[a||"normal"].animation,b.chart.options.chart.animation));b["zone-graph-"+t];)b["zone-graph-"+t].attr(o),t+=1},setVisible:function(a,b){var t,e=this,n=e.chart,o=e.legendItem,r=n.options.chart.ignoreHiddenSeries,p=e.visible;t=(e.visible=a=e.options.visible=e.userOptions.visible=void 0===a?!p:a)?"show":"hide",l(["group","dataLabelsGroup","markerGroup","tracker","tt"],(function(a){e[a]&&e[a][t]()})),n.hoverSeries!==e&&(n.hoverPoint&&n.hoverPoint.series)!==e||e.onMouseOut(),o&&n.legend.colorizeItem(e,a),e.isDirty=!0,e.options.stacking&&l(n.series,(function(a){a.options.stacking&&a.visible&&(a.isDirty=!0)})),l(e.linkedSeries,(function(b){b.setVisible(a,!1)})),r&&(n.isDirtyBox=!0),d(e,t),!1!==b&&n.redraw()},show:function(){this.setVisible(!0)},hide:function(){this.setVisible(!1)},select:function(a){this.selected=a=void 0===a?!this.selected:a,this.checkbox&&(this.checkbox.checked=a),d(this,a?"select":"unselect")},drawTracker:t.drawTrackerGraph})}(c),function(a){var t=a.Chart,e=a.each,n=a.inArray,q=a.isArray,o=a.isObject,r=a.pick,h=a.splat;t.prototype.setResponsive=function(t){var n=this.options.responsive,q=[],o=this.currentResponsive;n&&n.rules&&e(n.rules,(function(e){void 0===e._id&&(e._id=a.uniqueKey()),this.matchResponsiveRule(e,q,t)}),this);var r=a.merge.apply(0,a.map(q,(function(t){return a.find(n.rules,(function(a){return a._id===t})).chartOptions})));(q=q.toString()||void 0)!==(o&&o.ruleIds)&&(o&&this.update(o.undoOptions,t),q?(this.currentResponsive={ruleIds:q,mergedOptions:r,undoOptions:this.currentOptions(r)},this.update(r,t)):this.currentResponsive=void 0)},t.prototype.matchResponsiveRule=function(a,t){var e=a.condition;(e.callback||function(){return this.chartWidth<=r(e.maxWidth,Number.MAX_VALUE)&&this.chartHeight<=r(e.maxHeight,Number.MAX_VALUE)&&this.chartWidth>=r(e.minWidth,0)&&this.chartHeight>=r(e.minHeight,0)}).call(this)&&t.push(a._id)},t.prototype.currentOptions=function(t){var e={};return function t(e,r,l,c){var d;a.objectEach(e,(function(a,e){if(!c&&-1<n(e,["series","xAxis","yAxis"]))for(a=h(a),l[e]=[],d=0;d<a.length;d++)r[e][d]&&(l[e][d]={},t(a[d],r[e][d],l[e][d],c+1));else o(a)?(l[e]=q(a)?[]:{},t(a,r[e]||{},l[e],c+1)):l[e]=r[e]||null}))}(t,this.options,e,0),e}}(c),function(a){var t=a.addEvent,e=a.Axis,n=a.Chart,q=a.css,o=a.defined,r=a.each,h=a.extend,l=a.noop,c=a.pick,d=a.timeUnits,f=a.wrap;f(a.Series.prototype,"init",(function(a){var e;a.apply(this,Array.prototype.slice.call(arguments,1)),(e=this.xAxis)&&e.options.ordinal&&t(this,"updatedData",(function(){delete e.ordinalIndex}))})),f(e.prototype,"getTimeTicks",(function(a,t,e,n,b,r,h,l){var c,f,u,m,q,x=0,v={},y=[],p=-Number.MAX_VALUE,k=this.options.tickPixelInterval,g=this.chart.time;if(!this.options.ordinal&&!this.options.breaks||!r||3>r.length||void 0===e)return a.call(this,t,e,n,b);for(m=r.length,c=0;c<m;c++){if(q=c&&r[c-1]>n,r[c]<e&&(x=c),c===m-1||r[c+1]-r[c]>5*h||q){if(r[c]>p){for(f=a.call(this,t,r[x],r[c],b);f.length&&f[0]<=p;)f.shift();f.length&&(p=f[f.length-1]),y=y.concat(f)}x=c+1}if(q)break}if(a=f.info,l&&a.unitRange<=d.hour){for(c=y.length-1,x=1;x<c;x++)g.dateFormat("%d",y[x])!==g.dateFormat("%d",y[x-1])&&(v[y[x]]="day",u=!0);u&&(v[y[0]]="day"),a.higherRanks=v}if(y.info=a,l&&o(k)){var M;for(l=g=y.length,c=[],u=[];l--;)x=this.translate(y[l]),M&&(u[l]=M-x),c[l]=M=x;for(u.sort(),(u=u[Math.floor(u.length/2)])<.6*k&&(u=null),l=y[g-1]>n?g-1:g,M=void 0;l--;)x=c[l],n=Math.abs(M-x),M&&n<.8*k&&(null===u||n<.8*u)?(v[y[l]]&&!v[y[l+1]]?(n=l+1,M=x):n=l,y.splice(n,1)):M=x}return y})),h(e.prototype,{beforeSetTickPositions:function(){var a,t,b,e,u,n=[],h=!1,l=(m=this.getExtremes()).min,d=m.max,f=this.isXAxis&&!!this.options.breaks,m=this.options.ordinal,q=Number.MAX_VALUE,x=this.chart.options.chart.ignoreHiddenSeries;if(b="highcharts-navigator-xaxis"===this.options.className,!this.options.overscroll||this.max!==this.dataMax||this.chart.mouseIsDown&&!b||this.eventArgs&&(!this.eventArgs||"navigator"===this.eventArgs.trigger)||(this.max+=this.options.overscroll,!b&&o(this.userMin)&&(this.min+=this.options.overscroll)),m||f){if(r(this.series,(function(b,e){if(t=[],!(x&&!1===b.visible||!1===b.takeOrdinalPosition&&!f)&&(n=n.concat(b.processedXData),a=n.length,n.sort((function(a,b){return a-b})),q=Math.min(q,c(b.closestPointRange,q)),a)){for(e=0;e<a-1;)n[e]!==n[e+1]&&t.push(n[e+1]),e++;t[0]!==n[0]&&t.unshift(n[0]),n=t}b.isSeriesBoosting&&(u=!0)})),u&&(n.length=0),2<(a=n.length)){for(b=n[1]-n[0],e=a-1;e--&&!h;)n[e+1]-n[e]!==b&&(h=!0);!this.options.keepOrdinalPadding&&(n[0]-l>b||d-n[n.length-1]>b)&&(h=!0)}else this.options.overscroll&&(2===a?q=n[1]-n[0]:1===a?(q=this.options.overscroll,n=[n[0],n[0]+q]):q=this.overscrollPointsRange);h?(this.options.overscroll&&(this.overscrollPointsRange=q,n=n.concat(this.getOverscrollPositions())),this.ordinalPositions=n,b=this.ordinal2lin(Math.max(l,n[0]),!0),e=Math.max(this.ordinal2lin(Math.min(d,n[n.length-1]),!0),1),this.ordinalSlope=d=(d-l)/(e-b),this.ordinalOffset=l-b*d):(this.overscrollPointsRange=c(this.closestPointRange,this.overscrollPointsRange),this.ordinalPositions=this.ordinalSlope=this.ordinalOffset=void 0)}this.isOrdinal=m&&h,this.groupIntervalFactor=null},val2lin:function(a,t){var e=this.ordinalPositions;if(e){var b,n,o=e.length;for(b=o;b--;)if(e[b]===a){n=b;break}for(b=o-1;b--;)if(a>e[b]||0===b){n=b+(a=(a-e[b])/(e[b+1]-e[b]));break}t=t?n:this.ordinalSlope*(n||0)+this.ordinalOffset}else t=a;return t},lin2val:function(a,t){var e=this.ordinalPositions;if(e){var n,o=this.ordinalSlope,b=this.ordinalOffset,r=e.length-1;if(t)0>a?a=e[0]:a>r?a=e[r]:n=a-(r=Math.floor(a));else for(;r--;)if(a>=(t=o*r+b)){n=(a-t)/((o=o*(r+1)+b)-t);break}return void 0!==n&&void 0!==e[r]?e[r]+(n?n*(e[r+1]-e[r]):0):a}return a},getExtendedPositions:function(){var t,n,a=this,o=a.chart,h=a.series[0].currentDataGrouping,c=a.ordinalIndex,b=h?h.count+h.unitName:"raw",d=a.options.overscroll,f=a.getExtremes();return c||(c=a.ordinalIndex={}),c[b]||(t={series:[],chart:o,getExtremes:function(){return{min:f.dataMin,max:f.dataMax+d}},options:{ordinal:!0},val2lin:e.prototype.val2lin,ordinal2lin:e.prototype.ordinal2lin},r(a.series,(function(b){(n={xAxis:t,xData:b.xData.slice(),chart:o,destroyGroupedData:l}).xData=n.xData.concat(a.getOverscrollPositions()),n.options={dataGrouping:h?{enabled:!0,forced:!0,approximation:"open",units:[[h.unitName,[h.count]]]}:{enabled:!1}},b.processData.apply(n),t.series.push(n)})),a.beforeSetTickPositions.apply(t),c[b]=t.ordinalPositions),c[b]},getOverscrollPositions:function(){var t=this.options.overscroll,e=this.overscrollPointsRange,n=[],o=this.dataMax;if(a.defined(e))for(n.push(o);o<=this.dataMax+t;)o+=e,n.push(o);return n},getGroupIntervalFactor:function(a,t,e){var n,b=(e=e.processedXData).length,o=[];if(!(n=this.groupIntervalFactor)){for(n=0;n<b-1;n++)o[n]=e[n+1]-e[n];o.sort((function(a,b){return a-b})),o=o[Math.floor(b/2)],a=Math.max(a,e[0]),t=Math.min(t,e[b-1]),this.groupIntervalFactor=n=b*o/(t-a)}return n},postProcessTickInterval:function(a){var t=this.ordinalSlope;return t?this.options.breaks?this.closestPointRange||a:a/(t/this.closestPointRange):a}}),e.prototype.ordinal2lin=e.prototype.val2lin,f(n.prototype,"pan",(function(a,t){var e=this.xAxis[0],n=e.options.overscroll,b=t.chartX,o=!1;if(e.options.ordinal&&e.series.length){var h,l=this.mouseDownX,c=e.getExtremes(),d=c.dataMax,f=c.min,m=c.max,x=this.hoverPoints,u=e.closestPointRange||e.overscrollPointsRange,v=(l=(l-b)/(e.translationSlope*(e.ordinalSlope||u)),{ordinalPositions:e.getExtendedPositions()}),y=(u=e.lin2val,e.val2lin);v.ordinalPositions?1<Math.abs(l)&&(x&&r(x,(function(a){a.setState()})),0>l?(x=v,h=e.ordinalPositions?e:v):(x=e.ordinalPositions?e:v,h=v),d>(v=h.ordinalPositions)[v.length-1]&&v.push(d),this.fixedRange=m-f,(l=e.toFixedRange(null,null,u.apply(x,[y.apply(x,[f,!0])+l,!0]),u.apply(h,[y.apply(h,[m,!0])+l,!0]))).min>=Math.min(c.dataMin,f)&&l.max<=Math.max(d,m)+n&&e.setExtremes(l.min,l.max,!0,!1,{trigger:"pan"}),this.mouseDownX=b,q(this.container,{cursor:"move"})):o=!0}else o=!0;o&&(n&&(e.max=e.dataMax+n),a.apply(this,Array.prototype.slice.call(arguments,1)))}))}(c),function(a){function t(){return Array.prototype.slice.call(arguments,1)}function e(a){a.apply(this),this.drawBreaks(this.xAxis,["x"]),this.drawBreaks(this.yAxis,q(this.pointArrayMap,["y"]))}var n=a.addEvent,q=a.pick,o=a.wrap,r=a.each,h=a.extend,l=a.isArray,c=a.fireEvent,d=a.Axis,f=a.Series;h(d.prototype,{isInBreak:function(a,t){var e=a.repeat||1/0,n=a.from,b=a.to-a.from;return t=t>=n?(t-n)%e:e-(n-t)%e,a.inclusive?t<=b:t<b&&0!==t},isInAnyBreak:function(a,t){var b,e,n,o=this.options.breaks,r=o&&o.length;if(r){for(;r--;)this.isInBreak(o[r],a)&&(b=!0,e||(e=q(o[r].showPoints,!this.isXAxis)));n=b&&t?b&&!e:b}return n}}),n(d,"afterInit",(function(){"function"==typeof this.setBreaks&&this.setBreaks(this.options.breaks,!1)})),n(d,"afterSetTickPositions",(function(){if(this.isBroken){var t,a=this.tickPositions,e=this.tickPositions.info,n=[];for(t=0;t<a.length;t++)this.isInAnyBreak(a[t])||n.push(a[t]);this.tickPositions=n,this.tickPositions.info=e}})),n(d,"afterSetOptions",(function(){this.isBroken&&(this.options.ordinal=!1)})),d.prototype.setBreaks=function(a,t){function e(a){var t,e,n=a;for(e=0;e<b.breakArray.length;e++)if((t=b.breakArray[e]).to<=a)n-=t.len;else{if(t.from>=a)break;if(b.isInBreak(t,a)){n-=a-t.from;break}}return n}var b=this,n=l(a)&&!!a.length;b.isDirty=b.isBroken!==n,b.isBroken=n,b.options.breaks=b.userOptions.breaks=a,b.forceRedraw=!0,n||b.val2lin!==e||(delete b.val2lin,delete b.lin2val),n&&(b.userOptions.ordinal=!1,b.val2lin=e,b.lin2val=function(a){var t,e;for(e=0;e<b.breakArray.length&&!((t=b.breakArray[e]).from>=a);e++)(t.to<a||b.isInBreak(t,a))&&(a+=t.len);return a},b.setExtremes=function(a,b,t,e,n){if(this.isBroken){for(;this.isInAnyBreak(a);)a-=this.closestPointRange;for(;this.isInAnyBreak(b);)b-=this.closestPointRange}d.prototype.setExtremes.call(this,a,b,t,e,n)},b.setAxisTranslation=function(a){if(d.prototype.setAxisTranslation.call(this,a),this.unitLength=null,this.isBroken){a=b.options.breaks;var t,e,n,p,o=[],h=[],l=0,f=b.userMin||b.min,m=b.userMax||b.max,x=q(b.pointRangePadding,0);r(a,(function(a){e=a.repeat||1/0,b.isInBreak(a,f)&&(f+=a.to%e-f%e),b.isInBreak(a,m)&&(m-=m%e-a.from%e)})),r(a,(function(a){for(n=a.from,e=a.repeat||1/0;n-e>f;)n-=e;for(;n<f;)n+=e;for(p=n;p<m;p+=e)o.push({value:p,move:"in"}),o.push({value:p+(a.to-a.from),move:"out",size:a.breakSize})})),o.sort((function(a,b){return a.value===b.value?("in"===a.move?0:1)-("in"===b.move?0:1):a.value-b.value})),t=0,n=f,r(o,(function(a){1===(t+="in"===a.move?1:-1)&&"in"===a.move&&(n=a.value),0===t&&(h.push({from:n,to:a.value,len:a.value-n-(a.size||0)}),l+=a.value-n-(a.size||0))})),b.breakArray=h,b.unitLength=m-f-l+x,c(b,"afterBreaks"),b.staticScale?b.transA=b.staticScale:b.unitLength&&(b.transA*=(m-b.min+x)/b.unitLength),x&&(b.minPixelPadding=b.transA*b.minPointOffset),b.min=f,b.max=m}}),q(t,!0)&&this.chart.redraw()},o(f.prototype,"generatePoints",(function(a){a.apply(this,t(arguments));var b,e=this.xAxis,n=this.yAxis,o=this.points,r=o.length,h=this.options.connectNulls;if(e&&n&&(e.options.breaks||n.options.breaks))for(;r--;)null===(b=o[r]).y&&!1===h||!e.isInAnyBreak(b.x,!0)&&!n.isInAnyBreak(b.y,!0)||(o.splice(r,1),this.data[r]&&this.data[r].destroyElements())})),a.Series.prototype.drawBreaks=function(a,t){var b,e,n,o,h=this,l=h.points;a&&r(t,(function(t){b=a.breakArray||[],e=a.isXAxis?a.min:q(h.options.threshold,a.min),r(l,(function(h){o=q(h["stack"+t.toUpperCase()],h[t]),r(b,(function(b){n=!1,e<b.from&&o>b.to||e>b.from&&o<b.from?n="pointBreak":(e<b.from&&o>b.from&&o<b.to||e>b.from&&o>b.to&&o<b.from)&&(n="pointInBreak"),n&&c(a,n,{point:h,brk:b})}))}))}))},a.Series.prototype.gappedPath=function(){var t=(e=this.currentDataGrouping)&&e.totalRange,e=this.options.gapSize,n=this.points.slice(),o=n.length-1,b=this.yAxis;if(e&&0<o)for("value"!==this.options.gapUnit&&(e*=this.closestPointRange),t&&t>e&&(e=t);o--;)n[o+1].x-n[o].x>e&&(t=(n[o].x+n[o+1].x)/2,n.splice(o+1,0,{isNull:!0,x:t}),this.options.stacking&&((t=b.stacks[this.stackKey][t]=new a.StackItem(b,b.options.stackLabels,!1,t,this.stack)).total=0));return this.getGraphPath(n)},o(a.seriesTypes.column.prototype,"drawPoints",e),o(a.Series.prototype,"drawPoints",e)}(c),function(a){var t=a.addEvent,e=a.arrayMax,n=a.arrayMin,q=a.Axis,o=a.defaultPlotOptions,r=a.defined,h=a.each,l=a.extend,c=a.format,d=a.isNumber,f=a.merge,m=a.pick,x=a.Point,v=a.Series,y=a.Tooltip,b=a.wrap,k=v.prototype,M=k.processData,w=k.generatePoints,A={approximation:"average",groupPixelWidth:2,dateTimeLabelFormats:{millisecond:["%A, %b %e, %H:%M:%S.%L","%A, %b %e, %H:%M:%S.%L","-%H:%M:%S.%L"],second:["%A, %b %e, %H:%M:%S","%A, %b %e, %H:%M:%S","-%H:%M:%S"],minute:["%A, %b %e, %H:%M","%A, %b %e, %H:%M","-%H:%M"],hour:["%A, %b %e, %H:%M","%A, %b %e, %H:%M","-%H:%M"],day:["%A, %b %e, %Y","%A, %b %e","-%A, %b %e, %Y"],week:["Week from %A, %b %e, %Y","%A, %b %e","-%A, %b %e, %Y"],month:["%B %Y","%B","-%B %Y"],year:["%Y","%Y","-%Y"]}},S={line:{},spline:{},area:{},areaspline:{},column:{approximation:"sum",groupPixelWidth:10},arearange:{approximation:"range"},areasplinerange:{approximation:"range"},columnrange:{approximation:"range",groupPixelWidth:10},candlestick:{approximation:"ohlc",groupPixelWidth:10},ohlc:{approximation:"ohlc",groupPixelWidth:5}},T=a.defaultDataGroupingUnits=[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1]],["week",[1]],["month",[1,3,6]],["year",null]],P=a.approximations={sum:function(a){var t,b=a.length;if(!b&&a.hasNulls)t=null;else if(b)for(t=0;b--;)t+=a[b];return t},average:function(a){var b=a.length;return a=P.sum(a),d(a)&&b&&(a/=b),a},averages:function(){var a=[];return h(arguments,(function(b){a.push(P.average(b))})),void 0===a[0]?void 0:a},open:function(a){return a.length?a[0]:a.hasNulls?null:void 0},high:function(a){return a.length?e(a):a.hasNulls?null:void 0},low:function(a){return a.length?n(a):a.hasNulls?null:void 0},close:function(a){return a.length?a[a.length-1]:a.hasNulls?null:void 0},ohlc:function(a,b,t,e){if(a=P.open(a),b=P.high(b),t=P.low(t),e=P.close(e),d(a)||d(b)||d(t)||d(e))return[a,b,t,e]},range:function(a,b){return a=P.low(a),b=P.high(b),d(a)||d(b)?[a,b]:null===a&&null===b?null:void 0}};k.groupData=function(a,b,t,e){var u,q,n=this,o=n.data,g=n.options.data,l=[],c=[],m=[],x=a.length,v=!!b,y=[];e="function"==typeof e?e:P[e]||S[n.type]&&P[S[n.type].approximation]||P[A.approximation];var k,M,w=n.pointArrayMap,T=w&&w.length,C=["x"].concat(w||["y"]),L=0,O=0;for(T?h(w,(function(){y.push([])})):y.push([]),k=T||1,M=0;M<=x&&!(a[M]>=t[0]);M++);for(;M<=x;M++){for(;void 0!==t[L+1]&&a[M]>=t[L+1]||M===x;){for(u=t[L],n.dataGroupInfo={start:O,length:y[0].length},q=e.apply(n,y),r(n.dataGroupInfo.options)||(n.dataGroupInfo.options=f(n.pointClass.prototype.optionsToObject.call({series:n},n.options.data[O])),h(C,(function(a){delete n.dataGroupInfo.options[a]}))),void 0!==q&&(l.push(u),c.push(q),m.push(n.dataGroupInfo)),O=M,u=0;u<k;u++)y[u].length=0,y[u].hasNulls=!1;if(L+=1,M===x)break}if(M===x)break;var D;if(w)for(u=n.cropStart+M,q=o&&o[u]||n.pointClass.prototype.applyOptions.apply({series:n},[g[u]]),u=0;u<T;u++)D=q[w[u]],d(D)?y[u].push(D):null===D&&(y[u].hasNulls=!0);else u=v?b[M]:null,d(u)?y[0].push(u):null===u&&(y[0].hasNulls=!0)}return[l,c,m]},k.processData=function(){var p,g,a=this.chart,b=this.options.dataGrouping,t=!1!==this.allowDG&&b&&m(b.enabled,a.options.isStock),e=this.visible||!a.options.chart.ignoreHiddenSeries,n=this.currentDataGrouping;if(this.forceCrop=t,this.groupPixelWidth=null,this.hasProcessed=!0,!1!==M.apply(this,arguments)&&t){this.destroyGroupedData();var o,h=b.groupAll?this.xData:this.processedXData,l=b.groupAll?this.yData:this.processedYData,c=a.plotSizeX,q=(a=this.xAxis).options.ordinal,d=this.groupPixelWidth=a.getGroupPixelWidth&&a.getGroupPixelWidth();if(d){if(this.isDirty=p=!0,this.points=null,g=(t=a.getExtremes()).min,d=d*((t=t.max)-g)/c*(q=q&&a.getGroupIntervalFactor(g,t,this)||1),c=a.getTimeTicks(a.normalizeTimeTickInterval(d,b.units||T),Math.min(g,h[0]),Math.max(t,h[h.length-1]),a.options.startOfWeek,h,this.closestPointRange),h=(l=k.groupData.apply(this,[h,l,c,b.approximation]))[0],q=l[1],b.smoothed&&h.length){for(h[o=h.length-1]=Math.min(h[o],t);o--&&0<o;)h[o]+=d/2;h[0]=Math.max(h[0],g)}g=c.info,this.closestPointRange=c.info.totalRange,this.groupMap=l[2],r(h[0])&&h[0]<a.dataMin&&e&&((!r(a.options.min)&&a.min<=a.dataMin||a.min===a.dataMin)&&(a.min=h[0]),a.dataMin=h[0]),b.groupAll&&(h=(b=this.cropData(h,q,a.min,a.max,1)).xData,q=b.yData),this.processedXData=h,this.processedYData=q}else this.groupMap=null;this.hasGroupedData=p,this.currentDataGrouping=g,this.preventGraphAnimation=(n&&n.totalRange)!==(g&&g.totalRange)}},k.destroyGroupedData=function(){var a=this.groupedData;h(a||[],(function(b,t){b&&(a[t]=b.destroy?b.destroy():null)})),this.groupedData=null},k.generatePoints=function(){w.apply(this),this.destroyGroupedData(),this.groupedData=this.hasGroupedData?this.points:null},t(x,"update",(function(){if(this.dataGroup)return a.error(24),!1})),b(y.prototype,"tooltipFooterHeaderFormatter",(function(a,b,t){var e,n=this.chart.time,o=b.series,r=o.tooltipOptions,g=o.options.dataGrouping,h=r.xDateFormat,f=o.xAxis;return f&&"datetime"===f.options.type&&g&&d(b.key)?(a=o.currentDataGrouping,g=g.dateTimeLabelFormats,a?(f=g[a.unitName],1===a.count?h=f[0]:(h=f[1],e=f[2])):!h&&g&&(h=this.getXDateFormat(b,r,f)),h=n.dateFormat(h,b.key),e&&(h+=n.dateFormat(e,b.key+a.totalRange-1)),c(r[(t?"footer":"header")+"Format"],{point:l(b.point,{key:h}),series:o},n)):a.call(this,b,t)})),t(v,"destroy",k.destroyGroupedData),t(v,"afterSetOptions",(function(a){a=a.options;var b=this.type,t=this.chart.options.plotOptions,e=o[b].dataGrouping,n=this.useCommonDataGrouping&&A;(S[b]||n)&&(e||(e=f(A,S[b])),a.dataGrouping=f(n,e,t.series&&t.series.dataGrouping,t[b].dataGrouping,this.userOptions.dataGrouping)),this.chart.options.isStock&&(this.requireSorting=!0)})),t(q,"afterSetScale",(function(){h(this.series,(function(a){a.hasProcessed=!1}))})),q.prototype.getGroupPixelWidth=function(){var t,e,a=this.series,b=a.length,n=0,o=!1;for(t=b;t--;)(e=a[t].options.dataGrouping)&&(n=Math.max(n,e.groupPixelWidth));for(t=b;t--;)(e=a[t].options.dataGrouping)&&a[t].hasProcessed&&(b=(a[t].processedXData||a[t].data).length,a[t].groupPixelWidth||b>this.chart.plotSizeX/n||b&&e.forced)&&(o=!0);return o?n:0},q.prototype.setDataGrouping=function(a,b){var t;if(b=m(b,!0),a||(a={forced:!1,units:null}),this instanceof q)for(t=this.series.length;t--;)this.series[t].update({dataGrouping:a},!1);else h(this.chart.options.series,(function(b){b.dataGrouping=a}),!1);this.ordinalSlope=null,b&&this.chart.redraw()}}(c),function(a){var t=a.each,e=a.Point,n=a.seriesType,q=a.seriesTypes;n("ohlc","column",{lineWidth:1,tooltip:{pointFormat:'<span style="color:{point.color}">●</span> <b> {series.name}</b><br/>Open: {point.open}<br/>High: {point.high}<br/>Low: {point.low}<br/>Close: {point.close}<br/>'},threshold:null,states:{hover:{lineWidth:3}},stickyTracking:!0},{directTouch:!1,pointArrayMap:["open","high","low","close"],toYData:function(a){return[a.open,a.high,a.low,a.close]},pointValKey:"close",pointAttrToOptions:{stroke:"color","stroke-width":"lineWidth"},init:function(){q.column.prototype.init.apply(this,arguments),this.options.stacking=!1},pointAttribs:function(a,t){t=q.column.prototype.pointAttribs.call(this,a,t);var e=this.options;return delete t.fill,!a.options.color&&e.upColor&&a.open<a.close&&(t.stroke=e.upColor),t},translate:function(){var a=this,e=a.yAxis,n=!!a.modifyValue,o=["plotOpen","plotHigh","plotLow","plotClose","yBottom"];q.column.prototype.translate.apply(a),t(a.points,(function(r){t([r.open,r.high,r.low,r.close,r.low],(function(t,q){null!==t&&(n&&(t=a.modifyValue(t)),r[o[q]]=e.toPixels(t,!0))})),r.tooltipPos[1]=r.plotHigh+e.pos-a.chart.plotTop}))},drawPoints:function(){var a=this,e=a.chart;t(a.points,(function(t){var q,n,o,r,h,l=t.graphic,c=!l;void 0!==t.plotY&&(l||(t.graphic=l=e.renderer.path().add(a.group)),l.attr(a.pointAttribs(t,t.selected&&"select")),n=l.strokeWidth()%2/2,h=Math.round(t.plotX)-n,o=Math.round(t.shapeArgs.width/2),r=["M",h,Math.round(t.yBottom),"L",h,Math.round(t.plotHigh)],null!==t.open&&(q=Math.round(t.plotOpen)+n,r.push("M",h,q,"L",h-o,q)),null!==t.close&&(q=Math.round(t.plotClose)+n,r.push("M",h,q,"L",h+o,q)),l[c?"attr":"animate"]({d:r}).addClass(t.getClassName(),!0))}))},animate:null},{getClassName:function(){return e.prototype.getClassName.call(this)+(this.open<this.close?" highcharts-point-up":" highcharts-point-down")}})}(c),function(a){var t=a.defaultPlotOptions,e=a.each,n=a.merge,q=a.seriesType,o=a.seriesTypes;q("candlestick","ohlc",n(t.column,{states:{hover:{lineWidth:2}},tooltip:t.ohlc.tooltip,threshold:null,lineColor:"#000000",lineWidth:1,upColor:"#ffffff",stickyTracking:!0}),{pointAttribs:function(a,q){var t=o.column.prototype.pointAttribs.call(this,a,q),e=this.options,n=a.open<a.close,r=e.lineColor||this.color;return t["stroke-width"]=e.lineWidth,t.fill=a.options.color||n&&e.upColor||this.color,t.stroke=a.lineColor||n&&e.upLineColor||r,q&&(a=e.states[q],t.fill=a.color||t.fill,t.stroke=a.lineColor||t.stroke,t["stroke-width"]=a.lineWidth||t["stroke-width"]),t},drawPoints:function(){var a=this,t=a.chart,q=a.yAxis.reversed;e(a.points,(function(e){var n,o,r,h,l,b,c,d=e.graphic,f=!d;void 0!==e.plotY&&(d||(e.graphic=d=t.renderer.path().add(a.group)),d.attr(a.pointAttribs(e,e.selected&&"select")).shadow(a.options.shadow),l=d.strokeWidth()%2/2,b=Math.round(e.plotX)-l,n=e.plotOpen,o=e.plotClose,r=Math.min(n,o),n=Math.max(n,o),c=Math.round(e.shapeArgs.width/2),o=q?n!==e.yBottom:Math.round(r)!==Math.round(e.plotHigh),h=q?Math.round(r)!==Math.round(e.plotHigh):n!==e.yBottom,r=Math.round(r)+l,n=Math.round(n)+l,(l=[]).push("M",b-c,n,"L",b-c,r,"L",b+c,r,"L",b+c,n,"Z","M",b,r,"L",b,o?Math.round(q?e.yBottom:e.plotHigh):r,"M",b,n,"L",b,h?Math.round(q?e.plotHigh:e.yBottom):n),d[f?"attr":"animate"]({d:l}).addClass(e.getClassName(),!0))}))}})}(c),function(a,t){function e(a){m[a+"pin"]=function(t,e,b,n,o){var r=o&&o.anchorX;return o=o&&o.anchorY,"circle"===a&&n>b&&(t-=Math.round((n-b)/2),b=n),t=m[a](t,e,b,n),r&&o&&(t.push("M","circle"===a?t[1]-t[4]:t[1]+t[4]/2,e>o?e:e+n,"L",r,o),t=t.concat(m.circle(r-1,o-1,2,2))),t}}var n=a.addEvent,q=a.each,o=a.merge,r=a.noop,h=a.Renderer,l=a.Series,c=a.seriesType,d=a.TrackerMixin,f=a.VMLRenderer,m=a.SVGRenderer.prototype.symbols;c("flags","column",{pointRange:0,allowOverlapX:!1,shape:"flag",stackDistance:12,textAlign:"center",tooltip:{pointFormat:"{point.text}<br/>"},threshold:null,y:-30,fillColor:"#ffffff",lineWidth:1,states:{hover:{lineColor:"#000000",fillColor:"#ccd6eb"}},style:{fontSize:"11px",fontWeight:"bold"}},{sorted:!1,noSharedTooltip:!0,allowDG:!1,takeOrdinalPosition:!1,trackerGroups:["markerGroup"],forceCrop:!0,init:l.prototype.init,pointAttribs:function(a,t){var e=this.options,b=a&&a.color||this.color,n=e.lineColor,o=a&&a.lineWidth;return a=a&&a.fillColor||e.fillColor,t&&(a=e.states[t].fillColor,n=e.states[t].lineColor,o=e.states[t].lineWidth),{fill:a||b,stroke:n||b,"stroke-width":o||e.lineWidth||0}},translate:t.translate,getPlotBox:t.getPlotBox,drawPoints:function(){var b,t,e,n,r,u,h,l,c=this.points,d=this.chart,f=d.renderer,m=d.inverted,x=this.options,v=x.y,y=this.yAxis,p={},k=[];for(n=c.length;n--;)r=c[n],l=(m?r.plotY:r.plotX)>this.xAxis.len,b=r.plotX,u=r.stackIndex,e=r.options.shape||x.shape,void 0!==(t=r.plotY)&&(t=r.plotY+v-(void 0!==u&&u*x.stackDistance)),r.anchorX=u?void 0:r.plotX,h=u?void 0:r.plotY,u=r.graphic,void 0!==t&&0<=b&&!l?(u||(u=r.graphic=f.label("",null,null,e,null,null,x.useHTML).attr(this.pointAttribs(r)).css(o(x.style,r.style)).attr({align:"flag"===e?"left":"center",width:x.width,height:x.height,"text-align":x.textAlign}).addClass("highcharts-point").add(this.markerGroup),r.graphic.div&&(r.graphic.div.point=r),u.shadow(x.shadow),u.isNew=!0),0<b&&(b-=u.strokeWidth()%2),e={y:t,anchorY:h},x.allowOverlapX&&(e.x=b,e.anchorX=r.anchorX),u.attr({text:r.options.title||x.title||"A"})[u.isNew?"attr":"animate"](e),x.allowOverlapX||(p[r.plotX]?p[r.plotX].size=Math.max(p[r.plotX].size,u.width):p[r.plotX]={align:0,size:u.width,target:b,anchorX:b}),r.tooltipPos=[b,t+y.pos-d.plotTop]):u&&(r.graphic=u.destroy());x.allowOverlapX||(a.objectEach(p,(function(a){a.plotX=a.anchorX,k.push(a)})),a.distribute(k,m?y.len:this.xAxis.len,100),q(c,(function(a){var b=a.graphic&&p[a.plotX];b&&(a.graphic[a.graphic.isNew?"attr":"animate"]({x:b.pos,anchorX:a.anchorX}),b.pos?a.graphic.isNew=!1:(a.graphic.attr({x:-9999,anchorX:-9999}),a.graphic.isNew=!0))}))),x.useHTML&&a.wrap(this.markerGroup,"on",(function(b){return a.SVGElement.prototype.on.apply(b.apply(this,[].slice.call(arguments,1)),[].slice.call(arguments,1))}))},drawTracker:function(){var a=this.points;d.drawTrackerPoint.apply(this),q(a,(function(t){var e=t.graphic;e&&n(e.element,"mouseover",(function(){0<t.stackIndex&&!t.raised&&(t._y=e.y,e.attr({y:t._y-8}),t.raised=!0),q(a,(function(a){a!==t&&a.raised&&a.graphic&&(a.graphic.attr({y:a._y}),a.raised=!1)}))}))}))},animate:function(a){a?this.setClip():this.animate=null},setClip:function(){l.prototype.setClip.apply(this,arguments),!1!==this.options.clip&&this.sharedClipKey&&this.markerGroup.clip(this.chart[this.sharedClipKey])},buildKDTree:r,invertGroups:r}),m.flag=function(a,t,e,b,n){var o=n&&n.anchorX||a;return n=n&&n.anchorY||t,m.circle(o-1,n-1,2,2).concat(["M",o,n,"L",a,t+b,a,t,a+e,t,a+e,t+b,a,t+b,"Z"])},e("circle"),e("square"),h===f&&q(["flag","circlepin","squarepin"],(function(a){f.prototype.symbols[a]=m[a]}))}(c,d=function(a){var t=a.each,e=a.defined,n=a.seriesTypes,q=a.stableSort;return{getPlotBox:function(){return a.Series.prototype.getPlotBox.call(this.options.onSeries&&this.chart.get(this.options.onSeries)||this)},translate:function(){n.column.prototype.translate.apply(this);var o,r,h,l,c,d,a=this.options,f=this.chart,m=this.points,x=m.length-1,v=(v=a.onSeries)&&f.get(v),y=(a=a.onKey||"y",v&&v.options.step),k=v&&v.points,M=k&&k.length,w=f.inverted,b=this.xAxis,A=this.yAxis,S=0;if(v&&v.visible&&M)for(S=(v.pointXOffset||0)+(v.barW||0)/2,o=v.currentDataGrouping,l=k[M-1].x+(o?o.totalRange:0),q(m,(function(a,b){return a.x-b.x})),a="plot"+a[0].toUpperCase()+a.substr(1);M--&&m[x]&&(h=k[M],(o=m[x]).y=h.y,!(h.x<=o.x&&void 0!==h[a]&&(o.x<=l&&(o.plotY=h[a],h.x<o.x&&!y&&(c=k[M+1])&&void 0!==c[a]&&(d=(o.x-h.x)/(c.x-h.x),o.plotY+=d*(c[a]-h[a]),o.y+=d*(c.y-h.y))),x--,M++,0>x))););t(m,(function(a,t){var n;a.plotX+=S,(void 0===a.plotY||w)&&(0<=a.plotX&&a.plotX<=b.len?w?(a.plotY=b.translate(a.x,0,1,0,1),a.plotX=e(a.y)?A.translate(a.y,0,0,0,1):0):a.plotY=f.chartHeight-b.bottom-(b.opposite?b.height:0)+b.offset-A.top:a.shapeArgs={}),(r=m[t-1])&&r.plotX===a.plotX&&(void 0===r.stackIndex&&(r.stackIndex=0),n=r.stackIndex+1),a.stackIndex=n})),this.onSeries=v}}}(c)),function(a){function t(a,t,e){this.init(a,t,e)}var e,n=a.addEvent,o=a.Axis,q=a.correctFloat,r=a.defaultOptions,h=a.defined,l=a.destroyObjectProperties,c=a.each,d=a.fireEvent,f=a.hasTouch,m=a.merge,x=a.pick,v=a.removeEvent,y={height:a.isTouchDevice?20:14,barBorderRadius:0,buttonBorderRadius:0,liveRedraw:void 0,margin:10,minWidth:6,step:.2,zIndex:3,barBackgroundColor:"#cccccc",barBorderWidth:1,barBorderColor:"#cccccc",buttonArrowColor:"#333333",buttonBackgroundColor:"#e6e6e6",buttonBorderColor:"#cccccc",buttonBorderWidth:1,rifleColor:"#333333",trackBackgroundColor:"#f2f2f2",trackBorderColor:"#f2f2f2",trackBorderWidth:1};r.scrollbar=m(!0,y,r.scrollbar),a.swapXY=e=function(a,t){var e,b=a.length;if(t)for(t=0;t<b;t+=3)e=a[t+1],a[t+1]=a[t+2],a[t+2]=e;return a},t.prototype={init:function(a,t,e){this.scrollbarButtons=[],this.renderer=a,this.userOptions=t,this.options=m(y,t),this.chart=e,this.size=x(this.options.size,this.options.height),t.enabled&&(this.render(),this.initEvents(),this.addEvents())},render:function(){var t,a=this.renderer,n=this.options,o=this.size;this.group=t=a.g("scrollbar").attr({zIndex:n.zIndex,translateY:-99999}).add(),this.track=a.rect().addClass("highcharts-scrollbar-track").attr({x:0,r:n.trackBorderRadius||0,height:o,width:o}).add(t),this.track.attr({fill:n.trackBackgroundColor,stroke:n.trackBorderColor,"stroke-width":n.trackBorderWidth}),this.trackBorderWidth=this.track.strokeWidth(),this.track.attr({y:-this.trackBorderWidth%2/2}),this.scrollbarGroup=a.g().add(t),this.scrollbar=a.rect().addClass("highcharts-scrollbar-thumb").attr({height:o,width:o,r:n.barBorderRadius||0}).add(this.scrollbarGroup),this.scrollbarRifles=a.path(e(["M",-3,o/4,"L",-3,2*o/3,"M",0,o/4,"L",0,2*o/3,"M",3,o/4,"L",3,2*o/3],n.vertical)).addClass("highcharts-scrollbar-rifles").add(this.scrollbarGroup),this.scrollbar.attr({fill:n.barBackgroundColor,stroke:n.barBorderColor,"stroke-width":n.barBorderWidth}),this.scrollbarRifles.attr({stroke:n.rifleColor,"stroke-width":1}),this.scrollbarStrokeWidth=this.scrollbar.strokeWidth(),this.scrollbarGroup.translate(-this.scrollbarStrokeWidth%2/2,-this.scrollbarStrokeWidth%2/2),this.drawScrollbarButton(0),this.drawScrollbarButton(1)},position:function(a,t,e,n){var b=this.options.vertical,o=0,r=this.rendered?"animate":"attr";this.x=a,this.y=t+this.trackBorderWidth,this.width=e,this.xOffset=this.height=n,this.yOffset=o,b?(this.width=this.yOffset=e=o=this.size,this.xOffset=t=0,this.barWidth=n-2*e,this.x=a+=this.options.margin):(this.height=this.xOffset=n=t=this.size,this.barWidth=e-2*n,this.y+=this.options.margin),this.group[r]({translateX:a,translateY:this.y}),this.track[r]({width:e,height:n}),this.scrollbarButtons[1][r]({translateX:b?0:e-t,translateY:b?n-o:0})},drawScrollbarButton:function(a){var t,b=this.renderer,n=this.scrollbarButtons,o=this.options,r=this.size;t=b.g().add(this.group),n.push(t),(t=b.rect().addClass("highcharts-scrollbar-button").add(t)).attr({stroke:o.buttonBorderColor,"stroke-width":o.buttonBorderWidth,fill:o.buttonBackgroundColor}),t.attr(t.crisp({x:-.5,y:-.5,width:r+1,height:r+1,r:o.buttonBorderRadius},t.strokeWidth())),(t=b.path(e(["M",r/2+(a?-1:1),r/2-3,"L",r/2+(a?-1:1),r/2+3,"L",r/2+(a?2:-2),r/2],o.vertical)).addClass("highcharts-scrollbar-arrow").add(n[a])).attr({fill:o.buttonArrowColor})},setRange:function(a,t){var e,n,b=this.options,o=b.vertical,r=b.minWidth,l=this.barWidth,u=!this.rendered||this.hasDragged||this.chart.navigator&&this.chart.navigator.hasDragged?"attr":"animate";h(l)&&(a=Math.max(a,0),e=Math.ceil(l*a),this.calculatedWidth=n=q(l*Math.min(t,1)-e),n<r&&(e=(l-r+n)*a,n=r),r=Math.floor(e+this.xOffset+this.yOffset),l=n/2-.5,this.from=a,this.to=t,o?(this.scrollbarGroup[u]({translateY:r}),this.scrollbar[u]({height:n}),this.scrollbarRifles[u]({translateY:l}),this.scrollbarTop=r,this.scrollbarLeft=0):(this.scrollbarGroup[u]({translateX:r}),this.scrollbar[u]({width:n}),this.scrollbarRifles[u]({translateX:l}),this.scrollbarLeft=r,this.scrollbarTop=0),12>=n?this.scrollbarRifles.hide():this.scrollbarRifles.show(!0),!1===b.showFull&&(0>=a&&1<=t?this.group.hide():this.group.show()),this.rendered=!0)},initEvents:function(){var a=this;a.mouseMoveHandler=function(b){var t=a.chart.pointer.normalize(b),e=a.options.vertical?"chartY":"chartX",n=a.initPositions;!a.grabbedCenter||b.touches&&0===b.touches[0][e]||(e=(t=a.cursorToScrollbarPosition(t)[e])-(e=a[e]),a.hasDragged=!0,a.updatePosition(n[0]+e,n[1]+e),a.hasDragged&&d(a,"changed",{from:a.from,to:a.to,trigger:"scrollbar",DOMType:b.type,DOMEvent:b}))},a.mouseUpHandler=function(b){a.hasDragged&&d(a,"changed",{from:a.from,to:a.to,trigger:"scrollbar",DOMType:b.type,DOMEvent:b}),a.grabbedCenter=a.hasDragged=a.chartX=a.chartY=null},a.mouseDownHandler=function(b){b=a.chart.pointer.normalize(b),b=a.cursorToScrollbarPosition(b),a.chartX=b.chartX,a.chartY=b.chartY,a.initPositions=[a.from,a.to],a.grabbedCenter=!0},a.buttonToMinClick=function(b){var t=q(a.to-a.from)*a.options.step;a.updatePosition(q(a.from-t),q(a.to-t)),d(a,"changed",{from:a.from,to:a.to,trigger:"scrollbar",DOMEvent:b})},a.buttonToMaxClick=function(b){var t=(a.to-a.from)*a.options.step;a.updatePosition(a.from+t,a.to+t),d(a,"changed",{from:a.from,to:a.to,trigger:"scrollbar",DOMEvent:b})},a.trackClick=function(b){var t=a.chart.pointer.normalize(b),e=a.to-a.from,n=a.y+a.scrollbarTop,o=a.x+a.scrollbarLeft;a.options.vertical&&t.chartY>n||!a.options.vertical&&t.chartX>o?a.updatePosition(a.from+e,a.to+e):a.updatePosition(a.from-e,a.to-e),d(a,"changed",{from:a.from,to:a.to,trigger:"scrollbar",DOMEvent:b})}},cursorToScrollbarPosition:function(a){var b=(b=this.options).minWidth>this.calculatedWidth?b.minWidth:0;return{chartX:(a.chartX-this.x-this.xOffset)/(this.barWidth-b),chartY:(a.chartY-this.y-this.yOffset)/(this.barWidth-b)}},updatePosition:function(a,t){1<t&&(a=q(1-q(t-a)),t=1),0>a&&(t=q(t-a),a=0),this.from=a,this.to=t},update:function(a){this.destroy(),this.init(this.chart.renderer,m(!0,this.options,a),this.chart)},addEvents:function(){var a=this.options.inverted?[1,0]:[0,1],t=this.scrollbarButtons,e=this.scrollbarGroup.element,o=this.mouseDownHandler,r=this.mouseMoveHandler,h=this.mouseUpHandler;a=[[t[a[0]].element,"click",this.buttonToMinClick],[t[a[1]].element,"click",this.buttonToMaxClick],[this.track.element,"click",this.trackClick],[e,"mousedown",o],[e.ownerDocument,"mousemove",r],[e.ownerDocument,"mouseup",h]];f&&a.push([e,"touchstart",o],[e.ownerDocument,"touchmove",r],[e.ownerDocument,"touchend",h]),c(a,(function(a){n.apply(null,a)})),this._events=a},removeEvents:function(){c(this._events,(function(a){v.apply(null,a)})),this._events.length=0},destroy:function(){var a=this.chart.scroller;this.removeEvents(),c(["track","scrollbarRifles","scrollbar","scrollbarGroup","group"],(function(a){this[a]&&this[a].destroy&&(this[a]=this[a].destroy())}),this),a&&this===a.scrollbar&&(a.scrollbar=null,l(a.scrollbarButtons))}},n(o,"afterInit",(function(){var a=this;a.options&&a.options.scrollbar&&a.options.scrollbar.enabled&&(a.options.scrollbar.vertical=!a.horiz,a.options.startOnTick=a.options.endOnTick=!1,a.scrollbar=new t(a.chart.renderer,a.options.scrollbar,a.chart),n(a.scrollbar,"changed",(function(b){var t,e=Math.min(x(a.options.min,a.min),a.min,a.dataMin),n=Math.max(x(a.options.max,a.max),a.max,a.dataMax)-e;a.horiz&&!a.reversed||!a.horiz&&a.reversed?(t=e+n*this.to,e+=n*this.from):(t=e+n*(1-this.from),e+=n*(1-this.to)),a.setExtremes(e,t,!0,!1,b)})))})),n(o,"afterRender",(function(){var a=Math.min(x(this.options.min,this.min),this.min,x(this.dataMin,this.min)),t=Math.max(x(this.options.max,this.max),this.max,x(this.dataMax,this.max)),e=this.scrollbar,n=this.titleOffset||0;e&&(this.horiz?(e.position(this.left,this.top+this.height+2+this.chart.scrollbarsOffsets[1]+(this.opposite?0:n+this.axisTitleMargin+this.offset),this.width,this.height),n=1):(e.position(this.left+this.width+2+this.chart.scrollbarsOffsets[0]+(this.opposite?n+this.axisTitleMargin+this.offset:0),this.top,this.width,this.height),n=0),(!this.opposite&&!this.horiz||this.opposite&&this.horiz)&&(this.chart.scrollbarsOffsets[n]+=this.scrollbar.size+this.scrollbar.options.margin),isNaN(a)||isNaN(t)||!h(this.min)||!h(this.max)?e.setRange(0,0):(n=(this.min-a)/(t-a),a=(this.max-a)/(t-a),this.horiz&&!this.reversed||!this.horiz&&this.reversed?e.setRange(n,a):e.setRange(1-a,1-n)))})),n(o,"afterGetOffset",(function(){var a=this.horiz?2:1,t=this.scrollbar;t&&(this.chart.scrollbarsOffsets=[0,0],this.chart.axisOffset[a]+=t.size+t.options.margin)})),a.Scrollbar=t}(c),function(a){function t(a){this.init(a)}var e=a.addEvent,n=a.Axis,q=a.Chart,o=a.color,r=a.defaultOptions,h=a.defined,l=a.destroyObjectProperties,c=a.each,d=a.erase,f=a.error,m=a.extend,x=a.grep,v=a.hasTouch,y=a.isArray,b=a.isNumber,k=a.isObject,M=a.isTouchDevice,w=a.merge,A=a.pick,S=a.removeEvent,T=a.Scrollbar,P=a.Series,u=a.seriesTypes,C=a.wrap,L=[].concat(a.defaultDataGroupingUnits),O=function(a){var t=x(arguments,b);if(t.length)return Math[a].apply(0,t)};L[4]=["day",[1,2,3,4]],L[5]=["week",[1,2,3]],u=void 0===u.areaspline?"line":"areaspline",m(r,{navigator:{height:40,margin:25,maskInside:!0,handles:{width:7,height:15,symbols:["navigator-handle","navigator-handle"],enabled:!0,lineWidth:1,backgroundColor:"#f2f2f2",borderColor:"#999999"},maskFill:o("#6685c2").setOpacity(.3).get(),outlineColor:"#cccccc",outlineWidth:1,series:{type:u,fillOpacity:.05,lineWidth:1,compare:null,dataGrouping:{approximation:"average",enabled:!0,groupPixelWidth:2,smoothed:!0,units:L},dataLabels:{enabled:!1,zIndex:2},id:"highcharts-navigator-series",className:"highcharts-navigator-series",lineColor:null,marker:{enabled:!1},pointRange:0,threshold:null},xAxis:{overscroll:0,className:"highcharts-navigator-xaxis",tickLength:0,lineWidth:0,gridLineColor:"#e6e6e6",gridLineWidth:1,tickPixelInterval:200,labels:{align:"left",style:{color:"#999999"},x:3,y:-4},crosshair:!1},yAxis:{className:"highcharts-navigator-yaxis",gridLineWidth:0,startOnTick:!1,endOnTick:!1,minPadding:.1,maxPadding:.1,labels:{enabled:!1},crosshair:!1,title:{text:null},tickLength:0,tickWidth:0}}}),a.Renderer.prototype.symbols["navigator-handle"]=function(a,b,t,e,n){return a=n.width/2,b=Math.round(a/3)+.5,["M",-a-1,.5,"L",a,.5,"L",a,(n=n.height)+.5,"L",-a-1,n+.5,"L",-a-1,.5,"M",-b,4,"L",-b,n-3,"M",b-1,4,"L",b-1,n-3]},t.prototype={drawHandle:function(a,b,t,e){var n=this.navigatorOptions.handles.height;this.handles[b][e](t?{translateX:Math.round(this.left+this.height/2),translateY:Math.round(this.top+parseInt(a,10)+.5-n)}:{translateX:Math.round(this.left+parseInt(a,10)),translateY:Math.round(this.top+this.height/2-n/2-1)})},drawOutline:function(a,b,t,e){var n=this.navigatorOptions.maskInside,o=(g=this.outline.strokeWidth())/2,g=g%2/2,r=this.outlineHeight,h=this.scrollbarHeight,p=this.size,l=this.left-h,c=this.top;t?a=["M",(l-=o)+r,c-h-g,"L",l+r,t=c+b+g,"L",l,t,"L",l,b=c+a+g,"L",l+r,b,"L",l+r,c+p+h].concat(n?["M",l+r,t-o,"L",l+r,b+o]:[]):a=["M",l,c+=o,"L",a+=l+h-g,c,"L",a,c+r,"L",b+=l+h-g,c+r,"L",b,c,"L",l+p+2*h,c].concat(n?["M",a-o,c,"L",b+o,c]:[]),this.outline[e]({d:a})},drawMasks:function(a,b,t,e){var n,o,p,r,h=this.left,g=this.top,l=this.height;t?(p=[h,h,h],r=[g,g+a,g+b],o=[l,l,l],n=[a,b-a,this.size-b]):(p=[h,h+a,h+b],r=[g,g,g],o=[a,b-a,this.size-b],n=[l,l,l]),c(this.shades,(function(a,b){a[e]({x:p[b],y:r[b],width:o[b],height:n[b]})}))},renderElements:function(){var t,a=this,b=a.navigatorOptions,e=b.maskInside,n=a.chart,o=n.inverted,r=n.renderer;a.navigatorGroup=t=r.g("navigator").attr({zIndex:8,visibility:"hidden"}).add();var h={cursor:o?"ns-resize":"ew-resize"};c([!e,e,!e],(function(e,n){a.shades[n]=r.rect().addClass("highcharts-navigator-mask"+(1===n?"-inside":"-outside")).attr({fill:e?b.maskFill:"rgba(0,0,0,0)"}).css(1===n&&h).add(t)})),a.outline=r.path().addClass("highcharts-navigator-outline").attr({"stroke-width":b.outlineWidth,stroke:b.outlineColor}).add(t),b.handles.enabled&&c([0,1],(function(e){b.handles.inverted=n.inverted,a.handles[e]=r.symbol(b.handles.symbols[e],-b.handles.width/2-1,0,b.handles.width,b.handles.height,b.handles),a.handles[e].attr({zIndex:7-e}).addClass("highcharts-navigator-handle highcharts-navigator-handle-"+["left","right"][e]).add(t);var o=b.handles;a.handles[e].attr({fill:o.backgroundColor,stroke:o.borderColor,"stroke-width":o.lineWidth}).css(h)}))},update:function(a){c(this.series||[],(function(a){a.baseSeries&&delete a.baseSeries.navigatorSeries})),this.destroy(),w(!0,this.chart.options.navigator,this.options,a),this.init(this.chart)},render:function(t,e,n,o){var r,l,c,g=this.chart,p=this.scrollbarHeight,d=this.xAxis;r=d.fake?g.xAxis[0]:d;var q,f=this.navigatorEnabled,m=this.rendered;l=g.inverted;var x,v=g.xAxis[0].minRange,u=g.xAxis[0].options.maxRange;if(!this.hasDragged||h(n)){if(!b(t)||!b(e)){if(!m)return;n=0,o=A(d.width,r.width)}this.left=A(d.left,g.plotLeft+p+(l?g.plotWidth:0)),this.size=q=c=A(d.len,(l?g.plotHeight:g.plotWidth)-2*p),g=l?p:c+2*p,n=A(n,d.toPixels(t,!0)),o=A(o,d.toPixels(e,!0)),b(n)&&1/0!==Math.abs(n)||(n=0,o=g),t=d.toValue(n,!0),e=d.toValue(o,!0),(x=Math.abs(a.correctFloat(e-t)))<v?this.grabbedLeft?n=d.toPixels(e-v,!0):this.grabbedRight&&(o=d.toPixels(t+v,!0)):h(u)&&x>u&&(this.grabbedLeft?n=d.toPixels(e-u,!0):this.grabbedRight&&(o=d.toPixels(t+u,!0))),this.zoomedMax=Math.min(Math.max(n,o,0),q),this.zoomedMin=Math.min(Math.max(this.fixedWidth?this.zoomedMax-this.fixedWidth:Math.min(n,o),0),q),this.range=this.zoomedMax-this.zoomedMin,q=Math.round(this.zoomedMax),n=Math.round(this.zoomedMin),f&&(this.navigatorGroup.attr({visibility:"visible"}),m=m&&!this.hasDragged?"animate":"attr",this.drawMasks(n,q,l,m),this.drawOutline(n,q,l,m),this.navigatorOptions.handles.enabled&&(this.drawHandle(n,0,l,m),this.drawHandle(q,1,l,m))),this.scrollbar&&(l?(l=this.top-p,r=this.left-p+(f||!r.opposite?0:(r.titleOffset||0)+r.axisTitleMargin),p=c+2*p):(l=this.top+(f?this.height:-p),r=this.left-p),this.scrollbar.position(r,l,g,p),this.scrollbar.setRange(this.zoomedMin/(c||1),this.zoomedMax/(c||1))),this.rendered=!0}},addMouseEvents:function(){var t,n,a=this,b=a.chart,o=b.container,r=[];a.mouseMoveHandler=t=function(b){a.onMouseMove(b)},a.mouseUpHandler=n=function(b){a.onMouseUp(b)},(r=a.getPartsEvents("mousedown")).push(e(o,"mousemove",t),e(o.ownerDocument,"mouseup",n)),v&&(r.push(e(o,"touchmove",t),e(o.ownerDocument,"touchend",n)),r.concat(a.getPartsEvents("touchstart"))),a.eventsToUnbind=r,a.series&&a.series[0]&&r.push(e(a.series[0].xAxis,"foundExtremes",(function(){b.navigator.modifyNavigatorAxisExtremes()})))},getPartsEvents:function(a){var b=this,t=[];return c(["shades","handles"],(function(n){c(b[n],(function(o,g){t.push(e(o.element,a,(function(a){b[n+"Mousedown"](a,g)})))}))})),t},shadesMousedown:function(a,b){a=this.chart.pointer.normalize(a);var t,e,n=this.chart,o=this.xAxis,r=this.zoomedMin,l=this.left,c=this.size,d=this.range,p=a.chartX;n.inverted&&(p=a.chartY,l=this.top),1===b?(this.grabbedCenter=p,this.fixedWidth=d,this.dragOffset=p-r):(a=p-l-d/2,0===b?a=Math.max(0,a):2===b&&a+d>=c&&(a=c-d,this.reversedExtremes?(a-=d,e=this.getUnionExtremes().dataMin):t=this.getUnionExtremes().dataMax),a!==r&&(this.fixedWidth=d,b=o.toFixedRange(a,a+d,e,t),h(b.min)&&n.xAxis[0].setExtremes(Math.min(b.min,b.max),Math.max(b.min,b.max),!0,null,{trigger:"navigator"})))},handlesMousedown:function(a,b){this.chart.pointer.normalize(a);var t=(a=this.chart).xAxis[0],e=this.reversedExtremes;0===b?(this.grabbedLeft=!0,this.otherHandlePos=this.zoomedMax,this.fixedExtreme=e?t.min:t.max):(this.grabbedRight=!0,this.otherHandlePos=this.zoomedMin,this.fixedExtreme=e?t.max:t.min),a.fixedRange=null},onMouseMove:function(b){var t=this,e=t.chart,n=t.left,o=t.navigatorSize,r=t.range,h=t.dragOffset,p=e.inverted;b.touches&&0===b.touches[0].pageX||(b=e.pointer.normalize(b),e=b.chartX,p&&(n=t.top,e=b.chartY),t.grabbedLeft?(t.hasDragged=!0,t.render(0,0,e-n,t.otherHandlePos)):t.grabbedRight?(t.hasDragged=!0,t.render(0,0,t.otherHandlePos,e-n)):t.grabbedCenter&&(t.hasDragged=!0,e<h?e=h:e>o+h-r&&(e=o+h-r),t.render(0,0,e-h,e-h+r)),t.hasDragged&&t.scrollbar&&A(t.scrollbar.options.liveRedraw,a.svg&&!M&&!this.chart.isBoosting)&&(b.DOMType=b.type,setTimeout((function(){t.onMouseUp(b)}),0)))},onMouseUp:function(a){var t,e,b=this.chart,n=this.xAxis,o=this.scrollbar,r=a.DOMEvent||a;(!this.hasDragged||o&&o.hasDragged)&&"scrollbar"!==a.trigger||(o=this.getUnionExtremes(),this.zoomedMin===this.otherHandlePos?t=this.fixedExtreme:this.zoomedMax===this.otherHandlePos&&(e=this.fixedExtreme),this.zoomedMax===this.size&&(e=this.reversedExtremes?o.dataMin:o.dataMax),0===this.zoomedMin&&(t=this.reversedExtremes?o.dataMax:o.dataMin),n=n.toFixedRange(this.zoomedMin,this.zoomedMax,t,e),h(n.min)&&b.xAxis[0].setExtremes(Math.min(n.min,n.max),Math.max(n.min,n.max),!0,!this.hasDragged&&null,{trigger:"navigator",triggerOp:"navigator-drag",DOMEvent:r})),"mousemove"!==a.DOMType&&(this.grabbedLeft=this.grabbedRight=this.grabbedCenter=this.fixedWidth=this.fixedExtreme=this.otherHandlePos=this.hasDragged=this.dragOffset=null)},removeEvents:function(){this.eventsToUnbind&&(c(this.eventsToUnbind,(function(a){a()})),this.eventsToUnbind=void 0),this.removeBaseSeriesEvents()},removeBaseSeriesEvents:function(){var a=this.baseSeries||[];this.navigatorEnabled&&a[0]&&(!1!==this.navigatorOptions.adaptToUpdatedData&&c(a,(function(a){S(a,"updatedData",this.updatedDataHandler)}),this),a[0].xAxis&&S(a[0].xAxis,"foundExtremes",this.modifyBaseAxisExtremes))},init:function(a){var t=(b=a.options).navigator,o=t.enabled,r=(c=b.scrollbar).enabled,b=o?t.height:0,h=r?c.height:0;this.handles=[],this.shades=[],this.chart=a,this.setBaseSeries(),this.height=b,this.scrollbarHeight=h,this.scrollbarEnabled=r,this.navigatorEnabled=o,this.navigatorOptions=t,this.scrollbarOptions=c,this.outlineHeight=b+h,this.opposite=A(t.opposite,!o&&a.inverted);var l=this,c=(o=l.baseSeries,a.xAxis.length),d=(r=a.yAxis.length,o&&o[0]&&o[0].xAxis||a.xAxis[0]||{options:{}});a.isDirtyBox=!0,l.navigatorEnabled?(l.xAxis=new n(a,w({breaks:d.options.breaks,ordinal:d.options.ordinal},t.xAxis,{id:"navigator-x-axis",yAxis:"navigator-y-axis",isX:!0,type:"datetime",index:c,isInternal:!0,offset:0,keepOrdinalPadding:!0,startOnTick:!1,endOnTick:!1,minPadding:0,maxPadding:0,zoomEnabled:!1},a.inverted?{offsets:[h,0,-h,0],width:b}:{offsets:[0,-h,0,h],height:b})),l.yAxis=new n(a,w(t.yAxis,{id:"navigator-y-axis",alignTicks:!1,offset:0,index:r,isInternal:!0,zoomEnabled:!1},a.inverted?{width:b}:{height:b})),o||t.series.data?l.updateNavigatorSeries(!1):0===a.series.length&&(l.unbindRedraw=e(a,"beforeRedraw",(function(){0<a.series.length&&!l.series&&(l.setBaseSeries(),l.unbindRedraw())}))),l.reversedExtremes=a.inverted&&!l.xAxis.reversed||!a.inverted&&l.xAxis.reversed,l.renderElements(),l.addMouseEvents()):l.xAxis={translate:function(b,t){var e=(o=a.xAxis[0]).getExtremes(),g=o.len-2*h,n=O("min",o.options.min,e.dataMin),o=O("max",o.options.max,e.dataMax)-n;return t?b*o/g+n:g*(b-n)/o},toPixels:function(a){return this.translate(a)},toValue:function(a){return this.translate(a,!0)},toFixedRange:n.prototype.toFixedRange,fake:!0},a.options.scrollbar.enabled&&(a.scrollbar=l.scrollbar=new T(a.renderer,w(a.options.scrollbar,{margin:l.navigatorEnabled?0:10,vertical:a.inverted}),a),e(l.scrollbar,"changed",(function(b){var t=(e=l.size)*this.to,e=e*this.from;l.hasDragged=l.scrollbar.hasDragged,l.render(0,0,e,t),(a.options.scrollbar.liveRedraw||"mousemove"!==b.DOMType&&"touchmove"!==b.DOMType)&&setTimeout((function(){l.onMouseUp(b)}))}))),l.addBaseSeriesEvents(),l.addChartEvents()},getUnionExtremes:function(a){var t,b=this.chart.xAxis[0],e=this.xAxis,n=e.options,o=b.options;return a&&null===b.dataMin||(t={dataMin:A(n&&n.min,O("min",o.min,b.dataMin,e.dataMin,e.min)),dataMax:A(n&&n.max,O("max",o.max,b.dataMax,e.dataMax,e.max))}),t},setBaseSeries:function(a,b){var t=this.chart,e=this.baseSeries=[];a=a||t.options&&t.options.navigator.baseSeries||0,c(t.series||[],(function(b,t){b.options.isInternal||!b.options.showInNavigator&&(t!==a&&b.options.id!==a||!1===b.options.showInNavigator)||e.push(b)})),this.xAxis&&!this.xAxis.fake&&this.updateNavigatorSeries(!0,b)},updateNavigatorSeries:function(b,t){var e,p,n,o=this,h=o.chart,l=o.baseSeries,q=o.navigatorOptions.series,u={enableMouseTracking:!1,index:null,linkedTo:null,group:"nav",padXAxis:!1,xAxis:"navigator-x-axis",yAxis:"navigator-y-axis",showInLegend:!1,stacking:!1,isInternal:!0},d=o.series=a.grep(o.series||[],(function(b){var t=b.baseSeries;return!(0>a.inArray(t,l))||(t&&(S(t,"updatedData",o.updatedDataHandler),delete t.navigatorSeries),b.chart&&b.destroy(),!1)}));l&&l.length&&c(l,(function(a){var b=a.navigatorSeries,g=m({color:a.color,visible:a.visible},y(q)?r.navigator.series:q);b&&!1===o.navigatorOptions.adaptToUpdatedData||(u.name="Navigator "+l.length,e=a.options||{},n=e.navigatorOptions||{},p=w(e,u,g,n),g=n.data||g.data,o.hasNavigatorData=o.hasNavigatorData||!!g,p.data=g||e.data&&e.data.slice(0),b&&b.options?b.update(p,t):(a.navigatorSeries=h.initSeries(p),a.navigatorSeries.baseSeries=a,d.push(a.navigatorSeries)))})),(!q.data||l&&l.length)&&!y(q)||(o.hasNavigatorData=!1,q=a.splat(q),c(q,(function(a,b){u.name="Navigator "+(d.length+1),(p=w(r.navigator.series,{color:h.series[b]&&!h.series[b].options.isInternal&&h.series[b].color||h.options.colors[b]||h.options.colors[0]},u,a)).data=a.data,p.data&&(o.hasNavigatorData=!0,d.push(h.initSeries(p)))}))),b&&this.addBaseSeriesEvents()},addBaseSeriesEvents:function(){var a=this,b=a.baseSeries||[];b[0]&&b[0].xAxis&&e(b[0].xAxis,"foundExtremes",this.modifyBaseAxisExtremes),c(b,(function(b){e(b,"show",(function(){this.navigatorSeries&&this.navigatorSeries.setVisible(!0,!1)})),e(b,"hide",(function(){this.navigatorSeries&&this.navigatorSeries.setVisible(!1,!1)})),!1!==this.navigatorOptions.adaptToUpdatedData&&b.xAxis&&e(b,"updatedData",this.updatedDataHandler),e(b,"remove",(function(){this.navigatorSeries&&(d(a.series,this.navigatorSeries),h(this.navigatorSeries.options)&&this.navigatorSeries.remove(!1),delete this.navigatorSeries)}))}),this)},getBaseSeriesMin:function(b){return a.reduce(this.baseSeries,(function(a,b){return Math.min(a,b.xData[0])}),b)},modifyNavigatorAxisExtremes:function(){var b,a=this.xAxis;a.getExtremes&&(!(b=this.getUnionExtremes(!0))||b.dataMin===a.min&&b.dataMax===a.max||(a.min=b.dataMin,a.max=b.dataMax))},modifyBaseAxisExtremes:function(){var t,e,a=this.chart.navigator,n=(r=this.getExtremes()).dataMin,o=r.dataMax,r=r.max-r.min,h=a.stickToMin,l=a.stickToMax,c=A(this.options.overscroll,0),d=a.series&&a.series[0],q=!!this.setExtremes;this.eventArgs&&"rangeSelectorButton"===this.eventArgs.trigger||(h&&(t=(e=n)+r),l&&(t=o+c,h||(e=Math.max(t-r,a.getBaseSeriesMin(d&&d.xData?d.xData[0]:-Number.MAX_VALUE)))),q&&(h||l)&&b(e)&&(this.min=this.userMin=e,this.max=this.userMax=t)),a.stickToMin=a.stickToMax=null},updatedDataHandler:function(){var a=this.chart.navigator,t=this.navigatorSeries,e=a.getBaseSeriesMin(this.xData[0]);a.stickToMax=a.reversedExtremes?0===Math.round(a.zoomedMin):Math.round(a.zoomedMax)>=Math.round(a.size),a.stickToMin=b(this.xAxis.min)&&this.xAxis.min<=e&&(!this.chart.fixedRange||!a.stickToMax),t&&!a.hasNavigatorData&&(t.options.pointStart=this.xData[0],t.setData(this.options.data,!1,null,!1))},addChartEvents:function(){this.eventsToUnbind||(this.eventsToUnbind=[]),this.eventsToUnbind.push(e(this.chart,"redraw",(function(){var a=this.navigator,b=a&&(a.baseSeries&&a.baseSeries[0]&&a.baseSeries[0].xAxis||a.scrollbar&&this.xAxis[0]);b&&a.render(b.min,b.max)})),e(this.chart,"getMargins",(function(){var a=this.navigator,b=a.opposite?"plotTop":"marginBottom";this.inverted&&(b=a.opposite?"marginRight":"plotLeft"),this[b]=(this[b]||0)+(a.navigatorEnabled||!this.inverted?a.outlineHeight:0)+a.navigatorOptions.margin})))},destroy:function(){this.removeEvents(),this.xAxis&&(d(this.chart.xAxis,this.xAxis),d(this.chart.axes,this.xAxis)),this.yAxis&&(d(this.chart.yAxis,this.yAxis),d(this.chart.axes,this.yAxis)),c(this.series||[],(function(a){a.destroy&&a.destroy()})),c("series xAxis yAxis shades outline scrollbarTrack scrollbarRifles scrollbarGroup scrollbar navigatorGroup rendered".split(" "),(function(a){this[a]&&this[a].destroy&&this[a].destroy(),this[a]=null}),this),c([this.handles],(function(a){l(a)}),this)}},a.Navigator=t,C(n.prototype,"zoom",(function(a,b,t){var e,n=this.chart,g=(l=n.options).chart.zoomType,o=l.chart.pinchType,r=l.navigator,l=l.rangeSelector;return this.isXAxis&&(r&&r.enabled||l&&l.enabled)&&(!M&&"x"===g||M&&"x"===o?n.resetZoomButton="blocked":"y"===g?e=!1:(!M&&"xy"===g||M&&"xy"===o)&&this.options.range&&(n=this.previousZoom,h(b)?this.previousZoom=[this.min,this.max]:n&&(b=n[0],t=n[1],delete this.previousZoom))),void 0!==e?e:a.call(this,b,t)})),e(q,"beforeRender",(function(){var a=this.options;(a.navigator.enabled||a.scrollbar.enabled)&&(this.scroller=this.navigator=new t(this))})),e(q,"afterSetChartSize",(function(){var t,e,n,o,a=this.legend,b=this.navigator;b&&(e=a&&a.options,n=b.xAxis,o=b.yAxis,t=b.scrollbarHeight,this.inverted?(b.left=b.opposite?this.chartWidth-t-b.height:this.spacing[3]+t,b.top=this.plotTop+t):(b.left=this.plotLeft+t,b.top=b.navigatorOptions.top||this.chartHeight-b.height-t-this.spacing[2]-(this.rangeSelector&&this.extraBottomMargin?this.rangeSelector.getHeight():0)-(e&&"bottom"===e.verticalAlign&&e.enabled&&!e.floating?a.legendHeight+A(e.margin,10):0)),n&&o&&(this.inverted?n.options.left=o.options.left=b.left:n.options.top=o.options.top=b.top,n.setAxisSize(),o.setAxisSize()))})),e(q,"update",(function(a){var b=a.options.navigator||{},t=a.options.scrollbar||{};this.navigator||this.scroller||!b.enabled&&!t.enabled||(w(!0,this.options.navigator,b),w(!0,this.options.scrollbar,t),delete a.options.navigator,delete a.options.scrollbar)})),e(q,"afterUpdate",(function(){this.navigator||this.scroller||!this.options.navigator.enabled&&!this.options.scrollbar.enabled||(this.scroller=this.navigator=new t(this))})),C(P.prototype,"addPoint",(function(a,b,t,e,n){var g=this.options.turboThreshold;g&&this.xData.length>g&&k(b,!0)&&this.chart.navigator&&f(20,!0),a.call(this,b,t,e,n)})),e(q,"afterAddSeries",(function(){this.navigator&&this.navigator.setBaseSeries(null,!1)})),e(P,"afterUpdate",(function(){this.chart.navigator&&!this.options.isInternal&&this.chart.navigator.setBaseSeries(null,!1)})),q.prototype.callbacks.push((function(a){var b=a.navigator;b&&a.xAxis[0]&&(a=a.xAxis[0].getExtremes(),b.render(a.min,a.max))}))}(c),function(a){function t(a){this.init(a)}var e=a.addEvent,n=a.Axis,q=a.Chart,o=a.css,r=a.createElement,h=a.defaultOptions,l=a.defined,c=a.destroyObjectProperties,d=a.discardElement,f=a.each,m=a.extend,x=a.fireEvent,v=a.isNumber,y=a.merge,b=a.pick,k=a.pInt,M=a.splat,w=a.wrap;m(h,{rangeSelector:{verticalAlign:"top",buttonTheme:{"stroke-width":0,width:28,height:18,padding:2,zIndex:7},floating:!1,x:0,y:0,height:void 0,inputPosition:{align:"right",x:0,y:0},buttonPosition:{align:"left",x:0,y:0},labelStyle:{color:"#666666"}}}),h.lang=y(h.lang,{rangeSelectorZoom:"Zoom",rangeSelectorFrom:"From",rangeSelectorTo:"To"}),t.prototype={clickButton:function(a,t){var q,o,r,h,l,c=this,d=c.chart,m=c.buttonOptions[a],x=d.xAxis[0],y=(w=d.scroller&&d.scroller.getUnionExtremes()||x||{}).dataMin,p=w.dataMax,g=x&&Math.round(Math.min(x.max,b(p,x.max))),k=m.type,w=m._range,A=m.dataGrouping;if(null!==y&&null!==p){if(d.fixedRange=w,A&&(this.forcedDataGrouping=!0,n.prototype.setDataGrouping.call(x||{chart:this.chart},A,!1),this.frozenStates=m.preserveDataGrouping),"month"===k||"year"===k)x?(k={range:m,max:g,chart:d,dataMin:y,dataMax:p},q=x.minFromRange.call(k),v(k.newMax)&&(g=k.newMax)):w=m;else if(w)q=Math.max(g-w,y),g=Math.min(q+w,p);else if("ytd"===k){if(!x)return void e(d,"beforeRender",(function(){c.clickButton(a)}));void 0===p&&(y=Number.MAX_VALUE,p=Number.MIN_VALUE,f(d.series,(function(a){a=a.xData,y=Math.min(a[0],y),p=Math.max(a[a.length-1],p)})),t=!1),q=r=(g=c.getYTDExtremes(p,y,d.time.useUTC)).min,g=g.max}else"all"===k&&x&&(q=y,g=p);q+=m._offsetMin,g+=m._offsetMax,c.setSelected(a),x?x.setExtremes(q,g,b(t,1),null,{trigger:"rangeSelectorButton",rangeSelectorButton:m}):(o=M(d.options.xAxis)[0],l=o.range,o.range=w,h=o.min,o.min=r,e(d,"load",(function(){o.range=l,o.min=h})))}},setSelected:function(a){this.selected=this.options.selected=a},defaultButtons:[{type:"month",count:1,text:"1m"},{type:"month",count:3,text:"3m"},{type:"month",count:6,text:"6m"},{type:"ytd",text:"YTD"},{type:"year",count:1,text:"1y"},{type:"all",text:"All"}],init:function(a){var b=this,t=a.options.rangeSelector,n=t.buttons||[].concat(b.defaultButtons),o=t.selected,r=function(){var a=b.minInput,t=b.maxInput;a&&a.blur&&x(a,"blur"),t&&t.blur&&x(t,"blur")};b.chart=a,b.options=t,b.buttons=[],a.extraTopMargin=t.height,b.buttonOptions=n,this.unMouseDown=e(a.container,"mousedown",r),this.unResize=e(a,"resize",r),f(n,b.computeButtonRange),void 0!==o&&n[o]&&this.clickButton(o,!1),e(a,"load",(function(){a.xAxis&&a.xAxis[0]&&e(a.xAxis[0],"setExtremes",(function(t){this.max-this.min!==a.fixedRange&&"rangeSelectorButton"!==t.trigger&&"updatedData"!==t.trigger&&b.forcedDataGrouping&&!b.frozenStates&&this.setDataGrouping(!1,!1)}))}))},updateButtonStates:function(){var b,a=this,t=(b=this.chart).xAxis[0],e=Math.round(t.max-t.min),n=!t.hasVisibleSeries,o=b.scroller&&b.scroller.getUnionExtremes()||t,r=o.dataMin,h=o.dataMax,p=(b=a.getYTDExtremes(h,r,b.time.useUTC)).min,l=b.max,g=a.selected,q=v(g),c=a.options.allButtonsEnabled,d=a.buttons;f(a.buttonOptions,(function(b,o){var f=b._range,m=b.type,u=b.count||1,x=d[o],v=0;b=b._offsetMax-b._offsetMin,o=o===g;var y=f>h-r,k=f<t.minRange,M=!1,w=!1;f=f===e;("month"===m||"year"===m)&&e+36e5>=864e5*{month:28,year:365}[m]*u-b&&e-36e5<=864e5*{month:31,year:366}[m]*u+b?f=!0:"ytd"===m?(f=l-p+b===e,M=!o):"all"===m&&(f=t.max-t.min>=h-r,w=!o&&q&&f),m=!c&&(y||k||w||n),u=o&&f||f&&!q&&!M||o&&a.frozenStates,m?v=3:u&&(q=!0,v=2),x.state!==v&&x.setState(v)}))},computeButtonRange:function(a){var t=a.type,e=a.count||1,n={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5};n[t]?a._range=n[t]*e:"month"!==t&&"year"!==t||(a._range=864e5*{month:30,year:365}[t]*e),a._offsetMin=b(a.offsetMin,0),a._offsetMax=b(a.offsetMax,0),a._range+=a._offsetMax-a._offsetMin},setInputValue:function(a,b){var t=this.chart.options.rangeSelector,e=this.chart.time,n=this[a+"Input"];l(b)&&(n.previousValue=n.HCTime,n.HCTime=b),n.value=e.dateFormat(t.inputEditDateFormat||"%Y-%m-%d",n.HCTime),this[a+"DateBox"].attr({text:e.dateFormat(t.inputDateFormat||"%b %e, %Y",n.HCTime)})},showInput:function(a){var b=this.inputGroup,t=this[a+"DateBox"];o(this[a+"Input"],{left:b.translateX+t.x+"px",top:b.translateY+"px",width:t.width-2+"px",height:t.height-2+"px",border:"2px solid silver"})},hideInput:function(a){o(this[a+"Input"],{border:0,width:"1px",height:"1px"}),this.setInputValue(a)},drawInput:function(a){function b(){var a=t.value,b=(c.inputDateParser||Date.parse)(a),o=n.xAxis[0],r=(g=n.scroller&&n.scroller.xAxis?n.scroller.xAxis:o).dataMin,g=g.dataMax;b!==t.previousValue&&(t.previousValue=b,v(b)||(b=a.split("-"),b=Date.UTC(k(b[0]),k(b[1])-1,k(b[2]))),v(b)&&(n.time.useUTC||(b+=6e4*(new Date).getTimezoneOffset()),p?b>e.maxInput.HCTime?b=void 0:b<r&&(b=r):b<e.minInput.HCTime?b=void 0:b>g&&(b=g),void 0!==b&&o.setExtremes(p?b:o.min,p?o.max:b,void 0,void 0,{trigger:"rangeSelectorInput"})))}var t,g,e=this,n=e.chart,l=n.renderer.style||{},q=n.renderer,c=n.options.rangeSelector,d=e.div,p="min"===a,f=this.inputGroup;this[a+"Label"]=g=q.label(h.lang[p?"rangeSelectorFrom":"rangeSelectorTo"],this.inputGroup.offset).addClass("highcharts-range-label").attr({padding:2}).add(f),f.offset+=g.width+5,this[a+"DateBox"]=q=q.label("",f.offset).addClass("highcharts-range-input").attr({padding:2,width:c.inputBoxWidth||90,height:c.inputBoxHeight||17,"text-align":"center",stroke:c.inputBoxBorderColor||"#cccccc","stroke-width":1}).on("click",(function(){e.showInput(a),e[a+"Input"].focus()})).add(f),f.offset+=q.width+(p?10:0),this[a+"Input"]=t=r("input",{name:a,className:"highcharts-range-selector",type:"text"},{top:n.plotTop+"px"},d),g.css(y(l,c.labelStyle)),q.css(y({color:"#333333"},l,c.inputStyle)),o(t,m({position:"absolute",border:0,width:"1px",height:"1px",padding:0,textAlign:"center",fontSize:l.fontSize,fontFamily:l.fontFamily,top:"-9999em"},c.inputStyle)),t.onfocus=function(){e.showInput(a)},t.onblur=function(){e.hideInput(a)},t.onchange=b,t.onkeypress=function(a){13===a.keyCode&&b()}},getPosition:function(){var a,b=(a=this.chart).options.rangeSelector;return{buttonTop:(a="top"===b.verticalAlign?a.plotTop-a.axisOffset[0]:0)+b.buttonPosition.y,inputTop:a+b.inputPosition.y-10}},getYTDExtremes:function(a,b,t){var e=this.chart.time,n=new e.Date(a),o=e.get("FullYear",n);return t=t?e.Date.UTC(o,0,1):+new e.Date(o,0,1),b=Math.max(b||0,t),n=n.getTime(),{max:Math.min(a||n,n),min:b}},render:function(a,t){var e,n,o=this,l=o.chart,c=l.renderer,d=l.container,m=(v=l.options).exporting&&!1!==v.exporting.enabled&&v.navigation&&v.navigation.buttonOptions,p=h.lang,x=o.div,g=v.rangeSelector,q=b(v.chart.style&&v.chart.style.zIndex,0)+1,v=g.floating,y=o.buttons,k=(x=o.inputGroup,g.buttonTheme),M=g.buttonPosition,w=g.inputPosition,A=g.inputEnabled,S=k&&k.states,T=l.plotLeft,P=o.buttonGroup;n=o.rendered;var C,L=o.options.verticalAlign,O=l.legend,D=O&&O.options,I=M.y,B=w.y,z=n||!1,E=z?"animate":"attr",R=0,W=0;!1!==g.enabled&&(n||(o.group=n=c.g("range-selector-group").attr({zIndex:7}).add(),o.buttonGroup=P=c.g("range-selector-buttons").add(n),o.zoomText=c.text(p.rangeSelectorZoom,0,15).css(g.labelStyle).add(P),f(o.buttonOptions,(function(a,b){y[b]=c.button(a.text,0,0,(function(){var t,e=a.events&&a.events.click;e&&(t=e.call(a)),!1!==t&&o.clickButton(b),o.isActive=!0}),k,S&&S.hover,S&&S.select,S&&S.disabled).attr({"text-align":"center"}).add(P)})),!1!==A&&(o.div=x=r("div",null,{position:"relative",height:0,zIndex:q}),d.parentNode.insertBefore(x,d),o.inputGroup=x=c.g("input-group").add(n),x.offset=0,o.drawInput("min"),o.drawInput("max"))),o.zoomText[E]({x:b(T+M.x,T)}),e=b(T+M.x,T)+o.zoomText.getBBox().width+5,f(o.buttonOptions,(function(a,t){y[t][E]({x:e}),e+=y[t].width+b(g.buttonSpacing,5)})),T=l.plotLeft-l.spacing[3],o.updateButtonStates(),m&&this.titleCollision(l)&&"top"===L&&"right"===M.align&&M.y+P.getBBox().height-12<(m.y||0)+m.height&&(R=-40),"left"===M.align?C=M.x-l.spacing[3]:"right"===M.align&&(C=M.x+R-l.spacing[1]),P.align({y:M.y,width:P.getBBox().width,align:M.align,x:C},!0,l.spacingBox),o.group.placed=z,o.buttonGroup.placed=z,!1!==A&&(R=m&&this.titleCollision(l)&&"top"===L&&"right"===w.align&&w.y-x.getBBox().height-12<(m.y||0)+m.height+l.spacing[0]?-40:0,"left"===w.align?C=T:"right"===w.align&&(C=-Math.max(l.axisOffset[1],-R)),x.align({y:w.y,width:x.getBBox().width,align:w.align,x:w.x+C-2},!0,l.spacingBox),d=x.alignAttr.translateX+x.alignOptions.x-R+x.getBBox().x+2,m=x.alignOptions.width,p=P.alignAttr.translateX+P.getBBox().x,C=P.getBBox().width+20,(w.align===M.align||p+C>d&&d+m>p&&I<B+x.getBBox().height)&&x.attr({translateX:x.alignAttr.translateX+(l.axisOffset[1]>=-R?0:-R),translateY:x.alignAttr.translateY+P.getBBox().height+10}),o.setInputValue("min",a),o.setInputValue("max",t),o.inputGroup.placed=z),o.group.align({verticalAlign:L},!0,l.spacingBox),a=o.group.getBBox().height+20,t=o.group.alignAttr.translateY,"bottom"===L&&(W=t-(a=a+(O=D&&"bottom"===D.verticalAlign&&D.enabled&&!D.floating?O.legendHeight+b(D.margin,10):0)-20)-(v?0:g.y)-10),"top"===L?(v&&(W=0),l.titleOffset&&(W=l.titleOffset+l.options.title.margin),W+=l.margin[0]-l.spacing[0]||0):"middle"===L&&(B===I?W=0>B?t+void 0:t:(B||I)&&(W=0>B||0>I?W-Math.min(B,I):t-a+NaN)),o.group.translate(g.x,g.y+Math.floor(W)),!1!==A&&(o.minInput.style.marginTop=o.group.translateY+"px",o.maxInput.style.marginTop=o.group.translateY+"px"),o.rendered=!0)},getHeight:function(){var a=this.options,b=this.group,t=a.y,e=a.buttonPosition.y;a=a.inputPosition.y,b=b?b.getBBox(!0).height+13+t:0,t=Math.min(a,e);return(0>a&&0>e||0<a&&0<e)&&(b+=Math.abs(t)),b},titleCollision:function(a){return!(a.options.title.text||a.options.subtitle.text)},update:function(a){var b=this.chart;y(!0,b.options.rangeSelector,a),this.destroy(),this.init(b),b.rangeSelector.render()},destroy:function(){var b=this,e=b.minInput,n=b.maxInput;b.unMouseDown(),b.unResize(),c(b.buttons),e&&(e.onfocus=e.onblur=e.onchange=null),n&&(n.onfocus=n.onblur=n.onchange=null),a.objectEach(b,(function(a,e){a&&"chart"!==e&&(a.destroy?a.destroy():a.nodeType&&d(this[e])),a!==t.prototype[e]&&(b[e]=null)}),this)}},n.prototype.toFixedRange=function(a,t,e,n){var o=this.chart&&this.chart.fixedRange;return a=b(e,this.translate(a,!0,!this.horiz)),t=b(n,this.translate(t,!0,!this.horiz)),.7<(e=o&&(t-a)/o)&&1.3>e&&(n?a=t-o:t=a+o),v(a)&&v(t)||(a=t=void 0),{min:a,max:t}},n.prototype.minFromRange=function(){var t,e,n,a=this.range,o={month:"Month",year:"FullYear"}[a.type],r=this.max,h=function(a,b){var t=new Date(a),e=t["get"+o]();return t["set"+o](e+b),e===t["get"+o]()&&t.setDate(0),t.getTime()-a};return v(a)?(t=r-a,n=a):(t=r+h(r,-a.count),this.chart&&(this.chart.fixedRange=r-t)),e=b(this.dataMin,Number.MIN_VALUE),v(t)||(t=e),t<=e&&(t=e,void 0===n&&(n=h(t,a.count)),this.newMax=Math.min(t+n,this.dataMax)),v(r)||(t=void 0),t},e(q,"afterGetContainer",(function(){this.options.rangeSelector.enabled&&(this.rangeSelector=new t(this))})),w(q.prototype,"render",(function(a,b,t){var e=this.axes,n=this.rangeSelector;n&&(f(e,(function(a){a.updateNames(),a.setScale()})),this.getAxisMargins(),n.render(),e=n.options.verticalAlign,n.options.floating||("bottom"===e?this.extraBottomMargin=!0:"middle"!==e&&(this.extraTopMargin=!0))),a.call(this,b,t)})),e(q,"update",(function(a){var b=a.options.rangeSelector;a=this.rangeSelector;var e=this.extraBottomMargin,n=this.extraTopMargin;b&&b.enabled&&!l(a)&&(this.options.rangeSelector.enabled=!0,this.rangeSelector=new t(this)),this.extraTopMargin=this.extraBottomMargin=!1,a&&(a.render(),b=b&&b.verticalAlign||a.options&&a.options.verticalAlign,a.options.floating||("bottom"===b?this.extraBottomMargin=!0:"middle"!==b&&(this.extraTopMargin=!0)),this.extraBottomMargin!==e||this.extraTopMargin!==n)&&(this.isDirtyBox=!0)})),w(q.prototype,"redraw",(function(a,b,t){var e=this.rangeSelector;e&&!e.options.floating&&(e.render(),"bottom"===(e=e.options.verticalAlign)?this.extraBottomMargin=!0:"middle"!==e&&(this.extraTopMargin=!0)),a.call(this,b,t)})),e(q,"getMargins",(function(){var a=this.rangeSelector;a&&(a=a.getHeight(),this.extraTopMargin&&(this.plotTop+=a),this.extraBottomMargin&&(this.marginBottom+=a))})),q.prototype.callbacks.push((function(a){function b(){t=a.xAxis[0].getExtremes(),v(t.min)&&r.render(t.min,t.max)}var t,n,o,r=a.rangeSelector;r&&(o=e(a.xAxis[0],"afterSetExtremes",(function(a){r.render(a.min,a.max)})),n=e(a,"redraw",b),b()),e(a,"destroy",(function(){r&&(n(),o())}))})),a.RangeSelector=t}(c),function(a){var t=a.addEvent,e=a.arrayMax,n=a.arrayMin,q=a.Axis,o=a.Chart,r=a.defined,h=a.each,l=a.extend,c=a.format,d=a.grep,f=a.inArray,m=a.isNumber,x=a.isString,v=a.map,y=a.merge,b=a.pick,k=a.Point,M=a.Renderer,w=a.Series,A=a.splat,S=a.SVGRenderer,T=a.VMLRenderer,P=a.wrap,u=w.prototype,C=u.init,L=u.processData,O=k.prototype.tooltipFormatter;a.StockChart=a.stockChart=function(t,e,g){var n,r=x(t)||t.nodeName,h=arguments[r?1:0],p=h.series,l=a.getOptions(),q=b(h.navigator&&h.navigator.enabled,l.navigator.enabled,!0),c=q?{startOnTick:!1,endOnTick:!1}:null,d={marker:{enabled:!1,radius:2}},u={shadow:!1,borderWidth:0};return h.xAxis=v(A(h.xAxis||{}),(function(a,b){return y({minPadding:0,maxPadding:0,overscroll:0,ordinal:!0,title:{text:null},labels:{overflow:"justify"},showLastLabel:!0},l.xAxis,l.xAxis&&l.xAxis[b],a,{type:"datetime",categories:null},c)})),h.yAxis=v(A(h.yAxis||{}),(function(a,t){return n=b(a.opposite,!0),y({labels:{y:-2},opposite:n,showLastLabel:!(!a.categories&&"category"!==a.type),title:{text:null}},l.yAxis,l.yAxis&&l.yAxis[t],a)})),h.series=null,(h=y({chart:{panning:!0,pinchType:"x"},navigator:{enabled:q},scrollbar:{enabled:b(l.scrollbar.enabled,!0)},rangeSelector:{enabled:b(l.rangeSelector.enabled,!0)},title:{text:null},tooltip:{split:b(l.tooltip.split,!0),crosshairs:!0},legend:{enabled:!1},plotOptions:{line:d,spline:d,area:d,areaspline:d,arearange:d,areasplinerange:d,column:u,columnrange:u,candlestick:u,ohlc:u}},h,{isStock:!0})).series=p,r?new o(t,h,g):new o(h,e)},P(q.prototype,"autoLabelAlign",(function(a){var b=this.chart,t=this.options,e=(b=b._labelPanes=b._labelPanes||{},this.options.labels);return this.chart.options.isStock&&"yAxis"===this.coll&&(!b[t=t.top+","+t.height]&&e.enabled)?(15===e.x&&(e.x=0),void 0===e.align&&(e.align="right"),b[t]=this,"right"):a.apply(this,[].slice.call(arguments,1))})),t(q,"destroy",(function(){var a=this.chart,b=this.options&&this.options.top+","+this.options.height;b&&a._labelPanes&&a._labelPanes[b]===this&&delete a._labelPanes[b]})),P(q.prototype,"getPlotLinePath",(function(t,e,g,n,o,l){var c,d,y,k,M,w,p=this,q=this.isLinked&&!this.series?this.linkedParent.series:this.series,A=p.chart,u=A.renderer,S=p.left,T=p.top,P=[],C=[];return"xAxis"!==p.coll&&"yAxis"!==p.coll?t.apply(this,[].slice.call(arguments,1)):(C=function(a){var b="xAxis"===a?"yAxis":"xAxis";return a=p.options[b],m(a)?[A[b][a]]:x(a)?[A.get(a)]:v(q,(function(a){return a[b]}))}(p.coll),h(p.isXAxis?A.yAxis:A.xAxis,(function(a){if(!r(a.options.id)||-1===a.options.id.indexOf("navigator")){var b=a.isXAxis?"yAxis":"xAxis";b=r(a.options[b])?A[b][a.options[b]]:A[b][0];p===b&&C.push(a)}})),M=C.length?[]:[p.isXAxis?A.yAxis[0]:A.xAxis[0]],h(C,(function(b){-1!==f(b,M)||a.find(M,(function(a){return a.pos===b.pos&&a.len===b.len}))||M.push(b)})),w=b(l,p.translate(e,null,null,n)),m(w)&&(p.horiz?h(M,(function(a){var b;d=a.pos,k=d+a.len,c=y=Math.round(w+p.transB),"pass"!==o&&(c<S||c>S+p.width)&&(o?c=y=Math.min(Math.max(S,c),S+p.width):b=!0),b||P.push("M",c,d,"L",y,k)})):h(M,(function(a){var b;c=a.pos,y=c+a.len,d=k=Math.round(T+p.height-w),"pass"!==o&&(d<T||d>T+p.height)&&(o?d=k=Math.min(Math.max(T,d),p.top+p.height):b=!0),b||P.push("M",c,d,"L",y,k)}))),0<P.length?u.crispPolyLine(P,g||1):null)})),S.prototype.crispPolyLine=function(a,b){var t;for(t=0;t<a.length;t+=6)a[t+1]===a[t+4]&&(a[t+1]=a[t+4]=Math.round(a[t+1])-b%2/2),a[t+2]===a[t+5]&&(a[t+2]=a[t+5]=Math.round(a[t+2])+b%2/2);return a},M===T&&(T.prototype.crispPolyLine=S.prototype.crispPolyLine),P(q.prototype,"hideCrosshair",(function(a,b){a.call(this,b),this.crossLabel&&(this.crossLabel=this.crossLabel.hide())})),t(q,"afterDrawCrosshair",(function(a){var t,e;if(r(this.crosshair.label)&&this.crosshair.label.enabled&&this.cross){var n=this.chart,o=this.options.crosshair.label,h=this.horiz;t=this.opposite,e=this.left;var d,f,m=this.top,x=this.crossLabel,p=o.format,q="",v="inside"===this.options.tickPosition,y=!1!==this.crosshair.snap,u=0,k=a.e||this.cross&&this.cross.e,M=a.point;a=this.lin2log,this.isLog?(d=a(this.min),f=a(this.max)):(d=this.min,f=this.max),a=h?"center":t?"right"===this.labelAlign?"right":"left":"left"===this.labelAlign?"left":"center",x||(x=this.crossLabel=n.renderer.label(null,null,null,o.shape||"callout").addClass("highcharts-crosshair-label"+(this.series[0]&&" highcharts-color-"+this.series[0].colorIndex)).attr({align:o.align||a,padding:b(o.padding,8),r:b(o.borderRadius,3),zIndex:2}).add(this.labelGroup)).attr({fill:o.backgroundColor||this.series[0]&&this.series[0].color||"#666666",stroke:o.borderColor||"","stroke-width":o.borderWidth||0}).css(l({color:"#ffffff",fontWeight:"normal",fontSize:"11px",textAlign:"center"},o.style)),h?(a=y?M.plotX+e:k.chartX,m+=t?0:this.height):(a=t?this.width+e:0,m=y?M.plotY+m:k.chartY),p||o.formatter||(this.isDatetimeAxis&&(q="%b %d, %Y"),p="{value"+(q?":"+q:"")+"}"),q=y?M[this.isXAxis?"x":"y"]:this.toValue(h?k.chartX:k.chartY),x.attr({text:p?c(p,{value:q},n.time):o.formatter.call(this,q),x:a,y:m,visibility:q<d||q>f?"hidden":"visible"}),o=x.getBBox(),h?(v&&!t||!v&&t)&&(m=x.y-o.height):m=x.y-o.height/2,h?(t=e-o.x,e=e+this.width-o.x):(t="left"===this.labelAlign?e:0,e="right"===this.labelAlign?e+this.width:n.chartWidth),x.translateX<t&&(u=t-x.translateX),x.translateX+o.width>=e&&(u=-(x.translateX+o.width-e)),x.attr({x:a+u,y:m,anchorX:h?a:this.opposite?0:n.chartWidth,anchorY:h?this.opposite?n.chartHeight:0:m+o.height/2})}})),u.init=function(){C.apply(this,arguments),this.setCompare(this.options.compare)},u.setCompare=function(a){this.modifyValue="value"===a||"percent"===a?function(b,t){var e=this.compareValue;if(void 0!==b&&void 0!==e)return b="value"===a?b-e:b/e*100-(100===this.options.compareBase?0:100),t&&(t.change=b),b}:null,this.userOptions.compare=a,this.chart.hasRendered&&(this.isDirty=!0)},u.processData=function(){var a,t,e,n,o,b=-1,r=!0===this.options.compareStart?0:1;if(L.apply(this,arguments),this.xAxis&&this.processedYData)for(t=this.processedXData,n=(e=this.processedYData).length,this.pointArrayMap&&(-1===(b=f("close",this.pointArrayMap))&&(b=f(this.pointValKey||"y",this.pointArrayMap))),a=0;a<n-r;a++)if(o=e[a]&&-1<b?e[a][b]:e[a],m(o)&&t[a+r]>=this.xAxis.min&&0!==o){this.compareValue=o;break}},P(u,"getExtremes",(function(a){var b;a.apply(this,[].slice.call(arguments,1)),this.modifyValue&&(b=[this.modifyValue(this.dataMin),this.modifyValue(this.dataMax)],this.dataMin=n(b),this.dataMax=e(b))})),q.prototype.setCompare=function(a,t){this.isXAxis||(h(this.series,(function(b){b.setCompare(a)})),b(t,!0)&&this.chart.redraw())},k.prototype.tooltipFormatter=function(t){return t=t.replace("{point.change}",(0<this.change?"+":"")+a.numberFormat(this.change,b(this.series.tooltipOptions.changeDecimals,2))),O.apply(this,[t])},P(w.prototype,"render",(function(a){var b;this.chart.is3d&&this.chart.is3d()||this.chart.polar||!this.xAxis||this.xAxis.isRadial||(b=this.yAxis.len-(this.xAxis.axisLine?Math.floor(this.xAxis.axisLine.strokeWidth()/2):0),!this.clipBox&&this.animate?(this.clipBox=y(this.chart.clipBox),this.clipBox.width=this.xAxis.len,this.clipBox.height=b):this.chart[this.sharedClipKey]?this.chart[this.sharedClipKey].attr({width:this.xAxis.len,height:b}):this.clipBox&&(this.clipBox.width=this.xAxis.len,this.clipBox.height=b)),a.call(this)})),P(o.prototype,"getSelectedPoints",(function(a){var b=a.call(this);return h(this.series,(function(a){a.hasGroupedData&&(b=b.concat(d(a.points||[],(function(a){return a.selected}))))})),b})),t(o,"update",(function(a){"scrollbar"in(a=a.options)&&this.navigator&&(y(!0,this.options.scrollbar,a.scrollbar),this.navigator.update({},!1),delete a.scrollbar)}))}(c),c}))}}]);
//# sourceMappingURL=d065610a5977f576e33b.js.map
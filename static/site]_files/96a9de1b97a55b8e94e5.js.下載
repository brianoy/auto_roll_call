(window.webpackJsonp=window.webpackJsonp||[]).push([[276,238,315,425],{2677:function(t,e,n){"use strict";n.d(e,"a",(function(){return D}));var o=n(2135),r=n(2136),l=n(2138),c=n(2149),h=n(2145);function f(t,e){var n;return o.each(e,(function(e){null!=t[e]&&"auto"!==t[e]&&(n=!0)})),n}var d=["transition","enterFrom","leaveTo"],v=d.concat(["enterAnimation","updateAnimation","leaveAnimation"]);function m(t,source,e){if(e&&(!t[e]&&source[e]&&(t[e]={}),t=t[e],source=source[e]),t&&source)for(var n=e?d:v,i=0;i<n.length;i++){var o=n[i];null==t[o]&&null!=source[o]&&(t[o]=source[o])}}var y=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.preventAutoZ=!0,n}return Object(r.a)(e,t),e.prototype.mergeOption=function(option,e){var n=this.option.elements;this.option.elements=null,t.prototype.mergeOption.call(this,option,e),this.option.elements=n},e.prototype.optionUpdated=function(t,e){var n=this.option,r=(e?n:t).elements,c=n.elements=e?[]:n.elements,d=[];this._flatten(r,d,null);var v=l.q(c,d,"normalMerge"),y=this._elOptionsToUpdate=[];o.each(v,(function(t,e){var n=t.newOption;n&&(y.push(n),function(t,e){var n=t.existing;if(e.id=t.keyInfo.id,!e.type&&n&&(e.type=n.type),null==e.parentId){var o=e.parentOption;o?e.parentId=o.id:n&&(e.parentId=n.parentId)}e.parentOption=null}(t,n),function(t,e,n){var r=o.extend({},n),l=t[e],c=n.$action||"merge";"merge"===c?l?(o.merge(l,r,!0),Object(h.h)(l,r,{ignoreSize:!0}),Object(h.c)(n,l),m(n,l),m(n,l,"shape"),m(n,l,"style"),m(n,l,"extra"),n.clipPath=l.clipPath):t[e]=r:"replace"===c?t[e]=r:"remove"===c&&l&&(t[e]=null)}(c,e,n),function(t,e){if(t&&(t.hv=e.hv=[f(e,["left","right"]),f(e,["top","bottom"])],"group"===t.type)){var n=t,o=e;null==n.width&&(n.width=o.width=0),null==n.height&&(n.height=o.height=0)}}(c[e],n))}),this),n.elements=o.filter(c,(function(t){return t&&delete t.$action,null!=t}))},e.prototype._flatten=function(t,e,n){o.each(t,(function(option){if(option){n&&(option.parentOption=n),e.push(option);var t=option.children;t&&t.length&&this._flatten(t,e,option),delete option.children}}),this)},e.prototype.useElOptionsToUpdate=function(){var t=this._elOptionsToUpdate;return this._elOptionsToUpdate=null,t},e.type="graphic",e.defaultOption={elements:[]},e}(c.a),O=n(2185),w=n(2221),x=n(2186),j=n(2235),_=n(2137),C=n(2139),M=n(2155),T=n(2144),I=n(2573),A=n(2427),P=n(2159),k=n(2574),z={path:null,compoundPath:null,group:w.a,image:x.a,text:j.a},U=l.o(),G=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Object(r.a)(e,t),e.prototype.init=function(){this._elMap=o.createHashMap()},e.prototype.render=function(t,e,n){t!==this._lastGraphicModel&&this._clear(),this._lastGraphicModel=t,this._updateElements(t),this._relocate(t,n)},e.prototype._updateElements=function(t){var e=t.useElOptionsToUpdate();if(e){var n=this._elMap,r=this.group,c=t.get("z"),f=t.get("zlevel");o.each(e,(function(e){var d=l.e(e.id,null),v=null!=d?n.get(d):null,m=l.e(e.parentId,null),y=null!=m?n.get(m):r,O=e.type,w=e.style;"text"===O&&w&&e.hv&&e.hv[1]&&(w.textVerticalAlign=w.textBaseline=w.verticalAlign=w.align=null);var x=e.textContent,C=e.textConfig;if(w&&Object(I.c)(w,O,!!C,!!x)){var M=Object(I.a)(w,O,!0);!C&&M.textConfig&&(C=e.textConfig=M.textConfig),!x&&M.textContent&&(x=M.textContent)}var P=function(t){return t=o.extend({},t),o.each(["id","parentId","$action","hv","bounding","textContent","clipPath"].concat(h.a),(function(e){delete t[e]})),t}(e);var z=e.$action||"merge",G="merge"===z,D="replace"===z;if(G){var F=v;(Z=!v)?F=N(d,y,e.type,n):(F&&(U(F).isNew=!1),Object(k.b)(F)),F&&(Object(A.c)(F,P,t,{isInit:Z}),H(F,e,c,f))}else if(D){$(v,e,n,t);var J=N(d,y,e.type,n);J&&(Object(A.c)(J,P,t,{isInit:!0}),H(J,e,c,f))}else"remove"===z&&(Object(A.e)(v,e),$(v,e,n,t));var S=n.get(d);if(S&&x)if(G){var V=S.getTextContent();V?V.attr(x):S.setTextContent(new j.a(x))}else D&&S.setTextContent(new j.a(x));if(S){var B=e.clipPath;if(B){var K=B.type,W=void 0,Z=!1;if(G){var L=S.getClipPath();W=(Z=!L||U(L).type!==K)?E(K):L}else D&&(Z=!0,W=E(K));S.setClipPath(W),Object(A.c)(W,B,t,{isInit:Z}),Object(k.a)(W,B.keyframeAnimation,t)}var Q=U(S);S.setTextConfig(C),Q.option=e,function(t,e,n){var o=Object(T.a)(t).eventData;t.silent||t.ignore||o||(o=Object(T.a)(t).eventData={componentType:"graphic",componentIndex:e.componentIndex,name:t.name});o&&(o.info=n.info)}(S,t,e),_.setTooltipConfig({el:S,componentModel:t,itemName:S.name,itemTooltipOption:e.tooltip}),Object(k.a)(S,e.keyframeAnimation,t)}}))}},e.prototype._relocate=function(t,e){for(var n=t.option.elements,r=this.group,c=this._elMap,f=e.getWidth(),d=e.getHeight(),v=["x","y"],i=0;i<n.length;i++){var m=n[i];if((j=null!=(x=l.e(m.id,null))?c.get(x):null)&&j.isGroup){var y=(_=j.parent)===r,O=U(j),w=U(_);O.width=Object(C.p)(O.option.width,y?f:w.width)||0,O.height=Object(C.p)(O.option.height,y?d:w.height)||0}}for(i=n.length-1;i>=0;i--){var x,j;m=n[i];if(j=null!=(x=l.e(m.id,null))?c.get(x):null){var _=j.parent,M=(w=U(_),_===r?{width:f,height:d}:{width:w.width,height:w.height}),T={},I=h.i(j,m,M,null,{hv:m.hv,boundingMode:m.bounding},T);if(!U(j).isNew&&I){for(var k=m.transition,z={},G=0;G<v.length;G++){var E=v[G],N=T[E];k&&(Object(A.d)(k)||o.indexOf(k,E)>=0)?z[E]=N:j[E]=N}Object(P.h)(j,z,t,0)}else j.attr(T)}}},e.prototype._clear=function(){var t=this,e=this._elMap;e.each((function(n){$(n,U(n).option,e,t._lastGraphicModel)})),this._elMap=o.createHashMap()},e.prototype.dispose=function(){this._clear()},e.type="graphic",e}(M.a);function E(t){var e=new(o.hasOwn(z,t)?z[t]:_.getShapeClass(t))({});return U(e).type=t,e}function N(t,e,n,o){var r=E(n);return e.add(r),o.set(t,r),U(r).id=t,U(r).isNew=!0,r}function $(t,e,n,o){t&&t.parent&&("group"===t.type&&t.traverse((function(t){$(t,e,n,o)})),Object(A.b)(t,e,o),n.removeKey(U(t).id))}function H(t,e,n,r){t.isGroup||o.each([["cursor",O.c.prototype.cursor],["zlevel",r||0],["z",n||0],["z2",0]],(function(n){var r=n[0];o.hasOwn(e,r)?t[r]=o.retrieve2(e[r],n[1]):null==t[r]&&(t[r]=n[1])})),o.each(o.keys(e),(function(n){if(0===n.indexOf("on")){var r=e[n];t[n]=o.isFunction(r)?r:null}})),o.hasOwn(e,"draggable")&&(t.draggable=e.draggable),null!=e.name&&(t.name=e.name),null!=e.id&&(t.id=e.id)}function D(t){t.registerComponentModel(y),t.registerComponentView(G),t.registerPreprocessor((function(option){var t=option.graphic;Object(o.isArray)(t)?t[0]&&t[0].elements?option.graphic=[option.graphic[0]]:option.graphic=[{elements:t}]:t&&!t.elements&&(option.graphic=[{elements:[t]}])}))}}}]);
//# sourceMappingURL=96a9de1b97a55b8e94e5.js.map
(window.webpackJsonp=window.webpackJsonp||[]).push([[341],{2048:function(t,n,e){"use strict";e.r(n);var r=e(9393),o=e(6136);for(var c in o)["default"].indexOf(c)<0&&function(t){e.d(n,t,(function(){return o[t]}))}(c);e(8831);var _=e(2),component=Object(_.a)(o.default,r.a,r.b,!1,null,null,null);n.default=component.exports},2504:function(t,n,e){"use strict";e(0)(n,"__esModule",{value:!0}),n.getUserProfit=function(){return r.post("/lock/getUserProfit")},n.getUserProfitForAgency=function(t){return r.post("/lock/getUserProfitForAgency",t)},n.getProductList=function(t){return r.post("/lock/getProductList",t)},n.getUserOrderList=function(t){return r.post("/lock/getUserOrderList",t)},n.getUserHistoryList=function(t){return r.post("/lock/getUserHistoryList",t)},n.spotLockTrade=function(data){return r.post("/lock/trade",data)},n.spotLockRedeem=function(data){return r.post("/lock/redeem",data)},n.getRedeemPreInfo=function(data){return r.post("/lock/getRedeemPreInfo",data)};var r=(0,e(42).getInstance)("/v1/spot")},3225:function(t,n,e){"use strict";e.r(n);var r=e(3226),o=e.n(r);for(var c in r)["default"].indexOf(c)<0&&function(t){e.d(n,t,(function(){return r[t]}))}(c);n.default=o.a},3226:function(t,n,e){"use strict";var r=e(0),o=e(1);r(n,"__esModule",{value:!0}),n.default=void 0;o(e(966));e(952);var c=o(e(967)),_=(o(e(968)),{name:"token-faq",components:{"el-collapse":o(e(969)).default,"el-collapse-item":c.default},props:{isAgent:{type:Boolean,default:!1}},computed:{list:function(){return this.isAgent?[{title:this.$t("super_staking.qa_1_q"),description:this.$t("super_staking.qa_1_a")},{title:this.$t("super_staking.qa_2_q"),description:this.$t("super_staking.qa_2_a")},{title:this.$t("super_staking.qa_4_q"),description:this.$t("super_staking.qa_4_a")},{title:this.$t("super_staking.qa_5_q"),description:this.$t("super_staking.qa_5_a")},{title:this.$t("super_staking.ag_penal_q"),description:this.$t("super_staking.ag_penal_a")}]:[{title:this.$t("super_staking.qa_1_q"),description:this.$t("super_staking.qa_1_a")},{title:this.$t("super_staking.qa_2_q"),description:this.$t("super_staking.qa_2_a")},{title:this.$t("super_staking.qa_3_q"),description:this.$t("super_staking.qa_3_a")},{title:this.$t("super_staking.qa_4_q"),description:this.$t("super_staking.qa_4_a")},{title:this.$t("super_staking.qa_5_q"),description:this.$t("super_staking.qa_5_a")}]}},data:function(){return{activeNames:[]}},methods:{hadleChange:function(t){}}});n.default=_},3999:function(t,n,e){},6136:function(t,n,e){"use strict";e.r(n);var r=e(6137),o=e.n(r);for(var c in r)["default"].indexOf(c)<0&&function(t){e.d(n,t,(function(){return r[t]}))}(c);n.default=o.a},6137:function(t,n,e){"use strict";var r=e(6),o=e(7),c=e(5),_=e(8),l=e(9),d=e(0),v=e(1);d(n,"__esModule",{value:!0}),n.default=void 0;var f=v(e(53)),m=v(e(28)),k=v(e(4));v(e(1047));e(952);var h=v(e(672)),y=e(31),C=e(949),$=e(2504),P=v(e(6138)),x=e(12),w=e(96);function D(object,t){var n=r(object);if(o){var e=o(object);t&&(e=e.filter((function(t){return c(object,t).enumerable}))),n.push.apply(n,e)}return n}function S(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?D(Object(source),!0).forEach((function(n){(0,k.default)(t,n,source[n])})):_?l(t,_(source)):D(Object(source)).forEach((function(n){d(t,n,c(source,n))}))}return t}var A={name:"index",components:{"el-progress":h.default,Faq:P.default,identification:function(){return e.e(3).then(e.bind(null,2740))}},data:function(){return{showBrief:!1,applyDialogShow:!1,protocolChecked:!1,applyAmount:"",userProfits:{stakingBalance:0,totalIncome:0,yesterdayIncome:0,token:"",imgUrl:""},productsInit:!1,products:[],currentTime:0,currentProduct:{id:"",productName:"",token:"",annualRate:"0",period:0,remainCast:"",totalAmount:"",minCast:"",minStep:"",rateScale:4,availableBalance:"",recommend:!1,maxCast:"",valueDate:"",expiryDate:"",settleMethod:"",startTime:"",imgUrl:""},isApplying:!1,kycDialogFlag:!1}},computed:S(S(S({},(0,x.mapGetters)(["isLogin"])),(0,x.mapState)({user:function(t){return t.user}})),{},{estimatedIncome:function(){return new w.Decimal(this.applyAmount||0).times(this.currentProduct.annualRate).div(100).div(365).times(this.currentProduct.period).toFixed(this.currentProduct.rateScale,w.Decimal.ROUND_DOWN)}}),filters:{fixedDisplay:function(t,n){var e=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if("****"===t)return t;if(isNaN(t))return"--";var r="";return e&&+t>0&&(r="+"),r+t+" "+n},toDp:function(t){return new w.Decimal(t).toFixed(2)}},watch:{applyAmount:function(t,n){if(""!==t){if(!new RegExp("^(0|[1-9]\\d*)(\\.\\d{0,8})?$").test(t))return this.applyAmount=n;var e=new w.Decimal(this.currentProduct.maxCast||0),r=new w.Decimal(this.currentProduct.availableBalance||0),o=w.Decimal.min(e,r);o.lessThan(t)&&(this.applyAmount=o.toFixed())}},applyDialogShow:function(t,n){!t&&n&&(this.applyAmount="",this.currentProduct={id:"",productName:"",token:"",annualRate:"0",period:0,remainCast:"",totalAmount:"",minCast:"",minStep:"",rateScale:4,availableBalance:"",recommend:!1,maxCast:"",valueDate:"",expiryDate:"",settleMethod:"",startTime:""})}},methods:{toDop:function(t){return new w.Decimal(t).toFixed(2)},goOTC:function(){this.$router.push({path:this.$i18n.path("spot/BGBUSDT_SPBL")})},goLogin:function(){this.$router.push({path:this.$i18n.path("login"),query:{from:"earn/bgb"}})},openApplyDialog:function(t){var n=this;if(+t.remainCast>0&&t.startTime&&+t.startTime<(0,f.default)()){if(!this.isLogin)return void this.goLogin();if(!this.user.hasRealValidate)return this.kycDialogFlag=!0;this.currentProduct=t,this.$nextTick((function(){n.applyDialogShow=!0}))}},refreshUserProfits:function(){var t=this;(0,$.getUserProfit)().then((function(data){if(data.code===C.config.error.SUCCESS&&data.data){var n=data.data.find((function(t){return"BGB"===t.token}))||{};t.userProfits=(0,m.default)({},t.userProfits,n)}}))},refreshProducts:function(){var t=this;this.productsInit=!1,(0,$.getProductList)().then((function(data){data.code===C.config.error.SUCCESS&&(t.products=data.data||[])})).finally((function(){t.productsInit=!0}))},doApply:function(){var t=this;this.isApplying||(this.protocolChecked?""===this.applyAmount||+this.applyAmount<+this.currentProduct.minCast?BT.util.error(this.$t("super_staking.product_min_cast")+" "+this.currentProduct.minCast+this.currentProduct.token):0==+new w.Decimal(this.applyAmount).mod(+this.currentProduct.minStep).toFixed()?(this.isApplying=!0,(0,$.spotLockTrade)({productId:this.currentProduct.id,amount:this.applyAmount}).then((function(data){data.code===C.config.error.SUCCESS?(BT.util.success(t.$t("common.operation_success")),t.applyDialogShow=!1,t.refreshProducts()):"59034"===data.code?BT.util.error(t.$t("super_staking.sys_nocn")):BT.util.error(t.$t("common.operation_fail")+" "+data.msg)})).finally((function(){t.isApplying=!1}))):BT.util.error(this.$t("super_staking.tick_t",[this.currentProduct.minStep])):BT.util.error(this.$t("super_staking.error_read_protocol")))},applyMax:function(){this.applyAmount=this.currentProduct.availableBalance}},mounted:function(){var t=this;window.isReadyPromise.then((function(){(0,y.hideGlobalLoading)(),t.currentTime=(0,f.default)(),t.isLogin&&t.refreshUserProfits(),t.refreshProducts()}))}};n.default=A},6138:function(t,n,e){"use strict";e.r(n);var r=e(6906),o=e(3225);for(var c in o)["default"].indexOf(c)<0&&function(t){e.d(n,t,(function(){return o[t]}))}(c);e(6139);var _=e(2),component=Object(_.a)(o.default,r.a,r.b,!1,null,null,null);n.default=component.exports},6139:function(t,n,e){"use strict";e(3999)},6906:function(t,n,e){"use strict";e.d(n,"a",(function(){return r})),e.d(n,"b",(function(){return o}));var r=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("section",{staticClass:"token-faq-wrapper"},[e("div",{staticClass:"title"},[t._v(t._s(t.$t("super_staking.title_qa")))]),t._v(" "),e("el-collapse",{staticClass:"faq-list",on:{change:t.hadleChange},model:{value:t.activeNames,callback:function(n){t.activeNames=n},expression:"activeNames"}},t._l(t.list,(function(n,r){return e("el-collapse-item",{key:n.title,attrs:{name:r}},[e("div",{staticClass:"collapse-item-title",attrs:{slot:"title"},slot:"title"},[e("span",[t._v(t._s(n.title))]),t._v(" "),e("i",{class:t.activeNames.includes(r)?"el-icon-caret-bottom":"el-icon-caret-right"})]),t._v(" "),e("p",[t._v(t._s(n.description))])])})),1)],1)},o=[]},7635:function(t,n,e){},8831:function(t,n,e){"use strict";e(7635)},9393:function(t,n,e){"use strict";e.d(n,"a",(function(){return r})),e.d(n,"b",(function(){return o}));var r=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("client-only",[e("div",{staticClass:"super-staking__wrapper"},[e("div",{staticClass:"super-staking__banner"},[e("div",{staticClass:"super-staking-banner__main"},[e("div",{staticClass:"super-staking-banner__main-left"},[e("div",{staticClass:"title",domProps:{innerHTML:t._s(t.$t("super_staking.banner_title"))}}),t._v(" "),e("div",{staticClass:"sub-title"},[t._v(t._s(t.$t("super_staking.banner_sub_title")))])]),t._v(" "),e("div",{staticClass:"super-staking-banner__main-right"})])]),t._v(" "),e("div",{staticClass:"super-staking__body-wrapper"},[e("div",{staticClass:"super-staking__body"},[e("div",{staticClass:"super-staking__my-brief"},[e("div",{staticClass:"super-staking__title"},[t._v("\n                        "+t._s(t.$t("super_staking.title_profits"))+"\n                        "),t.isLogin?e("i",{class:["super-staking__icon",t.showBrief?"show":"hide"],staticStyle:{"margin-left":"16px"},on:{click:function(n){t.showBrief=!t.showBrief}}}):t._e(),t._v(" "),e("span",{staticStyle:{flex:"1"}}),t._v(" "),t.isLogin?e("nuxt-link",{attrs:{to:{path:t.$i18n.path("earn/brief")}}},[t._v("\n                            "+t._s(t.$t("super_staking.my_orders"))+"\n                            "),e("i",{staticClass:"super-staking__icon el-icon-caret-right"})]):t._e()],1),t._v(" "),t.isLogin?e("div",{staticClass:"super-staking__brief-detail"},[e("div",{staticClass:"super-staking__brief-block"},[e("p",[t._v(t._s(t.$t("super_staking.profits_balance")))]),t._v(" "),e("p",[t._v("\n                                "+t._s(t._f("fixedDisplay")(t.isLogin?t.showBrief?t.userProfits.stakingBalance:"****":"--",t.userProfits.token))+"\n                            ")])]),t._v(" "),e("div",{staticClass:"super-staking__brief-block"},[e("p",[t._v(t._s(t.$t("super_staking.profits_last_income")))]),t._v(" "),e("p",{class:{rise:(t.userProfits.yesterdayIncome||0)>0,fall:(t.userProfits.yesterdayIncome||0)<0}},[t._v("\n                                "+t._s(t._f("fixedDisplay")(t.isLogin?t.showBrief?t.userProfits.yesterdayIncome:"****":"--",t.userProfits.token,!0))+"\n                            ")])]),t._v(" "),e("div",{staticClass:"super-staking__brief-block"},[e("p",[t._v(t._s(t.$t("super_staking.profits_income_sum")))]),t._v(" "),e("p",[t._v("\n                                "+t._s(t._f("fixedDisplay")(t.isLogin?t.showBrief?t.userProfits.totalIncome:"****":"--",t.userProfits.token))+"\n                            ")])])]):e("div",{staticClass:"super-staking__brief-detail no-login"},[e("div",{staticClass:"super-staking__brief-block"},[e("p",{staticStyle:{"margin-bottom":"8px"}},[t._v("\n                                "+t._s(t.$t("super_staking.banner_sub_title"))+"\n                            ")]),t._v(" "),e("bg-button",{on:{click:t.goLogin}},[t._v(t._s(t.$t("common.login")))])],1)])]),t._v(" "),e("div",{staticClass:"super-staking__split super-staking__title"},[t._v("\n                    "+t._s(t.$t("super_staking.products_title"))+"\n                    "),e("span",{staticStyle:{flex:"1"}}),t._v(" "),t.isLogin?e("nuxt-link",{attrs:{to:{path:t.$i18n.path("earn/history")}}},[t._v("\n                        "+t._s(t.$t("super_staking.link_to_history"))+"\n                        "),e("i",{staticClass:"super-staking__icon el-icon-caret-right"})]):t._e()],1),t._v(" "),e("div",{staticClass:"super-staking__products"},[t._l(t.products,(function(n,r){return e("div",{key:r,staticClass:"super-staking__products-card"},[e("div",{staticClass:"super-staking__product-name"},[e("img",{attrs:{src:n.imgUrl,alt:""}}),t._v("\n                            "+t._s(n.token)+"\n                        ")]),t._v(" "),e("div",{staticClass:"super-staking__product-annualRate"},[e("span",{staticClass:"value"},[t._v(t._s(t._f("toDp")(n.annualRate))+"%")]),t._v(" "),e("span",{staticClass:"label"},[t._v("\n                                "+t._s(t.$t("super_staking.product_annual_rate"))+"\n                            ")])]),t._v(" "),e("ul",{staticClass:"super-staking__product-desc"},[e("li",[e("span",[t._v(t._s(t.$t("super_staking.sys_locked")))]),t._v(" "),e("span",[t._v(t._s(t.$t("super_staking.days",[n.period])))])]),t._v(" "),e("li",[e("span",[t._v(t._s(t.$t("super_staking.product_min_cast")))]),t._v(" "),e("span",[t._v(t._s(n.minCast)+" "+t._s(n.token))])]),t._v(" "),e("li",[e("span",[t._v(t._s(t.$t("super_staking.apply_dialog_max_cast")))]),t._v(" "),e("span",[t._v(t._s(n.maxCast)+" "+t._s(n.token))])])]),t._v(" "),e("div",{staticClass:"super-staking__product-apply"},[e("span",{class:[+n.remainCast>0?+n.startTime>Date.now()?"waiting":"active":"empty"],on:{click:function(e){return t.openApplyDialog(n)}}},[t._v("\n                                "+t._s(t.$t(+n.remainCast>0?+n.startTime>Date.now()?"super_staking.btn_text_begin":"super_staking.product_apply":"super_staking.btn_over"))+"\n                            ")])]),t._v(" "),n.recommend?e("div",{staticClass:"super-staking__recommend-tag"},[t._v("\n                            "+t._s(t.$t("super_staking.product_tag_recommended"))+"\n                        ")]):t._e()])})),t._v(" "),t.productsInit&&t.products.length<=0?e("no-data"):t._e()],2),t._v(" "),e("faq")],1)]),t._v(" "),e("el-dialog",{attrs:{width:"836px",visible:t.applyDialogShow,"custom-class":"super-staking__dialog"},on:{"update:visible":function(n){t.applyDialogShow=n}}},[e("div",{staticClass:"super-staking__apply-detail"},[e("div",{staticClass:"coin-name"},[e("i",{staticClass:"super-staking__icon"},[e("img",{attrs:{src:t.currentProduct.imgUrl,alt:""}})]),t._v("\n                    "+t._s(t.currentProduct.token)+"\n                ")]),t._v(" "),e("div",{staticClass:"apply-input"},[e("div",{staticClass:"apply-input__title"},[t._v("\n                        "+t._s(t.$t("super_staking.apply_dialog_amount"))+"\n                    ")]),t._v(" "),e("div",{staticClass:"input-item"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.applyAmount,expression:"applyAmount"}],attrs:{type:"text",placeholder:t.$t("super_staking.apply_dialog_placeholder",[t.currentProduct.minStep,t.currentProduct.token])},domProps:{value:t.applyAmount},on:{input:function(n){n.target.composing||(t.applyAmount=n.target.value)}}}),t._v(" "),e("div",{staticClass:"bg-input__append"},[e("span",{staticClass:"split"}),t._v(" "),e("span",{staticClass:"maximum",on:{click:t.applyMax}},[t._v("\n                                "+t._s(t.$t("super_staking.apply_dialog_max"))+"\n                            ")])])])]),t._v(" "),e("div",{staticClass:"apply-assets"},[e("div",{staticClass:"can-use"},[e("span",[t._v(t._s(t.$t("assets.raise_money.available")))]),t._v(" "),e("span",[t._v("\n                            "+t._s(t.isLogin?t.currentProduct.availableBalance+" "+t.currentProduct.token:"--")+"\n                        ")])]),t._v(" "),e("div",{staticClass:"buy-or-charge"},[e("span",{on:{click:t.goOTC}},[t._v(t._s(t.$t("buy_coin.header_link")))]),t._v(" "),e("span",{staticStyle:{color:"#EBEBEB"}},[t._v("|")]),t._v(" "),e("span",[e("nuxt-link",{attrs:{to:{path:t.$i18n.path("asset/recharge")}}},[t._v("\n                                "+t._s(t.$t("trade.operation.inner.charge"))+"\n                            ")])],1)])]),t._v(" "),e("div",{staticClass:"extra-title"},[t._v("\n                    "+t._s(t.$t("super_staking.apply_dialog_limit"))+"\n                ")]),t._v(" "),e("div",{staticClass:"extra-info"},[e("span",{staticClass:"extra-info-title"},[t._v("\n                        "+t._s(t.$t("super_staking.product_min_cast"))+"\n                    ")]),t._v(" "),e("span",{staticClass:"extra-info-number"},[t._v("\n                        "+t._s(t.currentProduct.minCast+" "+t.currentProduct.token)+"\n                    ")]),t._v(" "),e("div",[e("span",{staticClass:"extra-info-title"},[t._v("\n                            "+t._s(t.$t("super_staking.apply_dialog_max_cast"))+"\n                        ")]),t._v(" "),e("span",{staticClass:"extra-info-number"},[t._v("\n                            "+t._s(t.currentProduct.maxCast+" "+t.currentProduct.token)+"\n                        ")])])])]),t._v(" "),e("div",{staticClass:"super-staking__apply-confirm"},[e("div",{staticClass:"confirm-title"},[t._v("\n                    "+t._s(t.$t("super_staking.apply_dialog_desc"))+"\n                ")]),t._v(" "),e("div",{staticClass:"time-range"},[e("div",{staticClass:"confirm-kv"},[e("span",[e("span",{staticClass:"point"}),t._v("\n                            "+t._s(t.$t("super_staking.apply_dialog_begin_time"))+"\n                        ")]),t._v(" "),e("span",[t._v("\n                            "+t._s(t._f("moment")(t.currentProduct.valueDate,"yyyy-MM-dd HH:mm:ss"))+"\n                        ")])]),t._v(" "),e("div",{staticClass:"dashed"}),t._v(" "),e("div",{staticClass:"confirm-kv"},[e("span",[e("span",{staticClass:"point"}),t._v("\n                            "+t._s(t.$t("super_staking.apply_dialog_end_time"))+"\n                        ")]),t._v(" "),e("span",[t._v("\n                            "+t._s(t._f("moment")(t.currentProduct.expiryDate,"yyyy-MM-dd HH:mm:ss"))+"\n                        ")])])]),t._v(" "),e("div",{staticClass:"product-info"},[e("div",{staticClass:"confirm-kv"},[e("span",[t._v(t._s(t.$t("super_staking.product_annual_rate")))]),t._v(" "),e("span",[t._v(t._s(t._f("toDp")(t.currentProduct.annualRate))+"%")])]),t._v(" "),e("div",{staticClass:"confirm-kv"},[e("span",[t._v(t._s(t.$t("super_staking.apply_dialog_income")))]),t._v(" "),e("span",[t._v(t._s(t.estimatedIncome+" "+t.currentProduct.token))])]),t._v(" "),e("div",{staticClass:"confirm-kv"},[e("span",[t._v(t._s(t.$t("super_staking.apply_dialog_interest_type")))]),t._v(" "),e("span",[t._v(t._s(t.currentProduct.settleMethod))])])]),t._v(" "),t._e(),t._v(" "),e("div",{staticClass:"confirm-protocol"},[e("bg-check-box",{attrs:{checked:t.protocolChecked},on:{"update:checked":function(n){t.protocolChecked=n}}},[e("p",{domProps:{innerHTML:t._s(t.$t("super_staking.apply_dialog_protocol"))}})])],1),t._v(" "),e("div",{staticClass:"confirm-buttons"},[e("el-button",{staticClass:"cancelBtn dialog-btn",on:{click:function(n){t.applyDialogShow=!1}}},[t._v("\n                        "+t._s(t.$t("common.btn_cancel"))+"\n                    ")]),t._v(" "),e("el-button",{attrs:{type:"primary",loading:t.isApplying},on:{click:t.doApply}},[t._v("\n                        "+t._s(t.$t("super_staking.product_apply"))+"\n                    ")])],1)])]),t._v(" "),e("identification",{attrs:{show:t.kycDialogFlag,title:t.$t("discount_subscription_activity.activity_rules.participation_description")},on:{"update:show":function(n){t.kycDialogFlag=n}}})],1)])},o=[]}}]);
//# sourceMappingURL=15320ca6e33db972df47.js.map
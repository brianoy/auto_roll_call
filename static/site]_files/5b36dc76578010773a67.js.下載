(window.webpackJsonp=window.webpackJsonp||[]).push([[75],{128:function(t,e,r){"use strict";var n=r(0),o=r(1);n(e,"__esModule",{value:!0}),e.default=e.DrawActionType=e.GraphicMarkType=e.InvalidateLevel=void 0;var l=o(r(4)),c=o(r(10)),f=o(r(11)),h=r(52),d=r(86),v=r(75),y=r(489),m=r(176),_=r(27),k=o(r(1833)),M={NONE:0,GRAPHIC_MARK:1,FLOAT_LAYER:2,MAIN:3,FULL:4};e.InvalidateLevel=M;var x={NONE:"none",HORIZONTAL_STRAIGHT_LINE:"horizontalStraightLine",VERTICAL_STRAIGHT_LINE:"verticalStraightLine",STRAIGHT_LINE:"straightLine",HORIZONTAL_RAY_LINE:"horizontalRayLine",VERTICAL_RAY_LINE:"verticalRayLine",RAY_LINE:"rayLine",HORIZONTAL_SEGMENT_LINE:"horizontalSegmentLine",VERTICAL_SEGMENT_LINE:"verticalSegmentLine",SEGMENT_LINE:"segmentLine",PRICE_LINE:"priceLine",PRICE_CHANNEL_LINE:"priceChannelLine",PARALLEL_STRAIGHT_LINE:"parallelStraightLine",FIBONACCI_LINE:"fibonacciLine"};e.GraphicMarkType=x;var C={DRAW_CANDLE:"drawCandle",DRAW_TECHNICAL_INDICATOR:"drawTechnicalIndicator"};e.DrawActionType=C;var T=function(){function t(e,r){var n;(0,c.default)(this,t),this._invalidateHandler=r,this._styleOptions=(0,h.clone)(d.defaultStyleOptions),(0,h.merge)(this._styleOptions,e),this._technicalIndicators=(0,y.createTechnicalIndicators)(),this._pricePrecision=2,this._volumePrecision=0,this._dateTimeFormat=new Intl.DateTimeFormat("en",{hour12:!1,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}),this._dataList=[],this._loading=!0,this._loadMoreCallback=null,this._more=!0,this._totalDataSpace=0,this._dataSpace=6,this._barSpace=this._calcBarSpace(),this._offsetRightSpace=50,this._offsetRightBarCount=this._offsetRightSpace/this._dataSpace,this._leftMinVisibleBarCount=2,this._rightMinVisibleBarCount=2,this._from=0,this._to=0,this._crossHair={},this._preOffsetRightBarCount=0,this._graphicMarkType=x.NONE,this._graphicMarkPoint=null,this._dragGraphicMarkFlag=!1,this._graphicMarkDatas={horizontalStraightLine:[],verticalStraightLine:[],straightLine:[],horizontalRayLine:[],verticalRayLine:[],rayLine:[],horizontalSegmentLine:[],verticalSegmentLine:[],segmentLine:[],priceLine:[],parallelStraightLine:[],priceChannelLine:[],fibonacciLine:[]},this._drawActionDelegate=(n={},(0,l.default)(n,C.DRAW_CANDLE,new k.default),(0,l.default)(n,C.DRAW_TECHNICAL_INDICATOR,new k.default),n)}return(0,f.default)(t,[{key:"_loadMoreHandler",value:function(){this._more&&!this._loading&&this._loadMoreCallback&&(0,h.isFunction)(this._loadMoreCallback)&&(this._loading=!0,this._loadMoreCallback((0,v.formatValue)(this._dataList[0],"timestamp")))}},{key:"_calcBarSpace",value:function(){var t=Math.floor(.8*this._dataSpace),e=Math.floor(this._dataSpace),r=Math.min(t,e-1);return Math.max(1,r)}},{key:"_innerSetDataSpace",value:function(t){return!(!t||t<1||t>50||this._dataSpace===t)&&(this._dataSpace=t,this._barSpace=this._calcBarSpace(),!0)}},{key:"styleOptions",value:function(){return this._styleOptions}},{key:"applyStyleOptions",value:function(t){(0,h.merge)(this._styleOptions,t)}},{key:"technicalIndicatorCalcParams",value:function(t){var e=this.technicalIndicator(t);if(e)return(0,h.clone)(e.calcParams);var r={};for(var n in this._technicalIndicators)r[n]=(0,h.clone)(this._technicalIndicators[n].calcParams);return r}},{key:"technicalIndicator",value:function(t){return this._technicalIndicators[t]}},{key:"pricePrecision",value:function(){return this._pricePrecision}},{key:"volumePrecision",value:function(){return this._volumePrecision}},{key:"dateTimeFormat",value:function(){return this._dateTimeFormat}},{key:"setTimezone",value:function(t){var e;try{e=new Intl.DateTimeFormat("en",{hour12:!1,timeZone:t,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"})}catch(t){m.DEV&&console.warn(t.message)}e&&(this._dateTimeFormat=e)}},{key:"timezone",value:function(){return this._dateTimeFormat.resolvedOptions().timeZone}},{key:"applyPrecision",value:function(t,e){var r=(0,h.isValid)(t)&&(0,h.isNumber)(t)&&t>=0,n=(0,h.isValid)(e)&&(0,h.isNumber)(e)&&e>=0;if(r&&(this._pricePrecision=t),n&&(this._volumePrecision=e),r||n)for(var o in this._technicalIndicators){switch(this._technicalIndicators[o].series){case _.TechnicalIndicatorSeries.PRICE:this._technicalIndicators[o].setPrecision(t);break;case _.TechnicalIndicatorSeries.VOLUME:this._technicalIndicators[o].setPrecision(e)}}}},{key:"applyTechnicalIndicatorPrecision",value:function(t,e){var r=this.technicalIndicator(e);if(r)r.setPrecision(t);else for(var n in this._technicalIndicators)this._technicalIndicators[n].setPrecision(t)}},{key:"dataList",value:function(){return this._dataList}},{key:"clearDataList",value:function(){this._more=!0,this._loading=!0,this._dataList=[],this._from=0,this._to=0}},{key:"addData",value:function(data,t,e){if((0,h.isObject)(data))if((0,h.isArray)(data)){this._loading=!1,this._more=!(0,h.isBoolean)(e)||e;var r=0===this._dataList.length;this._dataList=data.concat(this._dataList),r?this.setOffsetRightSpace(this._offsetRightSpace):this.adjustOffsetBarCount()}else{t>=this._dataList.length?(this._dataList.push(data),this._offsetRightBarCount<0&&(this._offsetRightBarCount-=1),this.adjustOffsetBarCount()):this._dataList[t]=data}}},{key:"dataSpace",value:function(){return this._dataSpace}},{key:"barSpace",value:function(){return this._barSpace}},{key:"offsetRightBarCount",value:function(){return this._offsetRightBarCount}},{key:"setDataSpace",value:function(t){this._innerSetDataSpace(t)&&(this.adjustOffsetBarCount(),this._invalidateHandler())}},{key:"setTotalDataSpace",value:function(t){this._totalDataSpace!==t&&(this._totalDataSpace=t,this.adjustOffsetBarCount())}},{key:"setOffsetRightSpace",value:function(t){this._offsetRightSpace=t,this._offsetRightBarCount=t/this._dataSpace,this.adjustOffsetBarCount()}},{key:"setLeftMinVisibleBarCount",value:function(t){(0,h.isNumber)(t)&&t>0&&(this._leftMinVisibleBarCount=Math.ceil(t))}},{key:"setRightMinVisibleBarCount",value:function(t){(0,h.isNumber)(t)&&t>0&&(this._rightMinVisibleBarCount=Math.ceil(t))}},{key:"from",value:function(){return this._from}},{key:"to",value:function(){return this._to}},{key:"crossHair",value:function(){return this._crossHair}},{key:"setCrossHairPointPaneTag",value:function(t,e){var r={};t&&(r.x=t.x,r.y=t.y,r.paneTag=this._crossHair.paneTag),void 0!==e&&(r.paneTag=e,this._crossHair=r,this._invalidateHandler(M.FLOAT_LAYER))}},{key:"startScroll",value:function(){this._preOffsetRightBarCount=this._offsetRightBarCount}},{key:"scroll",value:function(t){var e=t/this._dataSpace;this._offsetRightBarCount=this._preOffsetRightBarCount-e,this.adjustOffsetBarCount(),this._invalidateHandler()}},{key:"coordinateToFloatIndex",value:function(t){var e=this._dataList.length,r=(this._totalDataSpace-t)/this._dataSpace,n=e+this._offsetRightBarCount-r;return Math.round(1e6*n)/1e6}},{key:"zoom",value:function(t,e){e&&!(0,h.isValid)(e.x)||(e={x:(0,h.isValid)(this._crossHair.x)?this._crossHair.x:this._totalDataSpace/2});var r=this.coordinateToFloatIndex(e.x),n=this._dataSpace+t*(this._dataSpace/10);this._innerSetDataSpace(n)&&(this._offsetRightBarCount+=r-this.coordinateToFloatIndex(e.x),this.adjustOffsetBarCount(),this._invalidateHandler())}},{key:"adjustOffsetBarCount",value:function(){var t=this._dataList.length,e=this._totalDataSpace/this._dataSpace,r=1-this._barSpace/2/this._dataSpace,n=e-Math.min(this._leftMinVisibleBarCount,t)+r;this._offsetRightBarCount>n&&(this._offsetRightBarCount=n);var o=1-t+Math.min(this._rightMinVisibleBarCount,t)-r;this._offsetRightBarCount<o&&(this._offsetRightBarCount=o),this._to=Math.round(this._offsetRightBarCount+t),this._from=Math.floor(this._to-e)-1,this._to>t&&(this._to=t),this._from<0&&(this._from=0),0===this._from&&this._loadMoreHandler()}},{key:"graphicMarkType",value:function(){return this._graphicMarkType}},{key:"setGraphicMarkType",value:function(t){this._graphicMarkType=t}},{key:"dragGraphicMarkFlag",value:function(){return this._dragGraphicMarkFlag}},{key:"setDragGraphicMarkFlag",value:function(t){this._dragGraphicMarkFlag=t}},{key:"graphicMarkPoint",value:function(){return this._graphicMarkPoint}},{key:"setGraphicMarkPoint",value:function(t){this._graphicMarkPoint=t}},{key:"graphicMarkData",value:function(){return(0,h.clone)(this._graphicMarkDatas)}},{key:"setGraphicMarkData",value:function(t){var e=this.shouldInvalidateGraphicMark();this._graphicMarkDatas=(0,h.clone)(t),(e||this.shouldInvalidateGraphicMark())&&this._invalidateHandler(M.GRAPHIC_MARK)}},{key:"loadMore",value:function(t){this._loadMoreCallback=t}},{key:"shouldInvalidateGraphicMark",value:function(){if(this._graphicMarkType!==x.NONE)return!0;for(var t in this._graphicMarkDatas)if(this._graphicMarkDatas[t].length>0)return!0;return!1}},{key:"addCustomTechnicalIndicator",value:function(t){var e=(0,y.createNewTechnicalIndicator)(t||{});e&&(this._technicalIndicators[t.name]=e)}},{key:"drawActionDelegate",value:function(t){return this._drawActionDelegate[t]}}]),t}();e.default=T},1812:function(t,e,r){"use strict";var n=r(18),o=r(15),l=r(21),c=r(0),f=r(5),h=r(1);c(e,"__esModule",{value:!0}),e.default=void 0;var d=h(r(10)),v=h(r(11)),y=h(r(16)),m=h(r(17)),_=h(r(14)),k=function(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!==n(t)&&"function"!=typeof t)return{default:t};var r=x(e);if(r&&r.has(t))return r.get(t);var o={},l=c&&f;for(var h in t)if("default"!==h&&Object.prototype.hasOwnProperty.call(t,h)){var desc=l?f(t,h):null;desc&&(desc.get||desc.set)?c(o,h,desc):o[h]=t[h]}o.default=t,r&&r.set(t,o);return o}(r(27)),M=r(33);function x(t){if("function"!=typeof l)return null;var e=new l,r=new l;return(x=function(t){return t?r:e})(t)}function C(t){var e=function(){if("undefined"==typeof Reflect||!o)return!1;if(o.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(o(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=(0,_.default)(t);if(e){var l=(0,_.default)(this).constructor;r=o(n,arguments,l)}else r=n.apply(this,arguments);return(0,m.default)(this,r)}}var T=function(t){(0,y.default)(r,t);var e=C(r);function r(){var t;return(0,d.default)(this,r),(t=e.call(this,{name:M.MA,series:k.TechnicalIndicatorSeries.PRICE,precision:2,shouldCheckParamCount:!1,shouldOhlc:!0})).setCalcParams([5,10,20]),t}return(0,v.default)(r,[{key:"regeneratePlots",value:function(t){return t.map((function(p){return{key:"ma".concat(p),type:"line"}}))}},{key:"calcTechnicalIndicator",value:function(t,e,r){var n=[],o=[];return t.forEach((function(l,i){var c={},f=l.close;e.forEach((function(param,e){n[e]=(n[e]||0)+f,i>=param-1&&(c[r[e].key]=n[e]/param,n[e]-=t[i-(param-1)].close)})),o.push(c)})),o}}]),r}(k.default);e.default=T},1813:function(t,e,r){"use strict";var n=r(18),o=r(15),l=r(21),c=r(0),f=r(5),h=r(1);c(e,"__esModule",{value:!0}),e.default=void 0;var d=h(r(10)),v=h(r(11)),y=h(r(16)),m=h(r(17)),_=h(r(14)),k=function(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!==n(t)&&"function"!=typeof t)return{default:t};var r=x(e);if(r&&r.has(t))return r.get(t);var o={},l=c&&f;for(var h in t)if("default"!==h&&Object.prototype.hasOwnProperty.call(t,h)){var desc=l?f(t,h):null;desc&&(desc.get||desc.set)?c(o,h,desc):o[h]=t[h]}o.default=t,r&&r.set(t,o);return o}(r(27)),M=r(33);function x(t){if("function"!=typeof l)return null;var e=new l,r=new l;return(x=function(t){return t?r:e})(t)}function C(t){var e=function(){if("undefined"==typeof Reflect||!o)return!1;if(o.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(o(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=(0,_.default)(t);if(e){var l=(0,_.default)(this).constructor;r=o(n,arguments,l)}else r=n.apply(this,arguments);return(0,m.default)(this,r)}}var T=function(t){(0,y.default)(r,t);var e=C(r);function r(){var t;return(0,d.default)(this,r),(t=e.call(this,{name:M.EMA,series:k.TechnicalIndicatorSeries.PRICE,precision:2,shouldCheckParamCount:!1,shouldOhlc:!0})).setCalcParams([6,12,20]),t}return(0,v.default)(r,[{key:"regeneratePlots",value:function(t){return t.map((function(p){return{key:"ema".concat(p),type:"line"}}))}},{key:"calcTechnicalIndicator",value:function(t,e,r){var n=[],o=[];return t.forEach((function(t,i){var l={},c=t.close;e.forEach((function(param,t){var e;e=0===i?c:(2*c+(param-1)*n[t])/(param+1),l[r[t].key]=e,n[t]=e})),o.push(l)})),o}}]),r}(k.default);e.default=T},1814:function(t,e,r){"use strict";var n=r(18),o=r(15),l=r(21),c=r(0),f=r(5),h=r(1);c(e,"__esModule",{value:!0}),e.default=void 0;var d=h(r(10)),v=h(r(11)),y=h(r(16)),m=h(r(17)),_=h(r(14)),k=function(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!==n(t)&&"function"!=typeof t)return{default:t};var r=x(e);if(r&&r.has(t))return r.get(t);var o={},l=c&&f;for(var h in t)if("default"!==h&&Object.prototype.hasOwnProperty.call(t,h)){var desc=l?f(t,h):null;desc&&(desc.get||desc.set)?c(o,h,desc):o[h]=t[h]}o.default=t,r&&r.set(t,o);return o}(r(27)),M=r(33);function x(t){if("function"!=typeof l)return null;var e=new l,r=new l;return(x=function(t){return t?r:e})(t)}function C(t){var e=function(){if("undefined"==typeof Reflect||!o)return!1;if(o.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(o(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=(0,_.default)(t);if(e){var l=(0,_.default)(this).constructor;r=o(n,arguments,l)}else r=n.apply(this,arguments);return(0,m.default)(this,r)}}var T=function(t){(0,y.default)(r,t);var e=C(r);function r(){var t;return(0,d.default)(this,r),(t=e.call(this,{name:M.VOL,series:k.TechnicalIndicatorSeries.VOLUME,shouldCheckParamCount:!1,shouldFormatBigNumber:!0,precision:0,baseValue:0,minValue:0})).setCalcParams([5,10,20]),t}return(0,v.default)(r,[{key:"regeneratePlots",value:function(t){var e=t.map((function(p){return{key:"ma".concat(p),type:"line"}}));return e.push({key:"volume",type:"bar",referenceValue:0,color:function(data,t){var e=data.currentData.kLineData||{};return e.close>e.open?t.bar.upColor:e.close<e.open?t.bar.downColor:t.bar.noChangeColor}}),e}},{key:"calcTechnicalIndicator",value:function(t,e,r){var n=[],o=[];return t.forEach((function(l,i){var c=l.volume||0,f={volume:c};e.forEach((function(param,e){n[e]=(n[e]||0)+c,i>=param-1&&(f[r[e].key]=n[e]/param,n[e]-=t[i-(param-1)].volume)})),o.push(f)})),o}}]),r}(k.default);e.default=T},1815:function(t,e,r){"use strict";var n=r(15),o=r(0),l=r(1);o(e,"__esModule",{value:!0}),e.default=void 0;var c=l(r(10)),f=l(r(11)),h=l(r(16)),d=l(r(17)),v=l(r(14)),y=l(r(27)),m=r(33);function _(t){var e=function(){if("undefined"==typeof Reflect||!n)return!1;if(n.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(n(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,o=(0,v.default)(t);if(e){var l=(0,v.default)(this).constructor;r=n(o,arguments,l)}else r=o.apply(this,arguments);return(0,d.default)(this,r)}}var k=function(t){(0,h.default)(r,t);var e=_(r);function r(){return(0,c.default)(this,r),e.call(this,{name:m.MACD,calcParams:[12,26,9],baseValue:0,plots:[{key:"diff",type:"line"},{key:"dea",type:"line"},{key:"macd",type:"bar",color:function(data,t){var e=(data.currentData.technicalIndicatorData||{}).macd;return e>0?t.bar.upColor:e<0?t.bar.downColor:t.bar.noChangeColor},isStroke:function(data){var t=data.preData,e=(data.currentData.technicalIndicatorData||{}).macd;return(t.technicalIndicatorData||{}).macd<e}}]})}return(0,f.default)(r,[{key:"calcTechnicalIndicator",value:function(t,e){var r,n,o=0,l=0,c=0,f=0,h=0,d=[];return t.forEach((function(t,i){var v=t.close;0===i?(r=v,n=v):(r=(2*v+(e[0]-1)*o)/(e[0]+1),n=(2*v+(e[1]-1)*l)/(e[1]+1));var y=r-n;c=(2*y+f*(e[2]-1))/(e[2]+1),h=2*(y-c),o=r,l=n,f=c,d.push({diff:y,dea:c,macd:h})})),d}}]),r}(y.default);e.default=k},1816:function(t,e,r){"use strict";var n=r(18),o=r(15),l=r(21),c=r(0),f=r(5),h=r(1);c(e,"__esModule",{value:!0}),e.default=void 0;var d=h(r(10)),v=h(r(11)),y=h(r(16)),m=h(r(17)),_=h(r(14)),k=function(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!==n(t)&&"function"!=typeof t)return{default:t};var r=x(e);if(r&&r.has(t))return r.get(t);var o={},l=c&&f;for(var h in t)if("default"!==h&&Object.prototype.hasOwnProperty.call(t,h)){var desc=l?f(t,h):null;desc&&(desc.get||desc.set)?c(o,h,desc):o[h]=t[h]}o.default=t,r&&r.set(t,o);return o}(r(27)),M=r(33);function x(t){if("function"!=typeof l)return null;var e=new l,r=new l;return(x=function(t){return t?r:e})(t)}function C(t){var e=function(){if("undefined"==typeof Reflect||!o)return!1;if(o.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(o(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=(0,_.default)(t);if(e){var l=(0,_.default)(this).constructor;r=o(n,arguments,l)}else r=n.apply(this,arguments);return(0,m.default)(this,r)}}var T=function(t){(0,y.default)(r,t);var e=C(r);function r(){return(0,d.default)(this,r),e.call(this,{name:M.BOLL,series:k.TechnicalIndicatorSeries.PRICE,calcParams:[20],precision:2,shouldOhlc:!0,plots:[{key:"up",type:"line"},{key:"mid",type:"line"},{key:"dn",type:"line"}]})}return(0,v.default)(r,[{key:"calcTechnicalIndicator",value:function(t,e){var r=this,p=e[0]-1,n=0,o=[];return t.forEach((function(l,i){var c=l.close,f={};if(n+=c,i>=p){f.mid=n/e[0];var h=r._getBollMd(t.slice(i-p,i+1),f.mid);f.up=f.mid+2*h,f.dn=f.mid-2*h,n-=t[i-p].close}o.push(f)})),o}},{key:"_getBollMd",value:function(t,e){var r=t.length,n=0;t.forEach((function(data){var t=data.close-e;n+=t*t}));var b=n>0;n=Math.abs(n);var o=Math.sqrt(n/r);return b?o:-1*o}}]),r}(k.default);e.default=T},1817:function(t,e,r){"use strict";var n=r(15),o=r(0),l=r(1);o(e,"__esModule",{value:!0}),e.default=void 0;var c=l(r(10)),f=l(r(11)),h=l(r(16)),d=l(r(17)),v=l(r(14)),y=l(r(27)),m=r(33),_=l(r(917));function k(t){var e=function(){if("undefined"==typeof Reflect||!n)return!1;if(n.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(n(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,o=(0,v.default)(t);if(e){var l=(0,v.default)(this).constructor;r=n(o,arguments,l)}else r=o.apply(this,arguments);return(0,d.default)(this,r)}}var M=function(t){(0,h.default)(r,t);var e=k(r);function r(){return(0,c.default)(this,r),e.call(this,{name:m.KDJ,calcParams:[9,3,3],plots:[{key:"k",type:"line"},{key:"d",type:"line"},{key:"j",type:"line"}]})}return(0,f.default)(r,[{key:"calcTechnicalIndicator",value:function(t,e){var r=[];return t.forEach((function(n,i){var o={},l=n.close;if(i>=e[0]-1){var c=(0,_.default)(t.slice(i-(e[0]-1),i+1)),f=c.ln,h=c.hn-f,d=(l-f)/(0===h?1:h)*100;o.k=((e[1]-1)*(r[i-1].k||50)+d)/e[1],o.d=((e[2]-1)*(r[i-1].d||50)+o.k)/e[2],o.j=3*o.k-2*o.d}r.push(o)})),r}}]),r}(y.default);e.default=M},1818:function(t,e,r){"use strict";var n=r(15),o=r(0),l=r(1);o(e,"__esModule",{value:!0}),e.default=void 0;var c=l(r(10)),f=l(r(11)),h=l(r(16)),d=l(r(17)),v=l(r(14)),y=l(r(27)),m=r(33);function _(t){var e=function(){if("undefined"==typeof Reflect||!n)return!1;if(n.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(n(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,o=(0,v.default)(t);if(e){var l=(0,v.default)(this).constructor;r=n(o,arguments,l)}else r=o.apply(this,arguments);return(0,d.default)(this,r)}}var k=function(t){(0,h.default)(r,t);var e=_(r);function r(){var t;return(0,c.default)(this,r),(t=e.call(this,{name:m.RSI,shouldCheckParamCount:!1})).setCalcParams([6,12,24]),t}return(0,f.default)(r,[{key:"regeneratePlots",value:function(t){return t.map((function(p){return{key:"rsi".concat(p),type:"line"}}))}},{key:"calcTechnicalIndicator",value:function(t,e,r){var n=[],o=[],l=[];return t.forEach((function(c,i){var f={},h=c.open;e.forEach((function(param,e){var l=(c.close-h)/h;if(n[e]=n[e]||0,o[e]=o[e]||0,l>0?n[e]=n[e]+l:o[e]=o[e]+Math.abs(l),i>=param-1){var a=n[e]/param,b=(n[e]+o[e])/param;f[r[e].key]=0===b?0:a/b*100;var d=t[i-(param-1)],v=d.open,y=(d.close-v)/v;y>0?n[e]-=y:o[e]-=Math.abs(y)}})),l.push(f)})),l}}]),r}(y.default);e.default=k},1819:function(t,e,r){"use strict";var n=r(15),o=r(0),l=r(1);o(e,"__esModule",{value:!0}),e.default=void 0;var c=l(r(10)),f=l(r(11)),h=l(r(16)),d=l(r(17)),v=l(r(14)),y=l(r(27)),m=r(33);function _(t){var e=function(){if("undefined"==typeof Reflect||!n)return!1;if(n.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(n(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,o=(0,v.default)(t);if(e){var l=(0,v.default)(this).constructor;r=n(o,arguments,l)}else r=o.apply(this,arguments);return(0,d.default)(this,r)}}var k=function(t){(0,h.default)(r,t);var e=_(r);function r(){var t;return(0,c.default)(this,r),(t=e.call(this,{name:m.BIAS,shouldCheckParamCount:!1})).setCalcParams([6,12,24]),t}return(0,f.default)(r,[{key:"regeneratePlots",value:function(t){return t.map((function(p){return{key:"bias".concat(p),type:"line"}}))}},{key:"calcTechnicalIndicator",value:function(t,e,r){var n=[],o=[];return t.forEach((function(l,i){var c={},f=l.close;e.forEach((function(param,o){if(n[o]=(n[o]||0)+f,i>=param-1){var l=n[o]/e[o];c[r[o].key]=(f-l)/l*100,n[o]-=t[i-(param-1)].close}})),o.push(c)})),o}}]),r}(y.default);e.default=k},1820:function(t,e,r){"use strict";var n=r(15),o=r(0),l=r(1);o(e,"__esModule",{value:!0}),e.default=void 0;var c=l(r(10)),f=l(r(11)),h=l(r(16)),d=l(r(17)),v=l(r(14)),y=l(r(27)),m=r(33);function _(t){var e=function(){if("undefined"==typeof Reflect||!n)return!1;if(n.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(n(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,o=(0,v.default)(t);if(e){var l=(0,v.default)(this).constructor;r=n(o,arguments,l)}else r=o.apply(this,arguments);return(0,d.default)(this,r)}}var k=function(t){(0,h.default)(r,t);var e=_(r);function r(){return(0,c.default)(this,r),e.call(this,{name:m.BRAR,calcParams:[26],plots:[{key:"br",type:"line"},{key:"ar",type:"line"}]})}return(0,f.default)(r,[{key:"calcTechnicalIndicator",value:function(t,e){var r=0,n=0,o=0,ol=0,l=[];return t.forEach((function(c,i){var f={};if(i>0){var h=c.high,d=c.low,v=c.open,y=t[i-1].close;if(o+=h-v,ol+=v-d,r+=h-y,n+=y-d,i>=e[0]){f.ar=0!==ol?o/ol*100:0,f.br=0!==n?r/n*100:0;var m=t[i-(e[0]-1)].high,_=t[i-(e[0]-1)].low,k=t[i-(e[0]-1)].open,M=t[i-e[0]].close;r-=m-M,n-=M-_,o-=m-k,ol-=k-_}}l.push(f)})),l}}]),r}(y.default);e.default=k},1821:function(t,e,r){"use strict";var n=r(15),o=r(0),l=r(1);o(e,"__esModule",{value:!0}),e.default=void 0;var c=l(r(10)),f=l(r(11)),h=l(r(16)),d=l(r(17)),v=l(r(14)),y=l(r(27)),m=r(33);function _(t){var e=function(){if("undefined"==typeof Reflect||!n)return!1;if(n.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(n(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,o=(0,v.default)(t);if(e){var l=(0,v.default)(this).constructor;r=n(o,arguments,l)}else r=o.apply(this,arguments);return(0,d.default)(this,r)}}var k=function(t){(0,h.default)(r,t);var e=_(r);function r(){return(0,c.default)(this,r),e.call(this,{name:m.CCI,calcParams:[13],plots:[{key:"cci",type:"line"}]})}return(0,f.default)(r,[{key:"calcTechnicalIndicator",value:function(t,e){var r,p=e[0]-1,n=0,o=0,l=[],c=[];return t.forEach((function(f,i){var h,d={},v=f.close;if(n+=v,h=i>=p?n/e[0]:n/(i+1),l.push(h),o+=Math.abs(h-v),i>=p){var y=(f.high+f.low+v)/3;r=o/e[0],d.cci=0!==r?(y-h)/r/.015:0;var m=t[i-p].close;n-=m;var _=l[i-p];o-=Math.abs(_-m)}c.push(d)})),c}}]),r}(y.default);e.default=k},1822:function(t,e,r){"use strict";var n=r(15),o=r(0),l=r(1);o(e,"__esModule",{value:!0}),e.default=void 0;var c=l(r(10)),f=l(r(11)),h=l(r(16)),d=l(r(17)),v=l(r(14)),y=l(r(27)),m=r(33);function _(t){var e=function(){if("undefined"==typeof Reflect||!n)return!1;if(n.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(n(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,o=(0,v.default)(t);if(e){var l=(0,v.default)(this).constructor;r=n(o,arguments,l)}else r=o.apply(this,arguments);return(0,d.default)(this,r)}}var k=function(t){(0,h.default)(r,t);var e=_(r);function r(){return(0,c.default)(this,r),e.call(this,{name:m.DMI,calcParams:[14,6],plots:[{key:"pdi",type:"line"},{key:"mdi",type:"line"},{key:"adx",type:"line"},{key:"adxr",type:"line"}]})}return(0,f.default)(r,[{key:"calcTechnicalIndicator",value:function(t,e){var r=0,n=[],o=0,l=[],c=0,f=[],h=0,d=[],v=[];return t.forEach((function(y,i){var m={};if(i>0){var _=t[i-1].close,k=y.high,M=y.low,x=k-M,C=Math.abs(k-_),T=Math.abs(M-_),P=k-t[i-1].high,D=t[i-1].low-M,tr=Math.max(Math.max(x,C),T);r+=tr,n.push(tr);var R=P>0&&P>D?P:0;o+=R,l.push(R);var I=D>0&&D>P?D:0;if(c+=I,f.push(I),i>=e[0]){var L,S,B;if(0===r?(L=0,S=0):(L=100*o/r,S=100*c/r),B=S+L===0?0:Math.abs(S-L)/(S+L)*100,h+=B,d.push(B),m.pdi=L,m.mdi=S,i>=e[0]+e[1]-1){var A=h/e[1];m.adx=A,i>=e[0]+2*e[1]-2&&(m.adxr=(A+v[i-(e[1]-1)].adx)/2),h-=d[i-(e[0]+e[1]-1)]}r-=n[i-e[0]],o-=l[i-e[0]],c-=f[i-e[0]]}}v.push(m)})),v}}]),r}(y.default);e.default=k},1823:function(t,e,r){"use strict";var n=r(15),o=r(0),l=r(1);o(e,"__esModule",{value:!0}),e.default=void 0;var c=l(r(10)),f=l(r(11)),h=l(r(16)),d=l(r(17)),v=l(r(14)),y=l(r(27)),m=r(33);function _(t){var e=function(){if("undefined"==typeof Reflect||!n)return!1;if(n.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(n(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,o=(0,v.default)(t);if(e){var l=(0,v.default)(this).constructor;r=n(o,arguments,l)}else r=o.apply(this,arguments);return(0,d.default)(this,r)}}var k=function(t){(0,h.default)(r,t);var e=_(r);function r(){return(0,c.default)(this,r),e.call(this,{name:m.CR,calcParams:[26,10,20,40,60],plots:[{key:"cr",type:"line"},{key:"ma1",type:"line"},{key:"ma2",type:"line"},{key:"ma3",type:"line"},{key:"ma4",type:"line"}]})}return(0,f.default)(r,[{key:"calcTechnicalIndicator",value:function(t,e){var r=Math.ceil(e[1]/2.5+1),n=Math.ceil(e[2]/2.5+1),o=Math.ceil(e[3]/2.5+1),l=Math.ceil(e[4]/2.5+1),c=0,f=[],h=0,d=[],v=0,y=[],m=0,_=[],k=[];return t.forEach((function(M,i){var x={};if(i>0){var C=t[i-1],T=(C.high+C.close+C.low+C.open)/4,P=Math.max(0,M.high-T);P;var D=Math.max(0,T-M.low);if(D,i>=e[0]){x.cr=0!==D?P/D*100:0;var R=t[i-e[0]],I=(R.high+R.close+R.low+R.open)/4,L=t[i-(e[0]-1)],S=Math.max(0,L.high-I);S;var B=Math.max(0,I-L.low);B,c+=x.cr,h+=x.cr,v+=x.cr,m+=x.cr,i>=e[0]+e[1]-1&&(f.push(c/e[1]),i>=e[0]+e[1]+r-2&&(x.ma1=f[f.length-1-r]),c-=k[i-(e[1]-1)].cr),i>=e[0]+e[2]-1&&(d.push(h/e[2]),i>=e[0]+e[2]+n-2&&(x.ma2=d[d.length-1-n]),h-=k[i-(e[2]-1)].cr),i>=e[0]+e[3]-1&&(y.push(v/e[3]),i>=e[0]+e[3]+o-2&&(x.ma3=y[y.length-1-o]),v-=k[i-(e[3]-1)].cr),i>=e[0]+e[4]-1&&(_.push(m/e[4]),i>=e[0]+e[4]+l-2&&(x.ma4=_[_.length-1-l]),m-=k[i-(e[4]-1)].cr)}}k.push(x)})),k}}]),r}(y.default);e.default=k},1824:function(t,e,r){"use strict";var n=r(15),o=r(0),l=r(1);o(e,"__esModule",{value:!0}),e.default=void 0;var c=l(r(10)),f=l(r(11)),h=l(r(16)),d=l(r(17)),v=l(r(14)),y=l(r(27)),m=r(33);function _(t){var e=function(){if("undefined"==typeof Reflect||!n)return!1;if(n.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(n(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,o=(0,v.default)(t);if(e){var l=(0,v.default)(this).constructor;r=n(o,arguments,l)}else r=o.apply(this,arguments);return(0,d.default)(this,r)}}var k=function(t){(0,h.default)(r,t);var e=_(r);function r(){return(0,c.default)(this,r),e.call(this,{name:m.PSY,calcParams:[12,6],plots:[{key:"psy",type:"line"},{key:"maPsy",type:"line"}]})}return(0,f.default)(r,[{key:"calcTechnicalIndicator",value:function(t,e){var r=0,n=0,o=[],l=[];return t.forEach((function(t,i){var c={},f=t.close-t.open>0?1:0;o.push(f),r+=f,i>=e[0]-1&&(c.psy=r/e[0]*100,n+=c.psy,i>=e[0]+e[1]-2&&(c.maPsy=n/e[1],n-=l[i-(e[1]-1)].psy),r-=o[i-(e[0]-1)]),l.push(c)})),l}}]),r}(y.default);e.default=k},1825:function(t,e,r){"use strict";var n=r(15),o=r(0),l=r(1);o(e,"__esModule",{value:!0}),e.default=void 0;var c=l(r(10)),f=l(r(11)),h=l(r(16)),d=l(r(17)),v=l(r(14)),y=l(r(27)),m=r(33);function _(t){var e=function(){if("undefined"==typeof Reflect||!n)return!1;if(n.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(n(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,o=(0,v.default)(t);if(e){var l=(0,v.default)(this).constructor;r=n(o,arguments,l)}else r=o.apply(this,arguments);return(0,d.default)(this,r)}}var k=function(t){(0,h.default)(r,t);var e=_(r);function r(){return(0,c.default)(this,r),e.call(this,{name:m.DMA,calcParams:[10,50,10],plots:[{key:"dma",type:"line"},{key:"ama",type:"line"}]})}return(0,f.default)(r,[{key:"calcTechnicalIndicator",value:function(t,e){var r=Math.max(e[0],e[1]),n=0,o=0,l=0,c=[];return t.forEach((function(f,i){var h,d,v={},y=f.close;if(n+=y,o+=y,i>=e[0]-1&&(h=n/e[0],n-=t[i-(e[0]-1)].close),i>=e[1]-1&&(d=o/e[1],o-=t[i-(e[1]-1)].close),i>=r-1){var m=h-d;v.dma=m,l+=m,i>=r+e[2]-2&&(v.ama=l/e[2],l-=c[i-(e[2]-1)].dma)}c.push(v)})),c}}]),r}(y.default);e.default=k},1826:function(t,e,r){"use strict";var n=r(15),o=r(0),l=r(1);o(e,"__esModule",{value:!0}),e.default=void 0;var c=l(r(10)),f=l(r(11)),h=l(r(16)),d=l(r(17)),v=l(r(14)),y=l(r(27)),m=r(33);function _(t){var e=function(){if("undefined"==typeof Reflect||!n)return!1;if(n.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(n(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,o=(0,v.default)(t);if(e){var l=(0,v.default)(this).constructor;r=n(o,arguments,l)}else r=o.apply(this,arguments);return(0,d.default)(this,r)}}var k=function(t){(0,h.default)(r,t);var e=_(r);function r(){return(0,c.default)(this,r),e.call(this,{name:m.TRIX,calcParams:[12,20],plots:[{key:"trix",type:"line"},{key:"maTrix",type:"line"}]})}return(0,f.default)(r,[{key:"calcTechnicalIndicator",value:function(t,e){var r,n,o,l,c,f,h=0,d=[];return t.forEach((function(t,i){var v={},y=t.close;0===i?(r=y,n=y,o=y):(r=(2*y+(e[0]-1)*l)/(e[0]+1),n=(2*r+(e[0]-1)*c)/(e[0]+1),o=(2*n+(e[0]-1)*f)/(e[0]+1),v.trix=0===f?0:(o-f)/f*100,h+=v.trix,i>=e[1]-1&&(v.maTrix=h/e[1],h-=d[i-(e[1]-1)].trix||0)),l=r,c=n,f=o,d.push(v)})),d}}]),r}(y.default);e.default=k},1827:function(t,e,r){"use strict";var n=r(15),o=r(0),l=r(1);o(e,"__esModule",{value:!0}),e.default=void 0;var c=l(r(10)),f=l(r(11)),h=l(r(16)),d=l(r(17)),v=l(r(14)),y=l(r(27)),m=r(33);function _(t){var e=function(){if("undefined"==typeof Reflect||!n)return!1;if(n.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(n(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,o=(0,v.default)(t);if(e){var l=(0,v.default)(this).constructor;r=n(o,arguments,l)}else r=o.apply(this,arguments);return(0,d.default)(this,r)}}var k=function(t){(0,h.default)(r,t);var e=_(r);function r(){return(0,c.default)(this,r),e.call(this,{name:m.OBV,calcParams:[30],plots:[{key:"obv",type:"line"},{key:"maObv",type:"line"}]})}return(0,f.default)(r,[{key:"calcTechnicalIndicator",value:function(t,e){var r=0,n=[];return t.forEach((function(t,i){var o={},l=t.close,c=t.high-l;o.obv=0===c?0:(l-t.low-c)/c*t.volume,r+=o.obv,i>=e[0]-1&&(o.maObv=r/e[0],r-=n[i-(e[0]-1)].obv),n.push(o)})),n}}]),r}(y.default);e.default=k},1828:function(t,e,r){"use strict";var n=r(15),o=r(0),l=r(1);o(e,"__esModule",{value:!0}),e.default=void 0;var c=l(r(10)),f=l(r(11)),h=l(r(16)),d=l(r(17)),v=l(r(14)),y=l(r(27)),m=r(33);function _(t){var e=function(){if("undefined"==typeof Reflect||!n)return!1;if(n.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(n(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,o=(0,v.default)(t);if(e){var l=(0,v.default)(this).constructor;r=n(o,arguments,l)}else r=o.apply(this,arguments);return(0,d.default)(this,r)}}var k=function(t){(0,h.default)(r,t);var e=_(r);function r(){return(0,c.default)(this,r),e.call(this,{name:m.VR,calcParams:[24,30],plots:[{key:"vr",type:"line"},{key:"maVr",type:"line"}]})}return(0,f.default)(r,[{key:"calcTechnicalIndicator",value:function(t,e){var r=0,n=0,o=0,l=0,c=[];return t.forEach((function(f,i){var h={},d=f.close,v=f.open,y=f.volume;if(d>v?r+=y:d<v?n+=y:o+=y,i>=e[0]-1){var m=o/2;h.vr=n+m===0?0:(r+m)/(n+m),l+=h.vr,i>=e[0]+e[1]-2&&(h.maVr=l/e[1],l-=c[i-(e[1]-1)].vr);var _=t[i-(e[0]-1)],k=_.open,M=_.close,x=_.volume;M>k?r-=x:M<k?n-=x:o-=x}c.push(h)})),c}}]),r}(y.default);e.default=k},1829:function(t,e,r){"use strict";var n=r(15),o=r(0),l=r(1);o(e,"__esModule",{value:!0}),e.default=void 0;var c=l(r(10)),f=l(r(11)),h=l(r(16)),d=l(r(17)),v=l(r(14)),y=l(r(27)),m=r(33),_=l(r(917));function k(t){var e=function(){if("undefined"==typeof Reflect||!n)return!1;if(n.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(n(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,o=(0,v.default)(t);if(e){var l=(0,v.default)(this).constructor;r=n(o,arguments,l)}else r=o.apply(this,arguments);return(0,d.default)(this,r)}}var M=function(t){(0,h.default)(r,t);var e=k(r);function r(){var t;return(0,c.default)(this,r),(t=e.call(this,{name:m.WR,shouldCheckParamCount:!1})).setCalcParams([6,10,14]),t}return(0,f.default)(r,[{key:"regeneratePlots",value:function(t){return t.map((function(t,i){return{key:"wr".concat(i+1),type:"line"}}))}},{key:"calcTechnicalIndicator",value:function(t,e,r){var n=[];return t.forEach((function(o,i){var l={},c=o.close;e.forEach((function(param,e){var p=param-1;if(i>=p){var n=(0,_.default)(t.slice(i-p,i+1)),o=n.hn,f=o-n.ln;l[r[e].key]=0===f?0:(o-c)/f*100}})),n.push(l)})),n}}]),r}(y.default);e.default=M},1830:function(t,e,r){"use strict";var n=r(15),o=r(0),l=r(1);o(e,"__esModule",{value:!0}),e.default=void 0;var c=l(r(10)),f=l(r(11)),h=l(r(16)),d=l(r(17)),v=l(r(14)),y=l(r(27)),m=r(33);function _(t){var e=function(){if("undefined"==typeof Reflect||!n)return!1;if(n.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(n(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,o=(0,v.default)(t);if(e){var l=(0,v.default)(this).constructor;r=n(o,arguments,l)}else r=o.apply(this,arguments);return(0,d.default)(this,r)}}var k=function(t){(0,h.default)(r,t);var e=_(r);function r(){return(0,c.default)(this,r),e.call(this,{name:m.MTM,calcParams:[6,10],plots:[{key:"mtm",type:"line"},{key:"maMtm",type:"line"}]})}return(0,f.default)(r,[{key:"calcTechnicalIndicator",value:function(t,e){var r=0,n=[];return t.forEach((function(o,i){var l={};if(i>=e[0]-1){var c=o.close,f=t[i-(e[0]-1)].close;l.mtm=c-f,r+=l.mtm,i>=e[0]+e[1]-2&&(l.maMtm=r/e[1],r-=n[i-(e[1]-1)].mtm)}n.push(l)})),n}}]),r}(y.default);e.default=k},1831:function(t,e,r){"use strict";var n=r(18),o=r(15),l=r(21),c=r(0),f=r(5),h=r(1);c(e,"__esModule",{value:!0}),e.default=void 0;var d=h(r(10)),v=h(r(11)),y=h(r(16)),m=h(r(17)),_=h(r(14)),k=function(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!==n(t)&&"function"!=typeof t)return{default:t};var r=x(e);if(r&&r.has(t))return r.get(t);var o={},l=c&&f;for(var h in t)if("default"!==h&&Object.prototype.hasOwnProperty.call(t,h)){var desc=l?f(t,h):null;desc&&(desc.get||desc.set)?c(o,h,desc):o[h]=t[h]}o.default=t,r&&r.set(t,o);return o}(r(27)),M=r(33);function x(t){if("function"!=typeof l)return null;var e=new l,r=new l;return(x=function(t){return t?r:e})(t)}function C(t){var e=function(){if("undefined"==typeof Reflect||!o)return!1;if(o.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(o(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=(0,_.default)(t);if(e){var l=(0,_.default)(this).constructor;r=o(n,arguments,l)}else r=n.apply(this,arguments);return(0,m.default)(this,r)}}var T=function(t){(0,y.default)(r,t);var e=C(r);function r(){return(0,d.default)(this,r),e.call(this,{name:M.SAR,series:k.TechnicalIndicatorSeries.PRICE,calcParams:[2,2,20],precision:2,shouldOhlc:!0,plots:[{key:"sar",type:"circle",color:function(data,t){var e=data.currentData,r=e.kLineData||{},n=e.technicalIndicatorData||{},o=(r.high+r.low)/2;return n.sar<o?t.circle.upColor:t.circle.downColor}}]})}return(0,v.default)(r,[{key:"calcTechnicalIndicator",value:function(t,e){var r=e[0]/100,n=e[1]/100,o=e[2]/100,l=r,c=-100,f=!1,h=0,d=[];return t.forEach((function(e,i){var v=h,y=e.high,m=e.low;if(f){(-100===c||c<y)&&(c=y,l=Math.min(l+n,o)),h=v+l*(c-v);var _=Math.min(t[Math.max(1,i)-1].low,m);h>e.low?(h=c,l=r,c=-100,f=!f):h>_&&(h=_)}else{(-100===c||c>m)&&(c=m,l=Math.min(l+n,o)),h=v+l*(c-v);var k=Math.max(t[Math.max(1,i)-1].high,y);h<e.high?(h=c,l=0,c=-100,f=!f):h<k&&(h=k)}d.push({sar:h})})),d}}]),r}(k.default);e.default=T},1832:function(t,e,r){"use strict";var n=r(15),o=r(0),l=r(1);o(e,"__esModule",{value:!0}),e.default=void 0;var c=l(r(10)),f=l(r(11)),h=l(r(16)),d=l(r(17)),v=l(r(14)),y=l(r(27)),m=r(33);function _(t){var e=function(){if("undefined"==typeof Reflect||!n)return!1;if(n.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(n(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,o=(0,v.default)(t);if(e){var l=(0,v.default)(this).constructor;r=n(o,arguments,l)}else r=o.apply(this,arguments);return(0,d.default)(this,r)}}var k=function(t){(0,h.default)(r,t);var e=_(r);function r(){return(0,c.default)(this,r),e.call(this,{name:m.EMV,calcParams:[14,9],plots:[{key:"emv",type:"line"},{key:"maEmv",type:"line"}]})}return(0,f.default)(r,[{key:"calcTechnicalIndicator",value:function(t,e){var r=0,n=0,o=[],l=[];return t.forEach((function(c,i){var f={};if(i>0){var h=c.high,d=c.low,em=((h+d)/2-(t[i-1].high+t[i-1].low)/2)*(h-d)-(c.turnover||0);o.push(em),r+=em,i>=e[0]&&(f.emv=r/e[0],n+=f.emv,i>=e[0]+e[1]-1&&(f.maEmv=n/e[1],n-=l[i-(e[1]-1)].emv),r-=o[i-e[0]])}l.push(f)})),l}}]),r}(y.default);e.default=k},1833:function(t,e,r){"use strict";var n=r(0),o=r(1);n(e,"__esModule",{value:!0}),e.default=void 0;var l=o(r(10)),c=o(r(11)),f=function(){function t(){(0,l.default)(this,t),this._observers=[]}return(0,c.default)(t,[{key:"subscribe",value:function(t){this._observers.indexOf(t)<0&&this._observers.push(t)}},{key:"unsubscribe",value:function(t){var e=this._observers.indexOf(t);e>-1&&this._observers.splice(e,1)}},{key:"execute",value:function(data){this._observers.forEach((function(t){t(data)}))}},{key:"hasObservers",value:function(){return this._observers.length>0}}]),t}();e.default=f},1847:function(t,e,r){"use strict";var n=r(15),o=r(0),l=r(1);o(e,"__esModule",{value:!0}),e.default=void 0;var c=l(r(10)),f=l(r(11)),h=l(r(16)),d=l(r(17)),v=l(r(14));function y(t){var e=function(){if("undefined"==typeof Reflect||!n)return!1;if(n.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(n(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,o=(0,v.default)(t);if(e){var l=(0,v.default)(this).constructor;r=n(o,arguments,l)}else r=o.apply(this,arguments);return(0,d.default)(this,r)}}var m=function(t){(0,h.default)(r,t);var e=y(r);function r(){return(0,c.default)(this,r),e.call(this,{name:"TAP",precision:2,plots:[{key:"average",type:"line"}]})}return(0,f.default)(r,[{key:"calcTechnicalIndicator",value:function(t,e){var r=0,n=0,o=[];return t.forEach((function(t){var e={},l=t.turnover||0,c=t.volume||0;r+=l,n+=c,0!==c&&(e.average=r/n),o.push(e)})),o}}]),r}(l(r(27)).default);e.default=m},1852:function(t,e,r){"use strict";var n=r(15),o=r(0),l=r(1);o(e,"__esModule",{value:!0}),e.default=void 0;var c=l(r(152)),f=l(r(10)),h=l(r(11)),d=l(r(16)),v=l(r(17)),y=l(r(14)),m=l(r(925)),_=r(47),k=r(75),M=r(52);function x(t){var e=function(){if("undefined"==typeof Reflect||!n)return!1;if(n.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(n(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,o=(0,y.default)(t);if(e){var l=(0,y.default)(this).constructor;r=n(o,arguments,l)}else r=o.apply(this,arguments);return(0,v.default)(this,r)}}var C=function(t){(0,d.default)(r,t);var e=x(r);function r(){return(0,f.default)(this,r),e.apply(this,arguments)}return(0,h.default)(r,[{key:"_computeMinMaxValue",value:function(){var t=this._chartData.from(),e=this._chartData.to()-1;return{min:t,max:e,range:e-t+1}}},{key:"_computeOptimalTicks",value:function(t){var e=[],r=t.length,n=this._chartData.dataList();if(r>0){var o=this._chartData.dateTimeFormat(),l=this._chartData.styleOptions().xAxis.tickText;this._measureCtx.font=(0,_.getFont)(l.size,l.weight,l.family);var f=(0,_.calcTextWidth)(this._measureCtx,"00-00 00:00"),h=(0,c.default)(t[0].v,10),d=this.convertToPixel(h),v=1;if(r>1){var y=(0,c.default)(t[1].v,10),m=this.convertToPixel(y),M=Math.abs(m-d);M<f&&(v=Math.ceil(f/M))}for(var i=0;i<r;i+=v){var x=(0,c.default)(t[i].v,10),C=n[x].timestamp,label=(0,k.formatDate)(o,C,"hh:mm");if(0!==i){var T=n[(0,c.default)(t[i-v].v,10)].timestamp;label=this._optimalTickLabel(o,C,T)||label}var P=this.convertToPixel(x);e.push({v:label,x:P,oV:C})}if(1===e.length)e[0].v=(0,k.formatDate)(o,e[0].oV,"YYYY-MM-DD hh:mm");else{var D=e[0].oV,R=e[1].oV;if(e[2]){var I=e[2].v;/^[0-9]{2}-[0-9]{2}$/.test(I)?e[0].v=(0,k.formatDate)(o,D,"MM-DD"):/^[0-9]{4}-[0-9]{2}$/.test(I)?e[0].v=(0,k.formatDate)(o,D,"YYYY-MM"):/^[0-9]{4}$/.test(I)&&(e[0].v=(0,k.formatDate)(o,D,"YYYY"))}else e[0].v=this._optimalTickLabel(o,D,R)||e[0].v}}return e}},{key:"_optimalTickLabel",value:function(t,e,r){var n=(0,k.formatDate)(t,e,"YYYY"),o=(0,k.formatDate)(t,e,"YYYY-MM"),l=(0,k.formatDate)(t,e,"MM-DD");return n!==(0,k.formatDate)(t,r,"YYYY")?n:o!==(0,k.formatDate)(t,r,"YYYY-MM")?o:l!==(0,k.formatDate)(t,r,"MM-DD")?l:null}},{key:"getSelfHeight",value:function(){var t=this._chartData.styleOptions(),e=t.xAxis,r=e.height;if((0,M.isValid)(r)&&(0,M.isNumber)(+r))return+r;var n=t.floatLayer.crossHair,o=0;e.display&&(e.axisLine.display&&(o+=e.axisLine.size),e.tickLine.display&&(o+=e.tickLine.length),e.tickText.display&&(o+=e.tickText.paddingTop+e.tickText.paddingBottom+e.tickText.size));var l=0;return n.display&&n.vertical.display&&n.vertical.text.display&&(l+=n.vertical.text.paddingTop+n.vertical.text.paddingBottom+2*n.vertical.text.borderSize+n.vertical.text.size),Math.max(o,l)}},{key:"convertFromPixel",value:function(t){return Math.round(this._chartData.coordinateToFloatIndex(t))-1}},{key:"convertToPixel",value:function(t){var e=this._chartData.dataList().length,r=this._chartData.dataSpace(),n=e+this._chartData.offsetRightBarCount()-t;return this._width-(n-.5)*r+this._chartData.barSpace()/2}}]),r}(m.default);e.default=C},27:function(t,e,r){"use strict";var n=r(0),o=r(1);n(e,"__esModule",{value:!0}),e.default=e.TechnicalIndicatorSeries=void 0;var l=o(r(152)),c=o(r(10)),f=o(r(11)),h=r(52);e.TechnicalIndicatorSeries={PRICE:"price",VOLUME:"volume",NORMAL:"normal"};var d=function(){function t(e){var r=e.name,n=e.series,o=e.calcParams,l=e.plots,f=e.precision,d=e.shouldCheckParamCount,v=e.shouldOhlc,y=e.shouldFormatBigNumber,m=e.baseValue,_=e.minValue,k=e.maxValue;(0,c.default)(this,t),this.name=r||"",this.series=n||"normal",this.precision=(0,h.isValid)(f)&&(0,h.isNumber)(f)&&f>=0?f:4,this.calcParams=(0,h.isArray)(o)?o:[],this.plots=(0,h.isArray)(l)?l:[],this.shouldCheckParamCount=!(0,h.isBoolean)(d)||d,this.shouldOhlc=v,this.shouldFormatBigNumber=y,this.baseValue=(0,h.isNumber)(m)?m:null,this.minValue=_,this.maxValue=k,this.result=[]}return(0,f.default)(t,[{key:"setPrecision",value:function(t){t>=0&&(0,h.isNumber)(t)&&(this.precision=(0,l.default)(t,10))}},{key:"setCalcParams",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(!this.shouldCheckParamCount||t.length===this.calcParams.length){this.calcParams=(0,h.clone)(t);var e=this.regeneratePlots(t);e&&(0,h.isArray)(e)&&(this.plots=e)}}},{key:"calcTechnicalIndicator",value:function(t,e){}},{key:"regeneratePlots",value:function(t){}}]),t}();e.default=d},33:function(t,e,r){"use strict";r(0)(e,"__esModule",{value:!0}),e.SAR=e.EMV=e.MTM=e.WR=e.VR=e.OBV=e.TRIX=e.DMA=e.PSY=e.CR=e.DMI=e.CCI=e.BRAR=e.BIAS=e.RSI=e.KDJ=e.BOLL=e.MACD=e.VOL=e.EMA=e.MA=void 0;e.MA="MA";e.EMA="EMA";e.VOL="VOL";e.MACD="MACD";e.BOLL="BOLL";e.KDJ="KDJ";e.RSI="RSI";e.BIAS="BIAS";e.BRAR="BRAR";e.CCI="CCI";e.DMI="DMI";e.CR="CR";e.PSY="PSY";e.DMA="DMA";e.TRIX="TRIX";e.OBV="OBV";e.VR="VR";e.WR="WR";e.MTM="MTM";e.EMV="EMV";e.SAR="SAR"},489:function(t,e,r){"use strict";var n=r(15),o=r(0),l=r(1);o(e,"__esModule",{value:!0}),e.createTechnicalIndicators=function(){var t;return t={},(0,v.default)(t,z.MA,new m.default),(0,v.default)(t,z.EMA,new _.default),(0,v.default)(t,z.VOL,new k.default),(0,v.default)(t,z.MACD,new M.default),(0,v.default)(t,z.BOLL,new x.default),(0,v.default)(t,z.KDJ,new C.default),(0,v.default)(t,z.RSI,new T.default),(0,v.default)(t,z.BIAS,new P.default),(0,v.default)(t,z.BRAR,new D.default),(0,v.default)(t,z.CCI,new R.default),(0,v.default)(t,z.DMI,new I.default),(0,v.default)(t,z.CR,new L.default),(0,v.default)(t,z.PSY,new S.default),(0,v.default)(t,z.DMA,new B.default),(0,v.default)(t,z.TRIX,new A.default),(0,v.default)(t,z.OBV,new O.default),(0,v.default)(t,z.VR,new V.default),(0,v.default)(t,z.WR,new E.default),(0,v.default)(t,z.MTM,new w.default),(0,v.default)(t,z.EMV,new F.default),(0,v.default)(t,z.SAR,new N.default),t},e.createNewTechnicalIndicator=function(t){var e=t.name,r=t.series,o=t.calcParams,l=t.plots,v=t.precision,m=t.shouldCheckParamCount,_=t.shouldOhlc,k=t.shouldFormatBigNumber,M=t.baseValue,x=t.minValue,C=t.maxValue,T=t.calcTechnicalIndicator,P=t.regeneratePlots,D=t.render;if(!e||!(0,Y.isFunction)(T))return G.DEV&&console.warn('The required attribute "name" and method "calcTechnicalIndicator" are missing, and new technical indicator cannot be generated!!!'),null;var R=function(t){(0,f.default)(D,t);var y,T,P=(y=D,T=function(){if("undefined"==typeof Reflect||!n)return!1;if(n.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(n(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=(0,d.default)(y);if(T){var r=(0,d.default)(this).constructor;t=n(e,arguments,r)}else t=e.apply(this,arguments);return(0,h.default)(this,t)});function D(){return(0,c.default)(this,D),P.call(this,{name:e,series:r,calcParams:o,plots:l,precision:v,shouldCheckParamCount:m,shouldOhlc:_,shouldFormatBigNumber:k,baseValue:M,minValue:x,maxValue:C})}return D}(y.default);R.prototype.calcTechnicalIndicator=T,P&&(0,Y.isFunction)(P)&&(R.prototype.regeneratePlots=P);D&&(0,Y.isFunction)(D)&&(R.prototype.render=D);return new R},e.getTechnicalIndicatorInfo=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0,n=e.calcParams,o=e.plots,l=e.precision,c=e.shouldFormatBigNumber,f=[],h=[],d="";o.length>0&&(d=e.name);n.length>0&&(d="".concat(d,"(").concat(n.join(","),")"));return o.forEach((function(e){f.push(e.key.toUpperCase());var n,o=t[e.key];(0,Y.isValid)(o)&&(n=r.convertToPixel(o),o=(0,H.formatPrecision)(o,l),c&&(o=(0,H.formatBigNumber)(o))),h.push({value:o,y:n})})),{labels:f,values:h,name:d}};var c=l(r(10)),f=l(r(16)),h=l(r(17)),d=l(r(14)),v=l(r(4)),y=l(r(27)),m=l(r(1812)),_=l(r(1813)),k=l(r(1814)),M=l(r(1815)),x=l(r(1816)),C=l(r(1817)),T=l(r(1818)),P=l(r(1819)),D=l(r(1820)),R=l(r(1821)),I=l(r(1822)),L=l(r(1823)),S=l(r(1824)),B=l(r(1825)),A=l(r(1826)),O=l(r(1827)),V=l(r(1828)),E=l(r(1829)),w=l(r(1830)),N=l(r(1831)),F=l(r(1832)),z=r(33),Y=r(52),H=r(75),G=r(176)},86:function(t,e,r){"use strict";r(0)(e,"__esModule",{value:!0}),e.defaultStyleOptions=e.FloatLayerPromptCandleStickTextDisplayType=e.FloatLayerPromptDisplayRule=e.CandleStickStyle=e.ChartType=e.YAxisType=e.YAxisPosition=e.LineStyle=void 0;var n={DASH:"dash",SOLID:"solid"};e.LineStyle=n;var o={LEFT:"left",RIGHT:"right"};e.YAxisPosition=o;var l={NORMAL:"normal",PERCENTAGE:"percentage"};e.YAxisType=l;e.ChartType={REAL_TIME:"real_time",CANDLE_STICK:"candle_stick"};var c={SOLID:"solid",STROKE:"stroke",UP_STROKE:"up_stroke",DOWN_STROKE:"down_stroke",OHLC:"ohlc"};e.CandleStickStyle=c;var f={ALWAYS:"always",FOLLOW_CROSS:"follow_cross",NONE:"none"};e.FloatLayerPromptDisplayRule=f;var h={RECT:"rect",STANDARD:"standard"};e.FloatLayerPromptCandleStickTextDisplayType=h;var d={grid:{display:!0,horizontal:{display:!0,size:1,color:"#393939",style:n.DASH,dashValue:[2,2]},vertical:{display:!1,size:1,color:"#393939",style:n.DASH,dashValue:[2,2]}},candleStick:{bar:{style:c.SOLID,upColor:"#26A69A",downColor:"#EF5350",noChangeColor:"#888888"},priceMark:{display:!0,high:{display:!0,color:"#D9D9D9",textMargin:5,textSize:10,textFamily:"Helvetica Neue",textWeight:"normal"},low:{display:!0,color:"#D9D9D9",textMargin:5,textSize:10,textFamily:"Helvetica Neue",textWeight:"normal"},last:{display:!0,upColor:"#26A69A",downColor:"#EF5350",noChangeColor:"#888888",line:{display:!0,style:n.DASH,dashValue:[4,4],size:1},text:{display:!0,size:10,paddingLeft:2,paddingTop:2,paddingRight:2,paddingBottom:2,color:"#FFFFFF",family:"Helvetica Neue",weight:"normal"}}}},realTime:{timeLine:{color:"#2196F3",size:1,areaFillColor:"rgba(33, 150, 243, 0.08)"},averageLine:{display:!0,color:"#FF9600",size:1}},technicalIndicator:{bar:{upColor:"#26A69A",downColor:"#EF5350",noChangeColor:"#888888"},line:{size:1,colors:["#D9D9D9","#FF9600","#F632FF","#2196F3","#9157DB"]},circle:{upColor:"#26A69A",downColor:"#EF5350",noChangeColor:"#888888"},lastValueMark:{display:!1,textColor:"#ffffff",textSize:12,textFamily:"Helvetica Neue",textWeight:"normal",textPaddingLeft:3,textPaddingTop:2,textPaddingRight:3,textPaddingBottom:2}},xAxis:{display:!0,height:null,axisLine:{display:!0,color:"#888888",size:1},tickText:{display:!0,color:"#D9D9D9",size:12,family:"Helvetica Neue",weight:"normal",paddingTop:3,paddingBottom:6},tickLine:{display:!0,size:1,length:3,color:"#888888"}},yAxis:{display:!0,width:null,type:l.NORMAL,position:o.RIGHT,inside:!1,axisLine:{display:!0,color:"#888888",size:1},tickText:{display:!0,color:"#D9D9D9",size:12,family:"Helvetica Neue",weight:"normal",paddingLeft:3,paddingRight:6},tickLine:{display:!0,size:1,length:3,color:"#888888"}},separator:{size:1,color:"#888888",fill:!0},floatLayer:{crossHair:{display:!0,horizontal:{display:!0,line:{display:!0,style:n.DASH,dashValue:[4,2],size:1,color:"#888888"},text:{display:!0,color:"#D9D9D9",size:12,family:"Helvetica Neue",weight:"normal",paddingLeft:2,paddingRight:2,paddingTop:2,paddingBottom:2,borderSize:1,borderColor:"#505050",backgroundColor:"#505050"}},vertical:{display:!0,line:{display:!0,style:n.DASH,dashValue:[4,2],size:1,color:"#888888"},text:{display:!0,color:"#D9D9D9",size:12,family:"Helvetica Neue",weight:"normal",paddingLeft:2,paddingRight:2,paddingTop:2,paddingBottom:2,borderSize:1,borderColor:"#505050",backgroundColor:"#505050"}}},prompt:{displayRule:f.ALWAYS,candleStick:{showType:h.STANDARD,labels:["","","","","",""],values:null,rect:{paddingLeft:0,paddingRight:0,paddingTop:0,paddingBottom:6,left:8,top:8,right:8,borderRadius:4,borderSize:1,borderColor:"#3f4254",fillColor:"rgba(17, 17, 17, .3)"},text:{size:12,family:"Helvetica Neue",weight:"normal",color:"#D9D9D9",labelColor:"#D9D9D9",marginLeft:8,marginTop:6,marginRight:8,marginBottom:0}},technicalIndicator:{text:{size:12,family:"Helvetica Neue",weight:"normal",color:"#D9D9D9",marginTop:6,marginRight:8,marginBottom:0,marginLeft:8}}}},graphicMark:{line:{color:"#2196F3",size:1},point:{backgroundColor:"#2196F3",borderColor:"#2196F3",borderSize:1,radius:4,activeBackgroundColor:"#2196F3",activeBorderColor:"#2196F3",activeBorderSize:1,activeRadius:6},text:{color:"#1e88e5",size:10,family:"Helvetica Neue",weight:"normal",marginLeft:2,marginRight:2,marginTop:2,marginBottom:6}}};e.defaultStyleOptions=d},917:function(t,e,r){"use strict";r(0)(e,"__esModule",{value:!0}),e.default=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=-1/0,r=1/0;return t.forEach((function(data){e=Math.max(data.high,e),r=Math.min(data.low,r)})),{hn:e,ln:r}}},924:function(t,e,r){"use strict";var n=r(15),o=r(0),l=r(1);o(e,"__esModule",{value:!0}),e.default=void 0;var c=l(r(10)),f=l(r(11)),h=l(r(16)),d=l(r(17)),v=l(r(14)),y=l(r(925)),m=r(86),_=r(52),k=r(47),M=r(75);function x(t){var e=function(){if("undefined"==typeof Reflect||!n)return!1;if(n.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(n(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,o=(0,v.default)(t);if(e){var l=(0,v.default)(this).constructor;r=n(o,arguments,l)}else r=o.apply(this,arguments);return(0,d.default)(this,r)}}var C=function(t){(0,h.default)(r,t);var e=x(r);function r(t,n,o){var l;return(0,c.default)(this,r),(l=e.call(this,t))._isCandleStickYAxis=n,l._additionalDataProvider=o,l}return(0,f.default)(r,[{key:"_computeMinMaxValue",value:function(){var t=this._minValue,e=this._maxValue,r=Math.abs(e-t);return this._isCandleStickYAxis&&(t-=r/100*10),{min:t,max:e+=r/100*20,range:r=Math.abs(e-t)}}},{key:"_computeOptimalTicks",value:function(t){var e=[],r=t.length;if(r>0){var n=this._chartData.styleOptions().xAxis.tickText.size,o=this._innerConvertToPixel(+t[0].v),l=1;if(r>1){var c=this._innerConvertToPixel(+t[1].v),f=Math.abs(c-o);f<2*n&&(l=Math.ceil(2*n/f))}for(var h=this._additionalDataProvider.technicalIndicator(),d=this.isPercentageYAxis(),v=this._isCandleStickYAxis?this._chartData.pricePrecision():h.precision,y=h.shouldFormatBigNumber,i=0;i<r;i+=l){var m=t[i].v;m=0==+m?"0":m;var _=this._innerConvertToPixel(+m),k="";d?k="".concat((0,M.formatPrecision)(m,2),"%"):(k=(0,M.formatPrecision)(m,v),y&&(k=(0,M.formatBigNumber)(k))),_>n&&_<this._height-n&&e.push({v:k,y:_})}}return e}},{key:"calcMinMaxValue",value:function(){var t=this,e=this._additionalDataProvider.technicalIndicator(),r=this._additionalDataProvider.isTimeLine(),n=this._chartData.dataList(),o=e.result,l=this._chartData.from(),c=this._chartData.to(),f=this._chartData.styleOptions().realTime.averageLine.display,h=[1/0,-1/0];if(r)for(var i=l;i<c;i++){var d=n[i],v=o[i]||{};h[0]=Math.min(d.close,h[0]),h[1]=Math.max(d.close,h[1]),f&&(0,_.isValid)(v.average)&&(h[0]=Math.min(v.average,h[0]),h[1]=Math.max(v.average,h[1]))}else for(var y=e.plots||[],m=function(r){var l=n[r],c=o[r]||{};y.forEach((function(t){var e=c[t.key];(0,_.isValid)(e)&&(h[0]=Math.min(h[0],e),h[1]=Math.max(h[1],e))})),(t._isCandleStickYAxis||e.shouldOhlc)&&(h[0]=Math.min(h[0],l.low),h[1]=Math.max(h[1],l.high))},k=l;k<c;k++)m(k);if((0,_.isValid)(e.minValue)&&(0,_.isNumber)(e.minValue)&&(h[0]=e.minValue),(0,_.isValid)(e.maxValue)&&(0,_.isNumber)(e.maxValue)&&(h[1]=e.maxValue),h[0]!==1/0&&h[1]!==-1/0)if(this.isPercentageYAxis()){var M=n[l].close;this._minValue=(h[0]-M)/M*100,this._maxValue=(h[1]-M)/M*100,(this._minValue===this._maxValue||Math.abs(this._minValue-this._maxValue)<Math.pow(10,-2))&&(this._minValue-=10,this._maxValue+=10)}else if(this._minValue=h[0],this._maxValue=h[1],this._minValue===this._maxValue||Math.abs(this._minValue-this._maxValue)<Math.pow(10,-6)){var x=0!==this._minValue?Math.abs(.2*this._minValue):10;this._minValue=0!==this._minValue?this._minValue-x:this._minValue,this._maxValue+=x}}},{key:"_innerConvertToPixel",value:function(t){return Math.round((1-(t-this._minValue)/this._range)*this._height)}},{key:"isCandleStickYAxis",value:function(){return this._isCandleStickYAxis}},{key:"isPercentageYAxis",value:function(){return this._isCandleStickYAxis&&this._chartData.styleOptions().yAxis.type===m.YAxisType.PERCENTAGE}},{key:"getSelfWidth",value:function(){var t=this,e=this._chartData.styleOptions(),r=e.yAxis,n=r.width;if((0,_.isValid)(n)&&(0,_.isNumber)(+n))return+n;var o=0;if(r.display&&(r.axisLine.display&&(o+=r.axisLine.size),r.tickLine.display&&(o+=r.tickLine.length),r.tickText.display)){var l=0;this._measureCtx.font=(0,k.getFont)(r.tickText.size,r.tickText.weight,r.tickText.family),this._ticks.forEach((function(e){l=Math.max(l,(0,k.calcTextWidth)(t._measureCtx,e.v))})),o+=r.tickText.paddingLeft+r.tickText.paddingRight+l}var c=e.floatLayer.crossHair,f=0;if(c.display&&c.horizontal.display&&c.horizontal.text.display){var h=this._additionalDataProvider.technicalIndicator();this._measureCtx.font=(0,k.getFont)(c.horizontal.text.size,c.horizontal.text.weight,c.horizontal.text.family);var d=2;if(!this.isPercentageYAxis())if(this._isCandleStickYAxis){var v=this._chartData.pricePrecision();d=e.technicalIndicator.lastValueMark.display?Math.max(h.precision,v):v}else d=h.precision;var y=(0,M.formatPrecision)(this._maxValue,d);h.shouldFormatBigNumber&&(y=(0,M.formatBigNumber)(y)),f+=c.horizontal.text.paddingLeft+c.horizontal.text.paddingRight+2*c.horizontal.text.borderSize+(0,k.calcTextWidth)(this._measureCtx,y)}return Math.max(o,f)}},{key:"convertFromPixel",value:function(t){var e=(1-t/this._height)*this._range+this._minValue;if(this.isPercentageYAxis()){var r=this._chartData.dataList()[this._chartData.from()].close;return r*e/100+r}return e}},{key:"convertToPixel",value:function(t){var e=t;if(this.isPercentageYAxis()){var r=(this._chartData.dataList()[this._chartData.from()]||{}).close;(0,_.isValid)(r)&&(e=(t-r)/r*100)}return this._innerConvertToPixel(e)}}]),r}(y.default);e.default=C},925:function(t,e,r){"use strict";var n=r(0),o=r(1);n(e,"__esModule",{value:!0}),e.default=void 0;var l=o(r(10)),c=o(r(11)),f=r(47),h=function(){function t(e){(0,l.default)(this,t),this._chartData=e,this._width=0,this._height=0,this._cacheMinValue=0,this._cacheMaxValue=0,this._minValue=0,this._maxValue=0,this._range=0,this._ticks=[],this._initMeasureCanvas()}return(0,c.default)(t,[{key:"_initMeasureCanvas",value:function(){var t=document.createElement("canvas"),e=(0,f.getPixelRatio)(t);this._measureCtx=t.getContext("2d"),this._measureCtx.scale(e,e)}},{key:"min",value:function(){return this._minValue}},{key:"max",value:function(){return this._maxValue}},{key:"setWidth",value:function(t){this._width=t}},{key:"setHeight",value:function(t){this._height=t}},{key:"ticks",value:function(){return this._ticks}},{key:"computeAxis",value:function(t){var e=this._computeMinMaxValue(),r=e.min,n=e.max,o=e.range;return this._minValue=r,this._maxValue=n,!(this._cacheMinValue===r&&this._cacheMaxValue===n&&!t)&&(this._cacheMinValue=r,this._cacheMaxValue=n,this._range=o,this._ticks=this._computeOptimalTicks(this._computeTicks()),!0)}},{key:"_computeMinMaxValue",value:function(){}},{key:"_computeOptimalTicks",value:function(t){}},{key:"_computeTicks",value:function(){var t=[];if(this._range>=0){var e=+this._nice(this._range/8),r=this._getIntervalPrecision(e),n=+this._round(Math.ceil(this._minValue/e)*e,r),o=+this._round(Math.floor(this._maxValue/e)*e,r),l=0,c=n;if(0!==e)for(;c<=o;)t[l]={v:c.toFixed(r)},++l,c+=e}return t}},{key:"_nice",value:function(t){var e=Math.floor(Math.log(t)/Math.LN10),r=Math.pow(10,e),n=t/r;return t=(n<1.5?1:n<2.5?2:n<3.5?3:n<4.5?4:n<5.5?5:n<6.5?6:8)*r,e>=-20?+t.toFixed(e<0?-e:0):t}},{key:"_getIntervalPrecision",value:function(t){var e=t.toString(),r=e.indexOf("e");if(r>0){var n=+e.slice(r+1);return n<0?-n:0}var o=e.indexOf(".");return o<0?0:e.length-1-o}},{key:"_round",value:function(t,e){return null==e&&(e=10),e=Math.min(Math.max(0,e),20),t=(+t).toFixed(e)}}]),t}();e.default=h}}]);
//# sourceMappingURL=5b36dc76578010773a67.js.map
(window.webpackJsonp=window.webpackJsonp||[]).push([[358],{2440:function(e,r,n){"use strict";n(0)(r,"__esModule",{value:!0}),r.maxGridCount=function(e,r,n,l){var o=Array.prototype.slice.call(arguments);if(o.some((function(e){return!e||0==+e})))return c;var m=new t.Decimal(e);if(m.lessThanOrEqualTo(r))return c;var v=new t.Decimal(n);switch(l){case d.ARITHMETIC:return new t.Decimal(e).sub(r).div(e).times(v.add(1)).div(v.times(2));case d.GEOMETRIC:var f=t.Decimal.ln(new t.Decimal(r).div(e)),w=t.Decimal.ln(v.sub(1).neg().div(v.add(1)));return f.div(w);default:return c}},r.debugGetPriceSequence=function(e,r,n,t){var c=Array.prototype.slice.call(arguments);if(c.some((function(e){return!e||0==+e})))return{debugSequence:[],sequence:[]};var d=m(e,r,n,t);return{debugSequence:d.map((function(e){return e.toString()})),sequence:d}},r.gridProfitRate=function(e,r,n,c,o){var v=Array.prototype.slice.call(arguments);if(v.some((function(e){return!e||0==+e})))return[];var f=new t.Decimal(o).times(2);switch(c){case d.ARITHMETIC:for(var w=m(e,r,n,d.ARITHMETIC),D=[],i=0;i<w.length-1;i++)D.push(w[i+1].sub(w[i]).div(w[i]));return D.length<=1?[]:[D.pop().sub(f),D[0].sub(f)];case d.GEOMETRIC:var h=new t.Decimal(1),q=l(e,r,n),T=h.sub(h.div(q));return[T.sub(f)];default:return[]}},r.debugGetCostPart=function(e,p,r,n,d){var l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:.06,o=Array.prototype.slice.call(arguments);if(o.some((function(e){return!e||0==+e})))return{part:{},result:c};var m=new t.Decimal(p),w=v(n,d,e[0]),D=f(e,m,r,w,1,l),h=c,T={};for(var E in D)T["debug_"+E]=D[E].toString(),h=h.add(D[E]);return{part:T,result:h.toString()}},r.minInvestValue=function(e,r,n,d,p,l,o,w){var D=arguments.length>8&&void 0!==arguments[8]?arguments[8]:.06,h=Array.prototype.slice.call(arguments);if(h.some((function(e){return!e||0==+e})))return c;var T=m(e,r,n,d),E=new t.Decimal(p),I=v(o,w,T[0]),y=f(T,E,l,I,1,D),_=y.part1_margin,A=y.part2_preserved_fee,M=y.part3_initPositionBuffer,C=t.Decimal.max(new t.Decimal(o).times(T[T.length-1]),new t.Decimal(w));return _.add(A).add(M).add(C)},r.minFutureInvestValue=function(e,r,n,d,p,l,o,w,D){var h=arguments.length>9&&void 0!==arguments[9]?arguments[9]:.1,T=arguments.length>11&&void 0!==arguments[11]?arguments[11]:.06,E=Array.prototype.slice.call(arguments);if(E.some((function(e){return!e||0==+e})))return c;var I=m(e,r,n,d),y=new t.Decimal(p),_=v(o,w,I[0]),A=f(I,y,l,_,D,T),M=A.part1_margin,C=A.part2_preserved_fee,P=A.part3_initPositionBuffer;return M.add(C).add(P).times(new t.Decimal(1).add(h))},r.maxInvestCount=function(e,r,n,d,p,l){var o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:.06,v=Array.prototype.slice.call(arguments);if(v.some((function(e){return!e||0==+e})))return c;var f=m(e,r,n,d),w=f.reduce((function(e,r){return r.greaterThan(p)?e+1:e}),0),D=t.Decimal.min(.5,new t.Decimal(w-1).div(n));return D.lte(0)?c:new t.Decimal(l).div(D.sub(1).neg()).times(D).div(new t.Decimal(p).times(new t.Decimal(1).add(o)))},r.totalProfit=function(p,e,r,n,d){if([p,e,r].some((function(e){return!e||0==+e})))return c;var l=new t.Decimal(p);return l.sub(e).times(new t.Decimal(r).sub(n)).add(l.sub(d).times(n))},r.totalProfitV2=function(p,e,r,n,c){return new t.Decimal(e).add(new t.Decimal(r).times(p)).sub(new t.Decimal(n).times(c))},r.getMaxLeverage=function(e,r,n,d,p,l,o,v,f,w,D){var h=arguments.length>11&&void 0!==arguments[11]?arguments[11]:.06,T=arguments.length>12&&void 0!==arguments[12]?arguments[12]:.02,E=Array.prototype.slice.call(arguments);if(E.some((function(e){return!e||0==+e})))return new t.Decimal(-1);var I=m(e,r,n,d),y=I[0],_=new t.Decimal(p),A=!1,M=c,C=c,P=c,R=y.times(new t.Decimal(n).sub(1)).times(T),G=_.lessThan(I[I.length-1]),O=_.greaterThanOrEqualTo(y);return I.forEach((function(e,r){var n=e.times(l),d=c,o=c;e.greaterThan(_)?A?G&&(d=_.times(new t.Decimal(1).add(h)).times(new t.Decimal(1).add(D)).times(l),P=P.add(new t.Decimal(new t.Decimal(1).add(h)).times(_).times(new t.Decimal(1).add(D))),O&&(C=C.add(y.sub(_)))):A=!0:(o=e.times(l).times(new t.Decimal(1).add(D)),P=P.add(e.times(new t.Decimal(1).add(w))),O&&(C=C.add(y.sub(e)))),M=M.add(n).add(d).add(o)})),new t.Decimal(.8).times(P).div(R.sub(M.times(.8)).sub(C.times(.8)))},r.GridMode=r.Zero=void 0;var t=n(96),c=new t.Decimal(0);r.Zero=c;var d={GEOMETRIC:"geometric",ARITHMETIC:"arithmetic"};function l(e,r,n){return new t.Decimal(e).div(r).pow(1/n)}function o(e,r,n,c){switch(c){case d.ARITHMETIC:var o=function(e,r,n){return new t.Decimal(e).sub(r).div(n)}(e,r,n);return function(e){return e.add(o)};case d.GEOMETRIC:var q=l(e,r,n);return function(e){return e.times(q)};default:return function(e){return new t.Decimal(e)}}}function m(e,r,n,c){for(var d=o(e,r,n,c),l=[new t.Decimal(r)],i=1;i<n;i++)l[i]=d(l[i-1]);return l.push(new t.Decimal(e)),l}function v(e,r,n){var c=new t.Decimal(e),d=c.decimalPlaces();return t.Decimal.max(c,new t.Decimal(r).div(n).toDP(d,t.Decimal.ROUND_UP))}function f(e,r,n,d,l){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:.06,m=c,v=c,f=!1,w=c;e.forEach((function(t,c){var l=t.times(d),o=l.times(n);t.greaterThan(r)?f?w=w.add(r.times(d)):f=!0:c<e.length-1&&(m=m.add(l)),v=0===c||c===e.length-1?v.add(o):v.add(o.times(2))})),m=m.add(w).div(l),v=v.add(w.times(n).times(new t.Decimal(1).add(o)));var D=w.times(o).div(l);return{part1_margin:m,part2_preserved_fee:v,part3_initPositionBuffer:D}}r.GridMode=d}}]);
//# sourceMappingURL=d35c265263dbbd870c9b.js.map
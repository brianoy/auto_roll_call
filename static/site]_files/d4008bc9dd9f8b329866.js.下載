(window.webpackJsonp=window.webpackJsonp||[]).push([[351,484],{2614:function(t,e,n){"use strict";n.r(e);var o=n(2615),c=n.n(o);for(var r in o)["default"].indexOf(r)<0&&function(t){n.d(e,t,(function(){return o[t]}))}(r);e.default=c.a},2615:function(t,e,n){"use strict";n(0)(e,"__esModule",{value:!0}),e.default=void 0;var o=n(957),c={data:function(){return{loading:!1,visible:!1,checked:!0}},computed:{needBuy:function(){return+this.tokenNum<0},tokenNumAbs:function(){return Math.abs(this.tokenNum)}},props:{strategyId:String,baseSymbol:String,pricedSymbol:String,tokenNum:String,businessLine:{type:Number,default:1}},methods:{handleConfirm:function(){var t=this,param={strategyId:this.strategyId,businessLine:this.businessLine};0==+this.tokenNum||(param.endOperate=this.checked?2:1),(0,o.cancelStrategy)(param).then((function(e){"200"===e.code?(t.$emit("event",{type:"confirm"}),t.visible=!1,BT.util.success(t.$t("common.operation_success"))):BT.util.error(e.msg||t.$t("common.operation_fail"))}))}}};e.default=c},2616:function(t,e,n){"use strict";n.r(e);var o=n(2617),c=n.n(o);for(var r in o)["default"].indexOf(r)<0&&function(t){n.d(e,t,(function(){return o[t]}))}(r);e.default=c.a},2617:function(t,e,n){"use strict";var o=n(6),c=n(7),r=n(5),l=n(8),d=n(9),_=n(0),f=n(1);_(e,"__esModule",{value:!0}),e.default=void 0;var v=f(n(152)),m=f(n(4)),h=(n(43),n(12)),y=n(963),k=n(3920),C=n(595);function S(object,t){var e=o(object);if(c){var n=c(object);t&&(n=n.filter((function(t){return r(object,t).enumerable}))),e.push.apply(e,n)}return e}function L(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?S(Object(source),!0).forEach((function(e){(0,m.default)(t,e,source[e])})):l?d(t,l(source)):S(Object(source)).forEach((function(e){_(t,e,r(source,e))}))}return t}var x=n(2499),$=n(2268),w={props:{baseSymbol:String,pricedSymbol:String,profitRate:String,yearProfitRate:String,times:String,channelCode:String,vipCode:String,symbolId:String,businessLine:{type:Number,default:function(){return C.BusinessLineEnum.SPOT_BL}}},computed:L(L({},(0,h.mapGetters)(["getLang"])),(0,h.mapState)(["user"])),data:function(){return{visible:!1,qrLink:"",copyLink:"",shareSize:84,downloadId:"my-code",shareIconList:[],localShareIcon:[{icon:"icon-twitter",color:"#35a9e4",url:"common.twitter_link"},{icon:"icon-facebook",color:"#3c60a5",url:"common.facebook_link"},{icon:"icon-telegram2",color:"#2388e5",url:"common.telegram_link"}]}},mounted:function(){var t=this;this.$nextTick((function(){t.getLinkUrl(),t.getShareList()}))},methods:{getAllShareLink:function(){var base=this.businessLine===C.BusinessLineEnum.SPOT_BL?"spot-strategy":"future-strategy";this.copyLink=location.origin+this.$i18n.path("".concat(base,"/").concat(this.symbolId)),this.getLinkUrl()},handleClose:function(){this.visible=!1},copyLinkHandle:function(){var t=this;this.$copyText(this.copyLink).then((function(e){BT.util.success(t.$i18n.t("common.copy_success"))}),(function(t){}))},saveImage:function(){if(BT.util.info(this.$t("invite.download_desktop")+"..."),-1!=IEVersion){var t=(n=document.getElementById(this.downloadId)).offsetWidth,e=n.offsetHeight,canvas=document.createElement("canvas");canvas.width=1*t,canvas.height=1*e,canvas.getContext("2d").scale(1,1);x(document.getElementById(this.downloadId),{onrendered:function(canvas){var t=canvas.getContext("2d");t.mozImageSmoothingEnabled=!1,t.webkitImageSmoothingEnabled=!1,t.msImageSmoothingEnabled=!1,t.imageSmoothingEnabled=!1;for(var e=canvas.toDataURL("image/png").replace("image/png","image/octet-stream").split(","),n=e[0].match(/:(.*?);/)[1],o=atob(e[1]),c=o.length,r=new Uint8Array(c);c--;)r[c]=o.charCodeAt(c);window.navigator.msSaveBlob(new Blob([r],{type:n}),"download.png")},useCORS:!0})}else{var n=document.getElementById(this.downloadId);t=(0,v.default)(n.offsetWidth),e=(0,v.default)(n.offsetHeight),window.devicePixelRatio;$.toPng(n,{quantity:1,width:t,height:e}).then((function(t){var link=document.createElement("a");link.download="download-poster.png",link.href=t,document.getElementsByTagName("body")[0].appendChild(link),link.click()}))}},goLink:function(link){BT.util.openTab(link)},getShareList:function(){var t=this;(0,y.getFooterInfo)().then((function(e){var code=e.code,data=e.data;if("00000"==code){var n=data.community,o=void 0===n?[]:n;t.shareIconList=o}})).catch((function(t){console.log("getFooterInfo:",t)}))},usualHandle:function(t){t?this.goLink(this.$t(t)):(this.visible=!1,this.$router.push(this.$i18n.path("referral")))},getLinkUrl:function(){var t=this;(0,k.getShareLinkUrl)({symbolId:this.symbolId}).then((function(e){"00000"===e.code&&e.data&&(t.qrLink=e.data[0]&&e.data[0].shareUrl||"")}))}},watch:{visible:function(t){t&&this.getAllShareLink()}}};e.default=w},2815:function(t,e,n){},2816:function(t,e,n){},2817:function(t,e,n){},3133:function(t,e,n){"use strict";n.r(e);var o=n(4061),c=n(2616);for(var r in c)["default"].indexOf(r)<0&&function(t){n.d(e,t,(function(){return c[t]}))}(r);n(3921),n(3922);var l=n(2),component=Object(l.a)(c.default,o.a,o.b,!1,null,"37785914",null);e.default=component.exports},3918:function(t,e,n){"use strict";n.r(e);var o=n(4060),c=n(2614);for(var r in c)["default"].indexOf(r)<0&&function(t){n.d(e,t,(function(){return c[t]}))}(r);n(3919);var l=n(2),component=Object(l.a)(c.default,o.a,o.b,!1,null,null,null);e.default=component.exports},3919:function(t,e,n){"use strict";n(2815)},3921:function(t,e,n){"use strict";n(2816)},3922:function(t,e,n){"use strict";n(2817)},4060:function(t,e,n){"use strict";n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return c}));var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-dialog",{attrs:{width:"500px","close-on-click-modal":!1,"close-on-press-escape":!1,visible:t.visible,title:t.$t("strategy_grid_text.grid_termination_confirm"),"custom-class":"bg-common-dialog cancel-all-order"},on:{"update:visible":function(e){t.visible=e}}},[n("div",{staticClass:"subtitle",staticStyle:{"margin-bottom":"30px"}},[t._v("\n        "+t._s(t.$t("strategy_grid_text.to_confirm_close_strategy_tip12",[t.baseSymbol+"/"+t.pricedSymbol]))+"\n    ")]),t._v(" "),0!=t.tokenNum?n("div",[n("div",{staticClass:"cancel-dialog__check-box",class:{active:t.checked},on:{click:function(e){t.checked=!0}}},[n("div",{staticClass:"cancel-dialog__check-title"},[n("span",{staticClass:"strategy-radio",class:{active:t.checked}}),t._v(" "),1===t.businessLine?n("span",{staticClass:"check-title"},[t._v("\n                    "+t._s(t.needBuy?t.$t("strategy_grid_text.to_confirm_close_strategy_tip4"):t.$t("strategy_grid_text.to_confirm_close_strategy_tip3"))+"\n                ")]):n("span",{staticClass:"check-title"},[t._v("\n                    "+t._s(t.$t("strategy_grid_text.yes_to_help_close"))+"\n                ")])]),t._v(" "),1===t.businessLine?n("p",{staticClass:"subtitle"},[t._v("\n                "+t._s(t.needBuy?t.$t("strategy_grid_text.to_confirm_close_strategy_tip8",[Number(t.tokenNumAbs),t.baseSymbol]):t.$t("strategy_grid_text.to_confirm_close_strategy_tip7",[Number(t.tokenNumAbs),t.baseSymbol]))+"\n            ")]):n("p",{staticClass:"subtitle"},[t._v("\n                "+t._s(t.$t("strategy_grid_text.terminate_close_tip",[t.tokenNumAbs+t.baseSymbol]))+"\n            ")])]),t._v(" "),n("div",{staticClass:"cancel-dialog__check-box",class:{active:!t.checked},on:{click:function(e){t.checked=!1}}},[n("div",{staticClass:"cancel-dialog__check-title"},[n("span",{staticClass:"strategy-radio",class:{active:!t.checked}}),t._v(" "),1===t.businessLine?n("span",{staticClass:"check-title"},[t._v("\n                    "+t._s(t.needBuy?t.$t("strategy_grid_text.to_confirm_close_strategy_tip6"):t.$t("strategy_grid_text.to_confirm_close_strategy_tip5"))+"\n                ")]):n("span",{staticClass:"check-title"},[t._v("\n                    "+t._s(t.$t("strategy_grid_text.not_need_help_close"))+"\n                ")])])])]):t._e(),t._v(" "),n("p",{staticClass:"tip"},[t._v("\n        "+t._s(t.$t("strategy_grid_text.to_confirm_close_strategy_tip11"))+"\n    ")]),t._v(" "),n("div",{attrs:{slot:"footer"},slot:"footer"},[n("el-button",{staticClass:"dialog-btn cancelBtn",on:{click:function(e){t.visible=!1}}},[t._v("\n            "+t._s(t.$t("common.btn_cancel"))+"\n        ")]),t._v(" "),n("el-button",{staticClass:"dialog-btn",attrs:{loading:t.loading,type:"primary"},on:{click:t.handleConfirm}},[t._v("\n            "+t._s(t.$t("common.btn_confirm"))+"\n        ")])],1)])},c=[]},4061:function(t,e,n){"use strict";n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return c}));var o=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("el-dialog",{attrs:{width:"550px",center:"",visible:t.visible,"custom-class":"share-dialog"},on:{"update:visible":function(e){t.visible=e},close:t.handleClose}},[o("div",{staticClass:"share-dialog__warp"},[o("div",{staticClass:"share-box",attrs:{id:"my-code"}},[o("div",{staticClass:"share-top"},[o("p",{staticClass:"symbol"},[t._v(t._s(t.baseSymbol)+t._s(t.pricedSymbol))]),t._v(" "),o("p",{staticClass:"sub-title"},[t._v(t._s(t.$t("strategy_grid_text.rate")))]),t._v(" "),o("p",{staticClass:"number",class:{rise:t.profitRate>0,fall:t.profitRate<0}},[t._v("\n                    "+t._s(t.profitRate>0?"+"+t.profitRate:t.profitRate)+"%\n                ")])]),t._v(" "),o("div",{staticClass:"share-info"},[o("div",[o("p",[t._v(t._s(t.$t("strategy_grid_text.annualized_rate")))]),t._v(" "),o("p",{staticClass:"year-rate",class:{rise:t.yearProfitRate>0,fall:t.yearProfitRate<0}},[t._v("\n                        "+t._s(t.yearProfitRate>0?"+"+t.yearProfitRate:t.yearProfitRate)+"%\n                    ")])]),t._v(" "),o("div",[o("p",[t._v(t._s(t.$t("strategy_grid_text.running_time")))]),t._v(" "),o("p",[t._v(t._s(t.times))])])]),t._v(" "),o("div",{staticClass:"share-bottom"},[o("div",{staticClass:"logo"},[o("img",{attrs:{src:n(2724),alt:""}}),t._v(" "),o("span",{staticClass:"zhixian"}),t._v(" "),o("span",{staticClass:"logo-title"},[t._v("\n                        "+t._s(t.$t("strategy_grid_text.grid_strategy_title"))+"\n                    ")])]),t._v(" "),o("div",{staticClass:"code"},[o("qriously",{staticClass:"img-qrcode",attrs:{size:t.shareSize,value:t.qrLink}})],1)])]),t._v(" "),t.shareIconList.length?o("div",{staticClass:"invite-friend-links"},[t._l(t.shareIconList,(function(t,e){return o("a",{key:e,attrs:{target:"_blank",href:t.link}},[o("img",{attrs:{src:t.icon,alt:""}})])})),t._v(" "),o("a",{attrs:{href:"javascript:;"},on:{click:t.copyLinkHandle}},[o("i",{staticClass:"iconfont icon-fuzhilianjie"})]),t._v(" "),o("a",{attrs:{href:"javascript:;"},on:{click:t.saveImage}},[o("i",{staticClass:"iconfont icon-xiazai"})])],2):o("div",{staticClass:"invite-friend-links"},[t._l(t.localShareIcon,(function(e){var n=e.icon,c=e.color,r=e.url;return o("i",{key:n,class:"iconfont "+n+" ",style:{color:c},on:{click:function(e){return t.usualHandle(r)}}})})),t._v(" "),o("a",{attrs:{href:"javascript:;"},on:{click:t.copyLinkHandle}},[o("i",{staticClass:"iconfont icon-fuzhilianjie"})]),t._v(" "),o("a",{attrs:{href:"javascript:;"},on:{click:t.saveImage}},[o("i",{staticClass:"iconfont icon-xiazai"})])],2)])])},c=[]}}]);
//# sourceMappingURL=d4008bc9dd9f8b329866.js.map
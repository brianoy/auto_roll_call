(window.webpackJsonp=window.webpackJsonp||[]).push([[503],{10032:function(e,t,r){"use strict";r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return o}));var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("client-only",[r("el-dialog",{attrs:{"close-on-click-modal":!1,"close-on-press-escape":!1,"custom-class":"spot-dialog-base spot-dialog__plan-modify",width:"500px",visible:"visible"},on:{close:e.handleClose}},[r("div",{staticClass:"spot-dialog-wrapper"},[r("div",{staticClass:"spot-dialog-title"},[e._v("\n        "+e._s(e.$t("trade.plan.modify_dialog_title"))+"\n      ")]),e._v(" "),r("div",{staticClass:"spot-dialog-body"},[r("div",{staticClass:"spot-plan-modify__base-info"},[r("div",{staticClass:"spot-plan-modify__info"},[r("span",[e._v(e._s(e.$t(21==+e.plan.delegateType?"common.buy":"common.sell"))+":")]),e._v(" "),r("span",[e._v(e._s(e.spotConfig.displayName))])]),e._v(" "),r("div",{staticClass:"spot-plan-modify__info"},[r("span",[e._v(e._s(e.$t("contract.list.position_plan_price"))+":")]),e._v(" "),r("span",[e._v(e._s(e.spotTicker.price||"--")+e._s(e.spotConfig.pricedSymbol))])])]),e._v(" "),r("div",{staticClass:"spot-plan-modify__input-row"},[r("p",[e._v(e._s(e.$t("contract.trade.operation_trigger_price")))]),e._v(" "),r("s-input",{attrs:{value:e.triggerPrice,placeholder:e.$t("contract.trade.operation_placeholder_target_price")},on:{input:e.handleTriggerPriceInput}})],1),e._v(" "),r("div",{staticClass:"spot-plan-modify__input-row"},[r("p",[e._v(e._s(e.$t(21==+e.plan.delegateType?"trade.operation.inner.buyPrice":"trade.operation.inner.sellPrice")))]),e._v(" "),r("s-input",{attrs:{value:e.executePrice,"button-text":"normal"===e.orderType?e.$t("trade.operation.limitOrder"):e.$t("trade.operation.marketOrder"),placeholder:e.$t("contract.trade.operation_placeholder_price"),disabled:"market"===e.orderType,"disabled-text":21==+e.plan.delegateType?e.$t("trade.operation.inner.marketOrderTipBuy"):e.$t("trade.operation.inner.marketOrderTipSell")},on:{input:e.handleExecutePriceInput,"button-click":e.changeOrderType}})],1),e._v(" "),r("div",{staticClass:"spot-plan-modify__input-row"},[r("p",[e._v(e._s(e.amountLabel))]),e._v(" "),r("s-input",{attrs:{value:e.amount},on:{input:e.handleAmountInput}}),e._v(" "),r("div",{staticClass:"spot-plan-modify__input-tip"},[e._v("\n            "+e._s(e.amountDisplay)+"\n          ")])],1)]),e._v(" "),r("div",{staticClass:"spot-dialog-footer"},[r("el-button",{on:{click:e.handleClose}},[e._v(e._s(e.$t("common.btn_cancel")))]),e._v(" "),r("el-button",{attrs:{type:"primary"},on:{click:e.handleConfirm}},[e._v(e._s(e.$t("common.btn_confirm")))])],1)])])],1)},o=[]},10052:function(e,t,r){"use strict";r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return o}));var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"spot-dialog__input",class:[e.disabled?"disabled":"",e.focus?"active":"",e.buttonText?"narrow":""]},[r("input",{staticClass:"spot-dialog__input-inner",attrs:{placeholder:e.disabled?e.disabledText:e.placeholder,disabled:e.disabled},domProps:{value:e.currentValue},on:{input:e.handleInput,focus:e.handleFocus,blur:e.handleBlur}}),e._v(" "),r("span",{staticClass:"spot-dialog__input-unit"},[e._v("\n    "+e._s(e.unit)+"\n  ")]),e._v(" "),e.buttonText?r("span",{staticClass:"spot-dialog__input-button",on:{click:function(t){return e.$emit("button-click")}}},[e._v("\n    "+e._s(e.buttonText)+"\n  ")]):e._e()])},o=[]},2641:function(e,t,r){"use strict";r.r(t);var n=r(2642),o=r.n(n);for(var c in n)["default"].indexOf(c)<0&&function(e){r.d(t,e,(function(){return n[e]}))}(c);t.default=o.a},2642:function(e,t,r){"use strict";r(0)(t,"__esModule",{value:!0}),t.default=void 0;t.default={name:"OrderConfirmation",data:function(){return{visible:!1}},methods:{handleClose:function(){this.visible=!1},handleConfirm:function(){this.$emit("event",{type:"confirm"})}}}},2825:function(e,t,r){},3973:function(e,t,r){"use strict";r.r(t);var n=r(4070),o=r(2641);for(var c in o)["default"].indexOf(c)<0&&function(e){r.d(t,e,(function(){return o[e]}))}(c);r(3974);var l=r(2),component=Object(l.a)(o.default,n.a,n.b,!1,null,null,null);t.default=component.exports},3974:function(e,t,r){"use strict";r(2825)},4070:function(e,t,r){"use strict";r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return o}));var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("client-only",[r("el-dialog",{attrs:{"close-on-click-modal":!1,"close-on-press-escape":!1,"custom-class":"spot-dialog-base spot-dialog__order-confirmation",width:"500px",visible:"visible"},on:{close:e.handleClose}},[r("div",{staticClass:"spot-dialog-wrapper"},[r("div",{staticClass:"spot-dialog__tip"},[e._v("\n                "+e._s(e.$t("strategy_grid_text.strategy_termination_cancel_tip"))+"\n            ")]),e._v(" "),r("div",{staticClass:"spot-dialog-footer"},[r("el-button",{on:{click:e.handleClose}},[e._v(e._s(e.$t("common.btn_cancel")))]),e._v(" "),r("el-button",{attrs:{type:"primary"},on:{click:e.handleConfirm}},[e._v(e._s(e.$t("common.btn_confirm")))])],1)])])],1)},o=[]},5703:function(e,t,r){"use strict";r.r(t);var n=r(5704),o=r.n(n);for(var c in n)["default"].indexOf(c)<0&&function(e){r.d(t,e,(function(){return n[e]}))}(c);t.default=o.a},5704:function(e,t,r){"use strict";var n=r(6),o=r(7),c=r(5),l=r(8),d=r(9),f=r(0),h=r(1);f(t,"__esModule",{value:!0}),t.default=void 0;var m=h(r(4)),_=r(12);function v(object,e){var t=n(object);if(o){var r=o(object);e&&(r=r.filter((function(e){return c(object,e).enumerable}))),t.push.apply(t,r)}return t}var y={name:"BitInfoPopover",props:{bitInfo:{type:Object,default:function(){return{blockBrowser:"",circulatingSupply:"",cmcRank:"-",coinId:"",coinName:"",desc:"",marketValue:"",maxSupply:"",publishTime:"",source:"",totalSupply:"",sign:""}}}},data:function(){var e=this;return{bigInfoTitleColumn:[{title:this.$t("coin_currency_info_CMC_ranking"),key:"cmcRank",format:function(e){return"NO.".concat(e)}},{title:this.$t("coin_currency_info_market_value"),key:"marketValue",format:function(t,r){return e.number2Thousands(t)+r.sign}},{title:this.$t("coin_currency_info_circulate_supply"),key:"circulatingSupply",format:function(t){return e.number2Thousands(t)}},{title:this.$t("coin_currency_info_total_supply"),key:"totalSupply",format:function(t){return e.number2Thousands(t)}},{title:this.$t("coin_currency_info_max_supply"),key:"maxSupply",format:function(t){return e.number2Thousands(t)}},{title:this.$t("coin_currency_info_public_date"),key:"publishTime",format:function(e){return e?new Date(+e).toLocaleDateString():""}}]}},computed:function(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?v(Object(source),!0).forEach((function(t){(0,m.default)(e,t,source[t])})):l?d(e,l(source)):v(Object(source)).forEach((function(t){f(e,t,c(source,t))}))}return e}({},(0,_.mapGetters)(["number2Thousands"]))};t.default=y},5729:function(e,t,r){"use strict";r.r(t);var n=r(5730),o=r.n(n);for(var c in n)["default"].indexOf(c)<0&&function(e){r.d(t,e,(function(){return n[e]}))}(c);t.default=o.a},5730:function(e,t,r){"use strict";var n=r(6),o=r(7),c=r(5),l=r(8),d=r(9),f=r(0),h=r(1);f(t,"__esModule",{value:!0}),t.default=void 0;var m=h(r(6)),_=h(r(4)),v=r(12),y=r(599),P=h(r(8516)),T=r(96),C=r(598);function x(object,e){var t=n(object);if(o){var r=o(object);e&&(r=r.filter((function(e){return c(object,e).enumerable}))),t.push.apply(t,r)}return t}function O(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?x(Object(source),!0).forEach((function(t){(0,_.default)(e,t,source[t])})):l?d(e,l(source)):x(Object(source)).forEach((function(t){f(e,t,c(source,t))}))}return e}var k={name:"PlanModify",components:{"s-input":P.default},props:{plan:{type:Object,default:function(){return{id:"",delegateType:21,triggerPrice:"",excutePrice:"",delegateCount:"",delegateAmount:"",orderType:0}}}},data:function(){return{isOrdering:!1,delegateType:21,visible:!1,orderType:"normal",triggerPrice:"",executePrice:"",delegateCount:"",delegateAmount:"",amount:""}},computed:O(O({},(0,v.mapGetters)("spot",{spotTicker:y.SPOT_GETTERS_TYPE.SPOT_TICKER,spotConfig:y.SPOT_GETTERS_TYPE.SPOT_CONFIG})),{},{isCount:function(){return 21==+this.delegateType&&"normal"===this.orderType},amountDisplay:function(){var e=this.isCount?this.spotConfig.pricedSymbol:this.spotConfig.baseSymbol,t=this.isCount?this.executePrice:this.triggerPrice;t=new T.Decimal(t||0);var r=new T.Decimal(this.amount||0),n=new T.Decimal(r),o=this.spotConfig.placeConfig.volumePlace;return this.isCount?(n=n.times(t),o=this.spotConfig.placeConfig.quotePrecision):t.isZero()||(n=n.div(t)),"≈"+n.toFixed(o)+e},amountLabel:function(){return this.isCount?this.$t("trade.depth.table.amount"):this.$t("trade.operation.inner.total")}}),methods:{copyData:function(){var e=this.plan,t=e.delegateType,r=e.delegateCount,n=e.delegateAmount,o=e.triggerPrice,c=e.executePrice,l=e.orderType;this.orderType=0===l?"normal":"market",this.triggerPrice=o,0===l?(this.executePrice=c||"",this.amount=r):this.amount=21==+t?n:r},clearData:function(){this.orderType="normal",this.triggerPrice="",this.executePrice="",this.amount=""},handleClose:function(){this.visible=!1},changeOrderType:function(){"normal"===this.orderType?(this.executePrice="",this.orderType="market"):this.orderType="normal"},checkPriceStep:function(e){var t=Number(this.spotConfig.placeConfig.priceEndStep)*Number("1e-"+String(this.spotConfig.placeConfig.delegatePricePlace));return new T.Decimal(e).mod(new T.Decimal(t)).isZero()},calPriceStep:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=this.spotConfig.placeConfig,n=new T.Decimal(e),o=n.toDP(Number(r.delegatePricePlace)-1,T.Decimal.ROUND_FLOOR),c=n.toDP(r.delegatePricePlace,T.Decimal.ROUND_DOWN),l=c.sub(o).div(r.priceEndStep).toDP(r.delegatePricePlace,t?T.Decimal.ROUND_UP:T.Decimal.ROUND_DOWN).times(r.priceEndStep).toDP(r.delegatePricePlace);return o.add(l).toFixed(r.delegatePricePlace)},handleTriggerPriceInput:function(e){if(""!==e){var t=new RegExp("^(0|[1-9]\\d*)(\\.\\d{0,".concat(this.spotConfig.placeConfig.delegatePricePlace,"})?$"));console.log(">>>newPrice",e,t.test(e)),!t.test(e)||e.length>30||(this.checkPriceStep(e)?this.triggerPrice=e:this.triggerPrice=this.calPriceStep(e))}else this.triggerPrice=e},handleExecutePriceInput:function(e){""!==e?!new RegExp("^(0|[1-9]\\d*)(\\.\\d{0,".concat(this.spotConfig.placeConfig.delegatePricePlace,"})?$")).test(e)||e.length>30||(this.checkPriceStep(e)?this.executePrice=e:this.executePrice=this.calPriceStep(e)):this.executePrice=e},handleAmountInput:function(e){if(""===e)return this.percentage=0,void(this.amount="");var t=this.spotConfig.placeConfig.volumePlace;21==+this.delegateType&&"market"===this.orderType&&(t=this.spotConfig.placeConfig.quotePrecision),new RegExp("^(0|[1-9]\\d*)(\\.\\d{0,".concat(t,"})?$")).test(e)&&(this.amount=e)},handleConfirm:function(){var e=this;if(this.triggerPrice)if("normal"!==this.orderType||this.executePrice)if(this.amount){var t=this.plan,r=t.id,n=t.delegateType,o=t.triggerPrice,c={},l="normal"===this.orderType?0:1;if(o!==this.triggerPrice&&(c.triggerPrice=this.triggerPrice),c.orderType=l,1===l?21==+n?c.delegateAmount=this.amount:c.delegateCount=this.amount:(c.executePrice=this.executePrice,c.delegateCount=this.amount),console.log(">>>",c),(0,m.default)(c).length>0){if(c.planId=r,c.orderSource=1,c.hasOwnProperty("triggerPrice")||(c.triggerPrice=o),this.isOrdering)return;this.isOrdering=!0,(0,C.triggerSpotPlanUpdatePlan)(c).then((function(data){"00000"===data.code?(BT.util.success(e.$t("common.operation_success")),e.handleClose()):BT.util.error(e.$t("common.operation_fail")+data.msg)})).catch((function(t){console.error(">>>modify plan error:",t.message),BT.util.error(e.$t("common.operation_fail"))})).finally((function(){e.isOrdering=!1}))}else this.$emit("event",{type:"confirm"}),this.handleClose()}else BT.util.error(this.$t("contract.trade.operation_placeholder_amount"));else BT.util.error(this.$t("contract.trade.operation_placeholder_price"));else BT.util.error(this.$t("contract.trade.operation_placeholder_target_price"))}},watch:{visible:function(e){e?this.copyData():this.clearData()}}};t.default=k},5731:function(e,t,r){"use strict";r.r(t);var n=r(5732),o=r.n(n);for(var c in n)["default"].indexOf(c)<0&&function(e){r.d(t,e,(function(){return n[e]}))}(c);t.default=o.a},5732:function(e,t,r){"use strict";r(0)(t,"__esModule",{value:!0}),t.default=void 0;var n={name:"Input",props:{unit:String,value:String,placeholder:String,buttonText:String,disabled:Boolean,disabledText:String},data:function(){return{currentValue:void 0===this.value||null===this.value?"":this.value,focus:!1}},computed:{},methods:{handleInput:function(e){var t=e.target.value;this.setCurrentValue(t),this.$emit("input",t)},setCurrentValue:function(e){this.currentValue=e},handleFocus:function(){this.$emit("hide"),this.$emit("focus"),this.focus=!0},handleBlur:function(){this.$emit("blur"),this.focus=!1}},watch:{value:{immediate:!0,deep:!0,handler:function(e){this.setCurrentValue(e)}},currentValue:function(e){e!==this.value&&this.setCurrentValue(this.value)}}};t.default=n},5745:function(e,t,r){"use strict";r.r(t);var n=r(5746),o=r.n(n);for(var c in n)["default"].indexOf(c)<0&&function(e){r.d(t,e,(function(){return n[e]}))}(c);t.default=o.a},5746:function(e,t,r){"use strict";var n=r(18),o=r(6),c=r(7),l=r(5),d=r(8),f=r(9),h=r(0),m=r(21),_=r(1);h(t,"__esModule",{value:!0}),t.default=void 0;var v=_(r(177)),y=_(r(4)),P=r(12),T=r(599),C=r(96),x=_(r(2220)),O=r(598),k=_(r(7310)),$=_(r(7312)),E=_(r(7314)),D=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var r=N(t);if(r&&r.has(e))return r.get(e);var o={},c=h&&l;for(var d in e)if("default"!==d&&Object.prototype.hasOwnProperty.call(e,d)){var desc=c?l(e,d):null;desc&&(desc.get||desc.set)?h(o,d,desc):o[d]=e[d]}o.default=e,r&&r.set(e,o);return o}(r(604)),S=_(r(7316)),w=r(48);function N(e){if("function"!=typeof m)return null;var t=new m,r=new m;return(N=function(e){return e?r:t})(e)}function I(object,e){var t=o(object);if(c){var r=c(object);e&&(r=r.filter((function(e){return l(object,e).enumerable}))),t.push.apply(t,r)}return t}function F(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?I(Object(source),!0).forEach((function(t){(0,y.default)(e,t,source[t])})):d?f(e,d(source)):I(Object(source)).forEach((function(t){h(e,t,l(source,t))}))}return e}var R={name:"index",components:{"gl-input":x.default,SpotTIF:k.default,PriceTypeSelect:$.default},data:function(){return{role:"buyer",priceType:"limit",orderType:"normal",triggerPrice:"",triggerPriceErrorText:"",executePrice:"",executePriceErrorText:"",price:"",amount:"",percentage:0,triggerPriceHelpText:!1,executePriceHelpText:!1,priceHelpText:!1,priceErrorText:"",amountErrorText:"",isOrdering:!1,timeInForce:0}},computed:F(F(F(F({},(0,P.mapGetters)(["isLogin","currencySymbol","toCNYByUSDT"])),(0,P.mapGetters)("spot",{spotConfig:T.SPOT_GETTERS_TYPE.SPOT_CONFIG,spotTicker:T.SPOT_GETTERS_TYPE.SPOT_TICKER,leftCoinCount:T.SPOT_GETTERS_TYPE.LEFT_COIN_COUNT,rightCoinCount:T.SPOT_GETTERS_TYPE.RIGHT_COIN_COUNT})),(0,P.mapState)({theme:function(e){return e.theme},buyDepthPrice:function(e){return e.spot.buyDepthPrice},sellDepthPrice:function(e){return e.spot.sellDepthPrice},depthPrice:function(e){return e.spot.depthPrice},symbolId:function(e){return e.spot.symbolId},bestAskPrice:function(e){return e.spot.bestAskPrice},bestBidPrice:function(e){return e.spot.bestBidPrice},userPreference:function(e){return e.userPreference}})),{},{coinCount:function(){return"buyer"===this.role?this.rightCoinCount:this.leftCoinCount},priceTooltipText:function(){return this.priceErrorText?this.priceErrorText:this.calcPrice(this.price)},triggerPriceTooltipText:function(){return this.triggerPriceErrorText?this.triggerPriceErrorText:this.calcPrice(this.triggerPrice)},executePriceTooltipText:function(){return this.executePriceErrorText?this.executePriceErrorText:this.calcPrice(this.executePrice)},tradeValue:function(){var e=this.price;return"plan"===this.orderType&&(e="limit"===this.priceType?this.executePrice:this.spotTicker.price),(e=new C.Decimal(e||0)).times(this.amount||0).toFixed(8,C.Decimal.ROUND_DOWN)}}),methods:F(F({},(0,P.mapActions)(["updateUserPreference"])),{},{calcPrice:function(e){var t=this.toCNYByUSDT(Number(e)*Number(this.spotTicker.toUsdt));return"≈"+this.currencySymbol+t.toFixed(t>=1?2:6)},handleAllPriceInputFocus:function(e){this[["triggerPriceHelpText","executePriceHelpText","priceHelpText"][e]]=!0,this[["triggerPriceErrorText","executePriceErrorText","priceErrorText"][e]]=""},handleTypeSelect:function(e,t){(this.priceType=e,this.orderType=t,"plan"===t&&D.default.get(D.CacheKey.SPOT_PLAN_TIP))&&this.$useDialog()(E.default)[0].then((function(e){"confirm"===e.type&&(e.checked&&D.default.set(D.CacheKey.SPOT_PLAN_TIP,!1))}))},handlePriceTypeChange:function(e){this.priceType=e},handleCharge:function(){this.$router.push({path:this.$i18n.path("asset")})},login:function(){this.$router.push({path:this.$i18n.path("login"),query:{from:"spot/"+(this.$route.params.symbolId||"")}})},checkPriceStep:function(e){var t=Number(this.spotConfig.placeConfig.priceEndStep)*Number("1e-"+String(this.spotConfig.placeConfig.delegatePricePlace));return new C.Decimal(e).mod(new C.Decimal(t)).isZero()},calPriceStep:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=this.spotConfig.placeConfig,n=new C.Decimal(e),o=n.toDP(Number(r.delegatePricePlace)-1,C.Decimal.ROUND_FLOOR),c=n.toDP(r.delegatePricePlace,C.Decimal.ROUND_DOWN),l=c.sub(o).div(r.priceEndStep).toDP(r.delegatePricePlace,t?C.Decimal.ROUND_UP:C.Decimal.ROUND_DOWN).times(r.priceEndStep).toDP(r.delegatePricePlace);return o.add(l).toFixed(r.delegatePricePlace)},handleTriggerPriceInput:function(e){""!==e?!new RegExp("^(0|[1-9]\\d*)(\\.\\d{0,".concat(this.spotConfig.placeConfig.delegatePricePlace,"})?$")).test(e)||e.length>30||(this.checkPriceStep(e)?this.triggerPrice=e:this.triggerPrice=this.calPriceStep(e)):this.triggerPrice=e},handleExecutePriceInput:function(e){""!==e?!new RegExp("^(0|[1-9]\\d*)(\\.\\d{0,".concat(this.spotConfig.placeConfig.delegatePricePlace,"})?$")).test(e)||e.length>30||(this.checkPriceStep(e)?this.executePrice=e:this.executePrice=this.calPriceStep(e)):this.executePrice=e},handlePriceInputFocus:function(){this.priceHelpText=!0,this.priceErrorText=""},handlePriceInput:function(e){if(""===e)return this.handlePercentageChange(this.percentage),void(this.price=e);new RegExp("^(0|[1-9]\\d{1,14})(\\.\\d{0,".concat(this.spotConfig.placeConfig.delegatePricePlace,"})?$")).test(e)&&(this.checkPriceStep(e)||(e=this.calPriceStep(e)),this.price=e,this.handlePercentageChange(this.percentage))},handleAmountInput:function(e){if(""===e)return this.percentage=0,void(this.amount="");var t=this.spotConfig.placeConfig.volumePlace;if("buyer"===this.role&&"market"===this.priceType&&(t=this.spotConfig.placeConfig.quotePrecision),new RegExp("^(0|[1-9]\\d*)(\\.\\d{0,".concat(t,"})?$")).test(e)){var r=new C.Decimal(e),n=new C.Decimal(this.coinCount);"buyer"===this.role&&"limit"===this.priceType?this.percentage=n.isZero()?0:Number(new C.Decimal(+this.price).times(r).div(n).times(100).toFixed()):this.percentage=n.isZero()?0:Number(r.div(n).times(100).toFixed()),this.amount=e}},handlePercentageChange:function(e){this.percentage=e;var t=new C.Decimal(this.rightCoinCount),r=new C.Decimal(this.leftCoinCount),n=new C.Decimal(e).div(100),o=this.spotConfig.placeConfig.volumePlace;if("buyer"===this.role&&"market"===this.priceType&&(o=this.spotConfig.placeConfig.quotePrecision),"buyer"===this.role)if("limit"===this.priceType){var c=new C.Decimal("limit"===this.priceType?+this.price:+this.spotTicker.price);this.amount=c.isZero()?new C.Decimal(0).toFixed(o):t.div(c).times(n).toFixed(o,C.Decimal.ROUND_DOWN)}else this.amount=t.times(n).toFixed(o,C.Decimal.ROUND_DOWN);else this.amount=r.times(n).toFixed(o,C.Decimal.ROUND_DOWN)},doNormalOrder:function(){var e=this,t=new C.Decimal(Number(this.amount)),r=new C.Decimal(Number(this.price));if(r.isZero()&&"limit"===this.priceType)this.priceErrorText="buyer"===this.role?this.$t("trade.operation.tipCorrectBuyPrice"):this.$t("trade.operation.tipCorrectSellPrice");else if(t.isZero())this.amountErrorText="buyer"===this.role?this.$t("trade.operation.tipCorrectBuyAmount"):this.$t("trade.operation.tipCorrectSellAmount");else{var n=new C.Decimal(Number(this.rightCoinCount)),o=new C.Decimal(Number(this.leftCoinCount)),c=new C.Decimal(0);if(c="buyer"===this.role?"limit"===this.priceType?n.div(r):n:o,t.greaterThan(c))this.amountErrorText=this.$t("trade.operation.tipNoEnoughCoin");else{this.priceErrorText="",this.amountErrorText="";var l={symbolId:this.spotConfig.symbolId,delegateType:"buyer"===this.role?"21":"22",orderType:"market"===this.priceType?1:0};if("market"===this.priceType?"buyer"===this.role?l.delegateAmount=this.amount:l.delegateCount=this.amount:(l.delegatePrice=this.price,l.delegateCount=this.amount,l.timeInForce=this.timeInForce),1===l.orderType&&0===this.userPreference.marketEntrust||0===l.orderType&&0===this.userPreference.normalEntrust){var d=this.$useDialog()(S.default,{orderType:"normal",param:l,symbolCode:this.spotConfig.displayName}),f=(0,v.default)(d,2),h=f[0],m=f[1];h.then((function(t){"confirm"===t.type&&(e.postOrder(l),m(),t.checked&&(1===l.orderType?e.updateUserPreference({marketEntrust:1}):0===l.orderType&&e.updateUserPreference({normalEntrust:1})))}))}else this.postOrder(l)}}},postOrder:function(e){var t=this;this.isOrdering=!0,(0,O.placeOrder)(e).then((function(data){var e=data;if("00000"===e.code)BT.util.success(t.$t("trade.operation.orderSuccess")),t.percentage=0,t.amount="";else switch(e.code){case"50017":case"50018":case"50021":case"50016":t.priceErrorText=e.msg;break;case"50014":case"50015":case"50020":case"50019":t.amountErrorText=e.msg;break;default:BT.util.error(e.msg||t.$t("trade.operation.orderFail"))}})).catch((function(e){console.log("placeOrder reject",e),BT.util.error(t.$t("trade.operation.orderFail"))})).finally((function(){t.isOrdering=!1}))},doPlanOrder:function(){var e=this,t=new C.Decimal(+this.triggerPrice),r=new C.Decimal(+this.executePrice);if(t.isZero())this.triggerPriceErrorText=this.$t("contract.trade.operation_placeholder_target_price");else if("limit"===this.priceType&&r.isZero())this.executePriceErrorText="buyer"===this.role?this.$t("trade.operation.tipCorrectBuyPrice"):this.$t("trade.operation.tipCorrectSellPrice");else if(new C.Decimal(Number(this.amount)).isZero())this.amountErrorText="buyer"===this.role?this.$t("trade.operation.tipCorrectBuyAmount"):this.$t("trade.operation.tipCorrectSellAmount");else{this.executePriceErrorText="",this.triggerPriceErrorText="",this.amountErrorText="";var n={businessLine:1,timeInForceValue:0,symbolId:this.spotConfig.symbolId,delegateType:"buyer"===this.role?"21":"22",orderType:"market"===this.priceType?1:0,orderSource:1,triggerPrice:this.triggerPrice};if("limit"===this.priceType&&(n.executePrice=this.executePrice,n.delegateCount=this.amount),"market"===this.priceType&&("buyer"===this.role?n.delegateAmount=this.amount:n.delegateCount=this.amount),0===this.userPreference.spotPlanEntrust){var o=this.$useDialog()(S.default,{orderType:"plan",param:n,symbolCode:this.spotConfig.displayName}),c=(0,v.default)(o,2),l=c[0],d=c[1];l.then((function(t){"confirm"===t.type&&(e.postPlanOrder(n),d(),t.checked&&e.updateUserPreference({spotPlanEntrust:1}))}))}else this.postPlanOrder(n)}},postPlanOrder:function(e){var t=this;this.isOrdering=!0,(0,O.triggerSpotPlanPlacePlan)(e).then((function(data){"00000"===data.code?(BT.util.success(t.$t("trade.operation.orderSuccess")),t.triggerPrice="",t.executePrice="",t.amount=""):BT.util.error(data.msg||t.$t("trade.operation.orderFail"))})).catch((function(e){console.log("placePlanOrder reject",e),BT.util.error(t.$t("trade.operation.orderFail"))})).finally((function(){t.isOrdering=!1}))},doOrder:function(){"buyer"===this.role?(0,w.spotBuyClickEvent)():(0,w.spotSellClickEvent)(),this.isLogin?this.isOrdering||("normal"===this.orderType?this.doNormalOrder():"plan"===this.orderType&&this.doPlanOrder()):this.login()}}),watch:{orderType:function(e,t){e!==t&&(this.triggerPrice="",this.executePrice="",this.priceType="limit")},priceType:function(e,t){e!==t&&("buyer"===this.role&&(this.price=this.buyDepthPrice&&new C.Decimal(this.buyDepthPrice).toFixed(Number(this.spotConfig.placeConfig.delegatePricePlace),C.Decimal.ROUND_DOWN)||""),"seller"===this.role&&(this.price=this.sellDepthPrice&&new C.Decimal(this.sellDepthPrice).toFixed(Number(this.spotConfig.placeConfig.delegatePricePlace),C.Decimal.ROUND_DOWN)||""),this.amount="",this.percentage=0,this.priceErrorText="",this.amountErrorText="")},symbolId:function(){this.amount="",this.price="",this.percentage=0,this.priceErrorText="",this.amountErrorText="",this.triggerPrice="",this.executePrice=""},bestBidPrice:function(e,t){""===t&&""!==e&&"buyer"===this.role&&(this.price=e)},bestAskPrice:function(e,t){""===t&&""!==e&&"seller"===this.role&&(this.price=e)},buyDepthPrice:function(e){"buyer"===this.role&&(this.price=e)},sellDepthPrice:function(e){"seller"===this.role&&(this.price=e)},depthPrice:function(e){new C.Decimal(e).greaterThan(0)&&(this.price=e)}}};t.default=R},5747:function(e,t,r){"use strict";r.r(t);var n=r(5748),o=r.n(n);for(var c in n)["default"].indexOf(c)<0&&function(e){r.d(t,e,(function(){return n[e]}))}(c);t.default=o.a},5748:function(e,t,r){"use strict";var n=r(0),o=r(1);n(t,"__esModule",{value:!0}),t.default=void 0;var c={name:"SpotTIF",components:{"gl-radio":o(r(2372)).default},props:{value:Number,theme:String}};t.default=c},5749:function(e,t,r){"use strict";r.r(t);var n=r(5750),o=r.n(n);for(var c in n)["default"].indexOf(c)<0&&function(e){r.d(t,e,(function(){return n[e]}))}(c);t.default=o.a},5750:function(e,t,r){"use strict";r(0)(t,"__esModule",{value:!0}),t.default=void 0;var n={name:"PriceTypeSelect",props:{value:String},data:function(){return{show:!1}},methods:{hideMenu:function(){this.show=!1},handleSelect:function(e){this.$emit("input",e),this.hideMenu()}}};t.default=n},5751:function(e,t,r){"use strict";r.r(t);var n=r(5752),o=r.n(n);for(var c in n)["default"].indexOf(c)<0&&function(e){r.d(t,e,(function(){return n[e]}))}(c);t.default=o.a},5752:function(e,t,r){"use strict";var n=r(6),o=r(7),c=r(5),l=r(8),d=r(9),f=r(0),h=r(1);f(t,"__esModule",{value:!0}),t.default=void 0;var m=h(r(4)),_=h(r(2160)),v=r(12),y=r(43);function P(object,e){var t=n(object);if(o){var r=o(object);e&&(r=r.filter((function(e){return c(object,e).enumerable}))),t.push.apply(t,r)}return t}function T(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?P(Object(source),!0).forEach((function(t){(0,m.default)(e,t,source[t])})):l?d(e,l(source)):P(Object(source)).forEach((function(t){f(e,t,c(source,t))}))}return e}var C={name:"PlanDescription",components:{CheckStyle:_.default},data:function(){return{visible:!1,checked:!1}},computed:T(T({},(0,v.mapGetters)(["getLang"])),{},{zendeskLocale:function(){return y.localeToZendeskLocale[this.getLang]||"en-us"}}),methods:{handleClose:function(){this.visible=!1},handleConfirm:function(){this.handleClose(),this.$emit("event",{type:"confirm",checked:this.checked})}}};t.default=C},5753:function(e,t,r){"use strict";r.r(t);var n=r(5754),o=r.n(n);for(var c in n)["default"].indexOf(c)<0&&function(e){r.d(t,e,(function(){return n[e]}))}(c);t.default=o.a},5754:function(e,t,r){"use strict";var n=r(6),o=r(7),c=r(5),l=r(8),d=r(9),f=r(0),h=r(1);f(t,"__esModule",{value:!0}),t.default=void 0;var m=h(r(4)),_=h(r(2160)),v=r(12),y=r(599);function P(object,e){var t=n(object);if(o){var r=o(object);e&&(r=r.filter((function(e){return c(object,e).enumerable}))),t.push.apply(t,r)}return t}function T(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?P(Object(source),!0).forEach((function(t){(0,m.default)(e,t,source[t])})):l?d(e,l(source)):P(Object(source)).forEach((function(t){f(e,t,c(source,t))}))}return e}var C={name:"OrderConfirmation",components:{CheckStyle:_.default},props:{orderType:{type:String,default:"normal"},param:{type:Object,default:function(){return{symbolId:"-/-",triggerPrice:"--",executePrice:"--",priceType:"limit",delegateCount:"--",delegateAmount:"--",delegateType:"21",orderType:1}}},symbolCode:{type:String,default:"-/-"}},data:function(){return{visible:!1,checked:!1}},methods:{handleClose:function(){this.visible=!1},handleConfirm:function(){this.$emit("event",{type:"confirm",checked:this.checked})}},computed:T(T({},(0,v.mapGetters)("spot",{spotConfig:y.SPOT_GETTERS_TYPE.SPOT_CONFIG})),{},{url:function(){return this.$i18n.path("account/preference")},isBuy:function(){return"21"===this.param.delegateType},isMarketOrder:function(){return 1===this.param.orderType},title:function(){return this.$t(this.isBuy?"common.buy":"common.sell")+" "+this.symbolCode},priceTypeText:function(){return this.$t(this.isMarketOrder?"trade.operation.marketOrder":"trade.operation.limitOrder")},orderTypeText:function(){return"normal"===this.orderType?this.priceTypeText:this.$t("contract.trade.operation_delegate_plan")},priceText:function(){return"normal"===this.orderType?this.isMarketOrder?"":this.param.delegatePrice+" "+this.spotConfig.pricedSymbol:this.isMarketOrder?this.$t("trade.operation.marketOrder"):this.param.executePrice+" "+this.spotConfig.pricedSymbol},isTradeAmount:function(){return this.isBuy&&this.isMarketOrder},amountText:function(){return this.isMarketOrder?this.isBuy?this.$t("trade.operation.inner.total"):this.$t("trade.plan.trade_volume"):this.isBuy?this.$t("trade.operation.inner.buyAmount"):this.$t("trade.operation.inner.sellAmount")}})};t.default=C},5755:function(e,t,r){"use strict";r.r(t);var n=r(5756),o=r.n(n);for(var c in n)["default"].indexOf(c)<0&&function(e){r.d(t,e,(function(){return n[e]}))}(c);t.default=o.a},5756:function(e,t,r){"use strict";var n=r(18),o=r(21),c=r(0),l=r(5),d=r(1);c(t,"__esModule",{value:!0}),t.default=void 0;var f=d(r(8535)),h=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var r=_(t);if(r&&r.has(e))return r.get(e);var o={},d=c&&l;for(var f in e)if("default"!==f&&Object.prototype.hasOwnProperty.call(e,f)){var desc=d?l(e,f):null;desc&&(desc.get||desc.set)?c(o,f,desc):o[f]=e[f]}o.default=e,r&&r.set(e,o);return o}(r(604)),m=d(r(7314));function _(e){if("function"!=typeof o)return null;var t=new o,r=new o;return(_=function(e){return e?r:t})(e)}var v={name:"index",components:{block:f.default},data:function(){return{orderType:"normal"}},watch:{orderType:function(e){"plan"===e&&h.default.get(h.CacheKey.SPOT_PLAN_TIP)&&this.$useDialog()(m.default)[0].then((function(e){"confirm"===e.type&&(e.checked&&h.default.set(h.CacheKey.SPOT_PLAN_TIP,!1))}))}}};t.default=v},5757:function(e,t,r){"use strict";r.r(t);var n=r(5758),o=r.n(n);for(var c in n)["default"].indexOf(c)<0&&function(e){r.d(t,e,(function(){return n[e]}))}(c);t.default=o.a},5758:function(e,t,r){"use strict";var n=r(6),o=r(7),c=r(5),l=r(8),d=r(9),f=r(0),h=r(1);f(t,"__esModule",{value:!0}),t.default=void 0;var m=h(r(177)),_=h(r(4)),v=r(12),y=r(96),P=h(r(2220)),T=r(599),C=h(r(7310)),x=r(598),O=h(r(7316)),k=h(r(7312)),$=r(48);function E(object,e){var t=n(object);if(o){var r=o(object);e&&(r=r.filter((function(e){return c(object,e).enumerable}))),t.push.apply(t,r)}return t}function D(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?E(Object(source),!0).forEach((function(t){(0,_.default)(e,t,source[t])})):l?d(e,l(source)):E(Object(source)).forEach((function(t){f(e,t,c(source,t))}))}return e}var S={name:"block",components:{SpotTIF:C.default,"gl-input":P.default,PriceTypeSelect:k.default},props:{role:{type:String,default:"buyer"},orderType:{type:String,default:"normal"}},data:function(){return{priceType:"limit",triggerPrice:"",triggerPriceErrorText:"",executePrice:"",executePriceErrorText:"",price:"",amount:"",percentage:0,priceHelpText:!1,triggerPriceHelpText:!1,executePriceHelpText:!1,priceErrorText:"",amountErrorText:"",isOrdering:!1,timeInForce:0}},computed:D(D(D(D({},(0,v.mapGetters)(["isLogin","currencySymbol","toCNYByUSDT"])),(0,v.mapGetters)("spot",{spotConfig:T.SPOT_GETTERS_TYPE.SPOT_CONFIG,spotTicker:T.SPOT_GETTERS_TYPE.SPOT_TICKER,leftCoinCount:T.SPOT_GETTERS_TYPE.LEFT_COIN_COUNT,rightCoinCount:T.SPOT_GETTERS_TYPE.RIGHT_COIN_COUNT})),(0,v.mapState)({theme:function(e){return e.theme},buyDepthPrice:function(e){return e.spot.buyDepthPrice},sellDepthPrice:function(e){return e.spot.sellDepthPrice},depthPrice:function(e){return e.spot.depthPrice},symbolId:function(e){return e.spot.symbolId},bestAskPrice:function(e){return e.spot.bestAskPrice},bestBidPrice:function(e){return e.spot.bestBidPrice},userPreference:function(e){return e.userPreference}})),{},{coinCount:function(){return"buyer"===this.role?this.rightCoinCount:this.leftCoinCount},priceTooltipText:function(){return this.priceErrorText?this.priceErrorText:this.calcPrice(this.price)},triggerPriceTooltipText:function(){return this.triggerPriceErrorText?this.triggerPriceErrorText:this.calcPrice(this.triggerPrice)},executePriceTooltipText:function(){return this.executePriceErrorText?this.executePriceErrorText:this.calcPrice(this.executePrice)},tradeValue:function(){var e=this.price;return"plan"===this.orderType&&(e="limit"===this.priceType?this.executePrice:this.spotTicker.price),(e=new y.Decimal(e||0)).times(this.amount||0).toFixed(this.spotConfig.placeConfig.quotePrecision,y.Decimal.ROUND_DOWN)}}),methods:D(D({},(0,v.mapActions)(["updateUserPreference"])),{},{calcPrice:function(e){var t=this.toCNYByUSDT(Number(e)*Number(this.spotTicker.toUsdt));return"≈"+this.currencySymbol+t.toFixed(t>=1?2:6)},checkPriceStep:function(e){var t=Number(this.spotConfig.placeConfig.priceEndStep)*Number("1e-"+String(this.spotConfig.placeConfig.delegatePricePlace));return new y.Decimal(e).mod(new y.Decimal(t)).isZero()},calPriceStep:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=this.spotConfig.placeConfig,n=new y.Decimal(e),o=n.toDP(Number(r.delegatePricePlace)-1,y.Decimal.ROUND_FLOOR),c=n.toDP(r.delegatePricePlace,y.Decimal.ROUND_DOWN),l=c.sub(o).div(r.priceEndStep).toDP(r.delegatePricePlace,t?y.Decimal.ROUND_UP:y.Decimal.ROUND_DOWN).times(r.priceEndStep).toDP(r.delegatePricePlace);return o.add(l).toFixed(r.delegatePricePlace)},handleTriggerPriceInput:function(e){""!==e?new RegExp("^(0|[1-9]\\d*)(\\.\\d{0,".concat(this.spotConfig.placeConfig.delegatePricePlace,"})?$")).test(e)&&(this.checkPriceStep(e)?this.triggerPrice=e:this.triggerPrice=this.calPriceStep(e)):this.triggerPrice=e},handleExecutePriceInput:function(e){""!==e?new RegExp("^(0|[1-9]\\d*)(\\.\\d{0,".concat(this.spotConfig.placeConfig.delegatePricePlace,"})?$")).test(e)&&(this.checkPriceStep(e)?this.executePrice=e:this.executePrice=this.calPriceStep(e)):this.executePrice=e},handleCharge:function(){this.$router.push({path:this.$i18n.path("asset")})},login:function(){this.$router.push({path:this.$i18n.path("login"),query:{from:"spot/"+(this.$route.params.symbolId||"")}})},handleAllPriceInputFocus:function(e){this[["triggerPriceHelpText","executePriceHelpText","priceHelpText"][e]]=!0,this[["triggerPriceErrorText","executePriceErrorText","priceErrorText"][e]]=""},handlePriceInput:function(e){if(""===e)return this.handlePercentageChange(this.percentage),void(this.price=e);new RegExp("^(0|[1-9]\\d*)(\\.\\d{0,".concat(this.spotConfig.placeConfig.delegatePricePlace,"})?$")).test(e)?(this.checkPriceStep(e)||(e=this.calPriceStep(e)),this.price=e,this.handlePercentageChange(this.percentage)):this.$refs.priceInput.setCurrentValue(this.price)},handleAmountInput:function(e){if(""===e)return this.percentage=0,void(this.amount="");var t=this.spotConfig.placeConfig.volumePlace;if("buyer"===this.role&&"market"===this.priceType&&(t=this.spotConfig.placeConfig.quotePrecision||6),new RegExp("^(0|[1-9]\\d*)(\\.\\d{0,".concat(t,"})?$")).test(e)){var r=new y.Decimal(e),n=new y.Decimal(this.coinCount);"buyer"===this.role&&"limit"===this.priceType?this.percentage=n.isZero()?0:Number(new y.Decimal(+this.price).times(r).div(n).times(100).toFixed()):this.percentage=n.isZero()?0:Number(r.div(n).times(100).toFixed()),this.amount=e}else this.$refs.amountInput.setCurrentValue(this.amount)},handlePercentageChange:function(e){this.percentage=e;var t=new y.Decimal(this.rightCoinCount),r=new y.Decimal(this.leftCoinCount),n=new y.Decimal(e).div(100),o=this.spotConfig.placeConfig.volumePlace;if("buyer"===this.role&&"market"===this.priceType&&(o=this.spotConfig.placeConfig.quotePrecision||6),"buyer"===this.role)if("limit"===this.priceType){var c=new y.Decimal("limit"===this.priceType?+this.price:+this.spotTicker.price);this.amount=c.isZero()?new y.Decimal(0).toFixed(o):t.div(c).times(n).toFixed(o,y.Decimal.ROUND_DOWN)}else this.amount=t.times(n).toFixed(o,y.Decimal.ROUND_DOWN);else this.amount=r.times(n).toFixed(o,y.Decimal.ROUND_DOWN)},doNormalOrder:function(){var e=this,t=new y.Decimal(Number(this.amount)),r=new y.Decimal(Number(this.price));if(r.isZero()&&"limit"===this.priceType)this.priceErrorText="buyer"===this.role?this.$t("trade.operation.tipCorrectBuyPrice"):this.$t("trade.operation.tipCorrectSellPrice");else if(t.isZero())this.amountErrorText="buyer"===this.role?this.$t("trade.operation.tipCorrectBuyAmount"):this.$t("trade.operation.tipCorrectSellAmount");else{var n=new y.Decimal(Number(this.rightCoinCount)),o=new y.Decimal(Number(this.leftCoinCount)),c=new y.Decimal(0);if(c="buyer"===this.role?"limit"===this.priceType?n.div(r):n:o,t.greaterThan(c))this.amountErrorText=this.$t("trade.operation.tipNoEnoughCoin");else{this.priceErrorText="",this.amountErrorText="";var l={symbolId:this.spotConfig.symbolId,delegateType:"buyer"===this.role?"21":"22",orderType:"market"===this.priceType?1:0};if("market"===this.priceType?"buyer"===this.role?l.delegateAmount=this.amount:l.delegateCount=this.amount:(l.delegatePrice=this.price,l.delegateCount=this.amount,l.timeInForce=this.timeInForce),1===l.orderType&&0===this.userPreference.marketEntrust||0===l.orderType&&0===this.userPreference.normalEntrust){var d=this.$useDialog()(O.default,{orderType:"normal",param:l,symbolCode:this.spotConfig.displayName}),f=(0,m.default)(d,2),h=f[0],_=f[1];h.then((function(t){"confirm"===t.type&&(e.postOrder(l),_(),t.checked&&(1===l.orderType?e.updateUserPreference({marketEntrust:1}):0===l.orderType&&e.updateUserPreference({normalEntrust:1})))}))}else this.postOrder(l)}}},postOrder:function(e){var t=this;this.isOrdering=!0,(0,x.placeOrder)(e).then((function(data){var e=data;if("00000"===e.code)BT.util.success(t.$t("trade.operation.orderSuccess")),t.percentage=0,t.amount="";else switch(e.code){case"50017":case"50018":case"50021":case"50016":t.priceErrorText=e.msg;break;case"50014":case"50015":case"50020":case"50019":t.amountErrorText=e.msg;break;default:BT.util.error(e.msg||t.$t("trade.operation.orderFail"))}})).catch((function(e){console.log("placeOrder reject",e),BT.util.error(t.$t("trade.operation.orderFail"))})).finally((function(){t.isOrdering=!1}))},doPlanOrder:function(){var e=this,t=new y.Decimal(+this.triggerPrice),r=new y.Decimal(+this.executePrice);if(t.isZero())this.triggerPriceErrorText=this.$t("contract.trade.operation_placeholder_target_price");else if("limit"===this.priceType&&r.isZero())this.executePriceErrorText="buyer"===this.role?this.$t("trade.operation.tipCorrectBuyPrice"):this.$t("trade.operation.tipCorrectSellPrice");else if(new y.Decimal(Number(this.amount)).isZero())this.amountErrorText="buyer"===this.role?this.$t("trade.operation.tipCorrectBuyAmount"):this.$t("trade.operation.tipCorrectSellAmount");else{this.executePriceErrorText="",this.triggerPriceErrorText="",this.amountErrorText="";var n={businessLine:1,timeInForceValue:0,symbolId:this.spotConfig.symbolId,delegateType:"buyer"===this.role?"21":"22",orderType:"market"===this.priceType?1:0,orderSource:1,triggerPrice:this.triggerPrice};if("limit"===this.priceType&&(n.executePrice=this.executePrice,n.delegateCount=this.amount),"market"===this.priceType&&("buyer"===this.role?n.delegateAmount=this.amount:n.delegateCount=this.amount),console.log(">>>plan param",n),0===this.userPreference.spotPlanEntrust){var o=this.$useDialog()(O.default,{orderType:"plan",param:n,symbolCode:this.spotConfig.displayName}),c=(0,m.default)(o,2),l=c[0],d=c[1];l.then((function(t){"confirm"===t.type&&(e.postPlanOrder(n),d(),t.checked&&e.updateUserPreference({spotPlanEntrust:1}))}))}else this.postPlanOrder(n)}},postPlanOrder:function(e){var t=this;this.isOrdering=!0,(0,x.triggerSpotPlanPlacePlan)(e).then((function(data){"00000"===data.code?(BT.util.success(t.$t("trade.operation.orderSuccess")),t.triggerPrice="",t.executePrice="",t.amount=""):BT.util.error(data.msg||t.$t("trade.operation.orderFail"))})).catch((function(e){console.log("placePlanOrder reject",e),BT.util.error(t.$t("trade.operation.orderFail"))})).finally((function(){t.isOrdering=!1}))},doOrder:function(){"buyer"===this.role?(0,$.spotBuyClickEvent)():(0,$.spotSellClickEvent)(),this.isLogin?this.isOrdering||("normal"===this.orderType?this.doNormalOrder():"plan"===this.orderType&&this.doPlanOrder()):this.login()}}),watch:{orderType:function(e,t){e!==t&&(this.triggerPrice="",this.executePrice="",this.priceType="limit")},priceType:function(e,t){e!==t&&("buyer"===this.role&&(this.price=this.buyDepthPrice&&new y.Decimal(this.buyDepthPrice).toFixed(Number(this.spotConfig.placeConfig.delegatePricePlace),y.Decimal.ROUND_DOWN)||""),"seller"===this.role&&(this.price=this.sellDepthPrice&&new y.Decimal(this.sellDepthPrice).toFixed(Number(this.spotConfig.placeConfig.delegatePricePlace),y.Decimal.ROUND_DOWN)||""),this.amount="",this.percentage=0,this.priceErrorText="",this.amountErrorText="")},symbolId:function(){this.amount="",this.price="",this.percentage=0,this.priceErrorText="",this.amountErrorText="",this.triggerPrice="",this.executePrice=""},bestBidPrice:function(e,t){""===t&&""!==e&&"buyer"===this.role&&(this.price=e)},bestAskPrice:function(e,t){""===t&&""!==e&&"seller"===this.role&&(this.price=e)},buyDepthPrice:function(e){"buyer"===this.role&&(this.price=e)},sellDepthPrice:function(e){"seller"===this.role&&(this.price=e)},depthPrice:function(e){new y.Decimal(e).greaterThan(0)&&(this.price=e)}}};t.default=S},7294:function(e,t,r){},7295:function(e,t,r){},7303:function(e,t,r){},7304:function(e,t,r){},7310:function(e,t,r){"use strict";r.r(t);var n=r(9795),o=r(5747);for(var c in o)["default"].indexOf(c)<0&&function(e){r.d(t,e,(function(){return o[e]}))}(c);r(8529);var l=r(2),component=Object(l.a)(o.default,n.a,n.b,!1,null,null,null);t.default=component.exports},7311:function(e,t,r){},7312:function(e,t,r){"use strict";r.r(t);var n=r(9796),o=r(5749);for(var c in o)["default"].indexOf(c)<0&&function(e){r.d(t,e,(function(){return o[e]}))}(c);r(8530);var l=r(2),component=Object(l.a)(o.default,n.a,n.b,!1,null,null,null);t.default=component.exports},7313:function(e,t,r){},7314:function(e,t,r){"use strict";r.r(t);var n=r(9797),o=r(5751);for(var c in o)["default"].indexOf(c)<0&&function(e){r.d(t,e,(function(){return o[e]}))}(c);r(8531);var l=r(2),component=Object(l.a)(o.default,n.a,n.b,!1,null,null,null);t.default=component.exports},7315:function(e,t,r){},7316:function(e,t,r){"use strict";r.r(t);var n=r(9798),o=r(5753);for(var c in o)["default"].indexOf(c)<0&&function(e){r.d(t,e,(function(){return o[e]}))}(c);r(8532);var l=r(2),component=Object(l.a)(o.default,n.a,n.b,!1,null,null,null);t.default=component.exports},7317:function(e,t,r){},7318:function(e,t,r){},7319:function(e,t,r){},7320:function(e,t,r){},8495:function(e,t,r){"use strict";r.r(t);var n=r(9787),o=r(5703);for(var c in o)["default"].indexOf(c)<0&&function(e){r.d(t,e,(function(){return o[e]}))}(c);r(8496),r(8497);var l=r(2),component=Object(l.a)(o.default,n.a,n.b,!1,null,"2f0fae98",null);t.default=component.exports},8496:function(e,t,r){"use strict";r(7294)},8497:function(e,t,r){"use strict";r(7295)},8515:function(e,t,r){"use strict";r.r(t);var n=r(10032),o=r(5729);for(var c in o)["default"].indexOf(c)<0&&function(e){r.d(t,e,(function(){return o[e]}))}(c);r(8518);var l=r(2),component=Object(l.a)(o.default,n.a,n.b,!1,null,null,null);t.default=component.exports},8516:function(e,t,r){"use strict";r.r(t);var n=r(10052),o=r(5731);for(var c in o)["default"].indexOf(c)<0&&function(e){r.d(t,e,(function(){return o[e]}))}(c);r(8517);var l=r(2),component=Object(l.a)(o.default,n.a,n.b,!1,null,null,null);t.default=component.exports},8517:function(e,t,r){"use strict";r(7303)},8518:function(e,t,r){"use strict";r(7304)},8528:function(e,t,r){"use strict";r.r(t);var n=r(9555),o=r(5745);for(var c in o)["default"].indexOf(c)<0&&function(e){r.d(t,e,(function(){return o[e]}))}(c);r(8533);var l=r(2),component=Object(l.a)(o.default,n.a,n.b,!1,null,null,null);t.default=component.exports},8529:function(e,t,r){"use strict";r(7311)},8530:function(e,t,r){"use strict";r(7313)},8531:function(e,t,r){"use strict";r(7315)},8532:function(e,t,r){"use strict";r(7317)},8533:function(e,t,r){"use strict";r(7318)},8534:function(e,t,r){"use strict";r.r(t);var n=r(9556),o=r(5755);for(var c in o)["default"].indexOf(c)<0&&function(e){r.d(t,e,(function(){return o[e]}))}(c);r(8537);var l=r(2),component=Object(l.a)(o.default,n.a,n.b,!1,null,null,null);t.default=component.exports},8535:function(e,t,r){"use strict";r.r(t);var n=r(9799),o=r(5757);for(var c in o)["default"].indexOf(c)<0&&function(e){r.d(t,e,(function(){return o[e]}))}(c);r(8536);var l=r(2),component=Object(l.a)(o.default,n.a,n.b,!1,null,null,null);t.default=component.exports},8536:function(e,t,r){"use strict";r(7319)},8537:function(e,t,r){"use strict";r(7320)},9555:function(e,t,r){"use strict";r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return o}));var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"trade-order-placer--single",class:[e.role]},[r("div",{staticClass:"trade-order-placer__role"},[r("span",{class:{active:"buyer"===e.role},on:{click:function(t){e.role="buyer"}}},[e._v(e._s(e.$t("common.buy")))]),e._v(" "),r("span",{class:{active:"seller"===e.role},on:{click:function(t){e.role="seller"}}},[e._v(e._s(e.$t("common.sell")))])]),e._v(" "),r("div",{staticClass:"trade-order-placer__price-type"},[r("span",{class:{active:"limit"===e.priceType&&"normal"===e.orderType},on:{click:function(t){return e.handleTypeSelect("limit","normal")}}},[e._v("\n      "+e._s(e.$t("trade.operation.limitOrder"))+"\n    ")]),e._v(" "),r("span",{class:{active:"market"===e.priceType&&"normal"===e.orderType},on:{click:function(t){return e.handleTypeSelect("market","normal")}}},[e._v("\n      "+e._s(e.$t("trade.operation.marketOrder"))+"\n    ")]),e._v(" "),r("span",{class:{active:"plan"===e.orderType},on:{click:function(t){return e.handleTypeSelect("limit","plan")}}},[e._v("\n      "+e._s(e.$t("trade.operation.planOrder"))+"\n    ")])]),e._v(" "),"plan"===e.orderType?[r("div",{staticClass:"trade-order-placer__price-type-block"},[r("span",{class:["market"===e.priceType?"selected":""],on:{click:function(t){e.priceType="market"}}},[e._v("\n        "+e._s(e.$t("trade.operation.marketOrder")))]),e._v(" "),r("span",{class:["limit"===e.priceType?"selected":""],on:{click:function(t){e.priceType="limit"}}},[e._v("\n        "+e._s(e.$t("trade.operation.limitOrder")))])]),e._v(" "),r("div",{staticClass:"trade-order-placer__input-wrapper"},[r("gl-input",{ref:"priceInput",attrs:{theme:e.theme,slim:"",error:!!e.triggerPriceErrorText||e.triggerPriceHelpText,"error-msg":e.triggerPriceTooltipText,value:e.triggerPrice},on:{focus:function(t){return e.handleAllPriceInputFocus(0)},blur:function(t){e.triggerPriceHelpText=!1},input:e.handleTriggerPriceInput}},[r("span",{attrs:{slot:"prepend"},slot:"prepend"},[e._v(e._s(e.$t("contract.trade.operation_trigger_price")))]),e._v(" "),r("span",{attrs:{slot:"append"},slot:"append"},[e._v(e._s(e.spotConfig.pricedSymbol))])])],1),e._v(" "),r("div",{staticClass:"trade-order-placer__input-wrapper"},[r("gl-input",{ref:"priceInput",attrs:{theme:e.theme,slim:"",error:!!e.executePriceErrorText||e.executePriceHelpText,"error-msg":e.executePriceTooltipText,disabled:"market"===e.priceType,placeholder:"market"===e.priceType?"buyer"===e.role?e.$t("trade.operation.inner.marketOrderTipBuy"):e.$t("trade.operation.inner.marketOrderTipSell"):"",value:e.executePrice},on:{focus:function(t){return e.handleAllPriceInputFocus(1)},blur:function(t){e.executePriceHelpText=!1},input:e.handleExecutePriceInput}},[r("span",{attrs:{slot:"prepend"},slot:"prepend"},[e._v(e._s("buyer"===e.role?e.$t("trade.operation.inner.buyPrice"):e.$t("trade.operation.inner.sellPrice")))]),e._v(" "),r("span",{attrs:{slot:"append"},slot:"append"},[e._v(e._s(e.spotConfig.pricedSymbol))])])],1)]:[r("div",{staticClass:"trade-order-placer__input-wrapper"},[r("gl-input",{ref:"priceInput",attrs:{theme:e.theme,slim:"",error:!!e.priceErrorText||e.priceHelpText,"error-msg":e.priceTooltipText,disabled:"market"===e.priceType,placeholder:"market"===e.priceType?"buyer"===e.role?e.$t("trade.operation.inner.marketOrderTipBuy"):e.$t("trade.operation.inner.marketOrderTipSell"):"",value:e.price},on:{focus:e.handlePriceInputFocus,blur:function(t){e.priceHelpText=!1},input:e.handlePriceInput}},[r("span",{attrs:{slot:"prepend"},slot:"prepend"},[e._v(e._s("buyer"===e.role?e.$t("trade.operation.inner.buyPrice"):e.$t("trade.operation.inner.sellPrice")))]),e._v(" "),r("span",{attrs:{slot:"append"},slot:"append"},[e._v(e._s(e.spotConfig.pricedSymbol))])])],1)],e._v(" "),r("div",{staticClass:"trade-order-placer__input-wrapper"},[r("client-only",[r("gl-input",{ref:"amountInput",attrs:{theme:e.theme,slim:"",value:e.amount,error:!!e.amountErrorText,"error-msg":e.amountErrorText},on:{input:e.handleAmountInput,focus:function(t){e.amountErrorText=""}}},[r("span",{attrs:{slot:"prepend"},slot:"prepend"},[e._v(e._s("limit"===e.priceType?"buyer"===e.role?e.$t("trade.operation.inner.buyAmount"):e.$t("trade.operation.inner.sellAmount"):e.$t("trade.operation.inner.total")))]),e._v(" "),r("span",{attrs:{slot:"append"},slot:"append"},[e._v("\n          "+e._s("buyer"===e.role?"limit"===e.priceType?e.spotConfig.baseSymbol:e.spotConfig.pricedSymbol:e.spotConfig.baseSymbol))])])],1)],1),e._v(" "),"normal"===e.orderType?r("div",{staticClass:"trade-order-placer__slider"},[r("gl-slider",{attrs:{points:[0,25,50,75,100],"class-wrapper":e.role,"tooltip-class":"swap",step:1,value:e.percentage,"format-tooltip":function(e){return e.toFixed()+"%"},disabled:"buyer"===e.role?e.rightCoinCount<=0:e.leftCoinCount<=0},on:{change:e.handlePercentageChange}},[r("template",{slot:"leftMarker"},[e._v("0%")]),e._v(" "),r("template",{slot:"rightMarker"},[e._v("100%")])],2)],1):e._e(),e._v(" "),r("div",{staticClass:"trade-order-placer__button"},[r("span",{on:{click:e.doOrder}},[e._v("\n      "+e._s("buyer"===e.role?e.$t("common.buy"):e.$t("common.sell"))+"\n    ")])]),e._v(" "),r("div",{staticClass:"trade-order-placer__data-title"},[r("div",[r("span",[e._v(e._s(e.$t("trade.operation.inner.canUse")))])]),e._v(" "),r("div",[r("span",{on:{click:e.handleCharge}},[e._v(e._s(e.$t("trade.operation.inner.charge")))])])]),e._v(" "),r("div",{staticClass:"trade-order-placer__data-content"},[r("div",[r("span",[e._v("\n        "+e._s(e.isLogin?"buyer"===e.role?e.rightCoinCount+" "+e.spotConfig.pricedSymbol:e.leftCoinCount+" "+e.spotConfig.baseSymbol:"--")+"\n      ")])]),e._v(" "),r("div")]),e._v(" "),"limit"===e.priceType?r("div",{staticClass:"trade-order-placer__data-title"},[r("div",[r("span",[e._v(e._s(e.$t("trade.operation.inner.total")))])]),e._v(" "),r("div")]):e._e(),e._v(" "),"limit"===e.priceType?r("div",{staticClass:"trade-order-placer__data-content"},[r("div",[r("span",[e._v(e._s(e.tradeValue+" "+("limit"===e.priceType?e.spotConfig.pricedSymbol:e.spotConfig.baseSymbol)))])]),e._v(" "),r("div")]):e._e(),e._v(" "),r("div",{staticClass:"trade-order-placer__extra"},[r("i",{staticClass:"iconfont icon-dikoubeifen"}),e._v("\n    "+e._s(e.$t("common.gt-payment"))+"\n  ")]),e._v(" "),"limit"===e.priceType&&"plan"!==e.orderType?r("div",{staticClass:"trade-order-placer__extra"},[r("spot-t-i-f",{attrs:{theme:e.theme},model:{value:e.timeInForce,callback:function(t){e.timeInForce=t},expression:"timeInForce"}})],1):e._e()],2)},o=[]},9556:function(e,t,r){"use strict";r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return o}));var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"trade-order-placer__split-wrapper"},[r("div",{staticClass:"tab-title"},[r("ul",{staticClass:"tab-container need-gap"},[r("li",{staticClass:"tab-item",class:"normal"===e.orderType?"active":"",on:{click:function(t){e.orderType="normal"}}},[e._v("\n        "+e._s(e.$t("contract.trade.operation_delegate_normal"))+"\n      ")]),e._v(" "),r("li",{staticClass:"tab-item",class:"plan"===e.orderType?"active":"",on:{click:function(t){e.orderType="plan"}}},[e._v("\n        "+e._s(e.$t("contract.trade.operation_delegate_plan"))+"\n      ")])])]),e._v(" "),r("div",{staticClass:"block-body"},[r("block",{attrs:{role:"buyer","order-type":e.orderType}}),e._v(" "),r("block",{attrs:{role:"seller","order-type":e.orderType}})],1)])},o=[]},9787:function(e,t,r){"use strict";r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return o}));var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-popover",{attrs:{"popper-class":"bit-info-popover",trigger:"hover",placement:"bottom-start","visible-arrow":!1}},[r("div",{staticClass:"bit-info-popover-wrap"},[r("header",{staticClass:"bit-info-popover-header"},[e._t("icon"),e._v("\n            "+e._s(e.bitInfo.coinName)+"\n        ")],2),e._v(" "),r("ul",[e._l(e.bigInfoTitleColumn,(function(t){return r("li",{key:t.key,staticClass:"bit-info-popover-title"},[r("span",{staticClass:"bit-info-popover-title-left"},[e._v("\n                    "+e._s(t.title)+"\n                ")]),e._v(" "),r("span",{staticClass:"bit-info-popover-title-right"},[e._v("\n                    "+e._s(t.format?t.format(e.bitInfo[t.key],e.bitInfo):e.bitInfo[t.key]||"-")+"\n                ")])])})),e._v(" "),r("li",{staticClass:"bit-info-popover-title"},[r("a",{staticClass:"bit-info-popover-title-left icon-popover-link",attrs:{href:e.bitInfo.blockBrowser,target:"_blank",rel:"noopener"}},[e._v("\n                    "+e._s(e.$t("coin_currency_info_block_chain_browser"))+"\n                    "),r("i",{staticClass:"iconfont icon-fenxiang"})])]),e._v(" "),r("li",{staticClass:"bit-info-popover-title bit-info-popover-article"},[e._v("\n                "+e._s(e.bitInfo.desc)+"\n            ")]),e._v(" "),r("li",{staticClass:"bit-info-popover-title"},[r("p",{staticClass:"bit-info-popover-title-left"},[e._v("\n                    "+e._s(e.$t("contract.trade.entrust_header_source"))+":\n                    "+e._s(e.bitInfo.source)+"\n                ")])])],2)]),e._v(" "),r("i",{staticClass:"icon-popover-info",attrs:{slot:"reference",type:"info"},slot:"reference"})])},o=[]},9795:function(e,t,r){"use strict";r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return o}));var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"spot-operation__time-in-force"},[r("gl-radio",{attrs:{label:0,value:e.value,tooltip:e.$t("contract.trade.operation_time_type_gtc_tip"),theme:e.theme},on:{input:function(t){return e.$emit("input",t)}}},[e._v(e._s(e.$t("contract.trade.operation_time_type_gtc")))]),e._v(" "),r("gl-radio",{attrs:{label:1,value:e.value,tooltip:e.$t("contract.trade.operation_time_type_po_tip"),theme:e.theme},on:{input:function(t){return e.$emit("input",t)}}},[e._v(e._s(e.$t("contract.trade.operation_time_type_po")))]),e._v(" "),r("gl-radio",{attrs:{label:3,value:e.value,tooltip:e.$t("contract.trade.operation_time_type_ioc_tip"),theme:e.theme},on:{input:function(t){return e.$emit("input",t)}}},[e._v(e._s(e.$t("contract.trade.operation_time_type_ioc")))]),e._v(" "),r("gl-radio",{attrs:{label:2,value:e.value,tooltip:e.$t("contract.trade.operation_time_type_fok_tip"),theme:e.theme},on:{input:function(t){return e.$emit("input",t)}}},[e._v(e._s(e.$t("contract.trade.operation_time_type_fok")))])],1)},o=[]},9796:function(e,t,r){"use strict";r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return o}));var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"spot-price-type-select"},[r("div",{staticClass:"spot-price-type-display",on:{click:function(t){e.show=!0}}},[r("span",[e._v(e._s("limit"===e.value?e.$t("trade.operation.limitOrder"):e.$t("trade.operation.marketOrder")))]),e._v(" "),r("i",{staticClass:"iconfont icon-jiantou"})]),e._v(" "),r("div",{directives:[{name:"clickoutside",rawName:"v-clickoutside",value:e.hideMenu,expression:"hideMenu"}],staticClass:"spot-price-type-menu",class:[e.show?"display":""]},[r("div",{staticClass:"spot-price-type-item",class:["limit"===e.value?"selected":""],on:{click:function(t){return e.handleSelect("limit")}}},[e._v("\n      "+e._s(e.$t("trade.operation.limitOrder"))+"\n    ")]),e._v(" "),r("div",{staticClass:"spot-price-type-item",class:["market"===e.value?"selected":""],on:{click:function(t){return e.handleSelect("market")}}},[e._v("\n      "+e._s(e.$t("trade.operation.marketOrder"))+"\n    ")])])])},o=[]},9797:function(e,t,r){"use strict";r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return o}));var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("client-only",[r("el-dialog",{attrs:{"close-on-click-modal":!1,"close-on-press-escape":!1,"custom-class":"spot-dialog-base spot-dialog__plan-description",width:"500px",visible:"visible"},on:{close:e.handleClose}},[r("div",{staticClass:"spot-dialog-wrapper"},[r("div",{staticClass:"spot-dialog-title"},[e._v("\n        "+e._s(e.$t("trade.plan.desc_dialog_title"))+"\n      ")]),e._v(" "),r("div",{staticClass:"spot-dialog-body"},[r("p",[e._v("\n          "+e._s(e.$t("trade.plan.desc_dialog_content_1"))+"\n        ")]),e._v(" "),r("p",{staticStyle:{"margin-bottom":"40px"}},[e._v("\n          "+e._s(e.$t("trade.plan.desc_dialog_content_2"))+"\n        ")]),e._v(" "),r("div",{staticClass:"spot-dialog-check"},[r("check-style",{attrs:{"is-checked":e.checked},on:{"update:isChecked":function(t){e.checked=t},"update:is-checked":function(t){e.checked=t}}}),e._v(" "),r("p",[e._v(e._s(e.$t("common.googleTip_tip")))]),e._v(" "),r("div",{staticStyle:{flex:"1"}}),e._v(" "),r("a",{attrs:{href:"https://bitget.zendesk.com/hc/"+e.zendeskLocale+"/articles/4411737348761",target:"_blank",rel:"noopener"}},[e._v("\n            "+e._s(e.$t("trade.plan.know_more"))+">\n          ")])],1)]),e._v(" "),r("div",{staticClass:"spot-dialog-footer flex-end"},[r("el-button",{on:{click:e.handleClose}},[e._v(e._s(e.$t("common.btn_cancel")))]),e._v(" "),r("el-button",{attrs:{type:"primary"},on:{click:e.handleConfirm}},[e._v(e._s(e.$t("common.btn_confirm")))])],1)])])],1)},o=[]},9798:function(e,t,r){"use strict";r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return o}));var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("client-only",[r("el-dialog",{attrs:{"close-on-click-modal":!1,"close-on-press-escape":!1,"custom-class":"spot-dialog-base spot-dialog__order-confirmation",width:"500px",visible:"visible"},on:{close:e.handleClose}},[r("div",{staticClass:"spot-dialog-wrapper"},[r("div",{staticClass:"spot-dialog-title",class:["21"===e.param.delegateType?"green":"red"]},[e._v("\n        "+e._s(e.title)+"\n      ")]),e._v(" "),r("div",{staticClass:"spot-dialog-body"},[r("div",{staticClass:"spot-dialog-row"},[r("span",[e._v(e._s(e.$t("contract.list.time_in_force")))]),e._v(" "),r("span",[e._v(e._s(e.orderTypeText))])]),e._v(" "),"plan"===e.orderType?r("div",{staticClass:"spot-dialog-row"},[r("span",[e._v(e._s(e.$t("contract.trade.operation_trigger_price")))]),e._v(" "),r("span",[e._v(e._s(e.param.triggerPrice)+e._s(" ")+e._s(e.spotConfig.pricedSymbol))])]):e._e(),e._v(" "),e.priceText?r("div",{staticClass:"spot-dialog-row"},[r("span",[e._v("\n            "+e._s(e.$t("21"===this.param.delegateType?"trade.operation.inner.buyPrice":"trade.operation.inner.sellPrice"))+"\n          ")]),e._v(" "),r("span",[e._v(e._s(e.priceText))])]):e._e(),e._v(" "),r("div",{staticClass:"spot-dialog-row"},[r("span",[e._v(e._s(e.amountText))]),e._v(" "),r("span",[e._v("\n            "+e._s(e.isTradeAmount?e.param.delegateAmount:e.param.delegateCount)+"\n            "+e._s(" ")+"\n            "+e._s(e.isTradeAmount?e.spotConfig.pricedSymbol:e.spotConfig.baseSymbol)+"\n          ")])]),e._v(" "),r("div",{staticClass:"spot-dialog-check"},[r("check-style",{attrs:{"is-checked":e.checked},on:{"update:isChecked":function(t){e.checked=t},"update:is-checked":function(t){e.checked=t}}}),e._v(" "),r("p",{domProps:{innerHTML:e._s(e.$t("trade.confirmation.no_more_tip",[e.url]))}})],1)]),e._v(" "),r("div",{staticClass:"spot-dialog-footer"},[r("el-button",{on:{click:e.handleClose}},[e._v(e._s(e.$t("common.btn_cancel")))]),e._v(" "),r("el-button",{attrs:{type:"primary"},on:{click:e.handleConfirm}},[e._v(e._s(e.$t("common.btn_confirm")))])],1)])])],1)},o=[]},9799:function(e,t,r){"use strict";r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return o}));var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("client-only",[r("div",{staticClass:"trade-order-placer__block-wrapper"},["limit"===e.priceType&&"plan"!==e.orderType?r("spot-t-i-f",{attrs:{theme:e.theme},model:{value:e.timeInForce,callback:function(t){e.timeInForce=t},expression:"timeInForce"}}):e._e(),e._v(" "),r("div",{staticClass:"trade-order-placer__assets"},[r("div",[r("span",[e._v("\n                    "+e._s(e.$t("trade.operation.inner.canUse")+(e.isLogin?" ":"buyer"===e.role?"_"+e.spotConfig.pricedSymbol:"_"+e.spotConfig.baseSymbol))+"\n                ")]),e._v(" "),e.isLogin?r("span",[e._v("\n                    "+e._s("buyer"===e.role?e.rightCoinCount+" "+e.spotConfig.pricedSymbol:e.leftCoinCount+" "+e.spotConfig.baseSymbol)+"\n                ")]):e._e()]),e._v(" "),r("div",[r("span",{on:{click:e.handleCharge}},[e._v(e._s(e.$t("trade.operation.inner.charge")))])])]),e._v(" "),"plan"===e.orderType?[r("div",{staticClass:"trade-order-placer__input"},[r("gl-input",{ref:"priceInput",attrs:{theme:e.theme,slim:"",error:!!e.triggerPriceErrorText||e.triggerPriceHelpText,"error-msg":e.triggerPriceTooltipText,value:e.triggerPrice},on:{focus:function(t){return e.handleAllPriceInputFocus(0)},blur:function(t){e.triggerPriceHelpText=!1},input:e.handleTriggerPriceInput}},[r("span",{attrs:{slot:"prepend"},slot:"prepend"},[e._v("\n                        "+e._s(e.$t("contract.trade.operation_trigger_price"))+"\n                    ")]),e._v(" "),r("span",{attrs:{slot:"append"},slot:"append"},[e._v(e._s(e.spotConfig.pricedSymbol))])])],1),e._v(" "),r("div",{staticClass:"trade-order-placer__input"},[r("gl-input",{ref:"priceInput",attrs:{theme:e.theme,slim:"",error:!!e.executePriceErrorText||e.executePriceHelpText,"error-msg":e.executePriceTooltipText,disabled:"market"===e.priceType,placeholder:"market"===e.priceType?"buyer"===e.role?e.$t("trade.operation.inner.marketOrderTipBuy"):e.$t("trade.operation.inner.marketOrderTipSell"):"",value:e.executePrice},on:{focus:function(t){return e.handleAllPriceInputFocus(1)},blur:function(t){e.executePriceHelpText=!1},input:e.handleExecutePriceInput}},[r("span",{attrs:{slot:"prepend"},slot:"prepend"},[e._v("\n                        "+e._s("buyer"===e.role?e.$t("trade.operation.inner.buyPrice"):e.$t("trade.operation.inner.sellPrice"))+"\n                    ")]),e._v(" "),r("span",{attrs:{slot:"append"},slot:"append"},[e._v(e._s(e.spotConfig.pricedSymbol))])]),e._v(" "),r("price-type-select",{model:{value:e.priceType,callback:function(t){e.priceType=t},expression:"priceType"}})],1)]:[r("div",{staticClass:"trade-order-placer__input"},[r("gl-input",{ref:"priceInput",attrs:{theme:e.theme,slim:"",error:!!e.priceErrorText||e.priceHelpText,"error-msg":e.priceTooltipText,disabled:"market"===e.priceType,placeholder:"market"===e.priceType?"buyer"===e.role?e.$t("trade.operation.inner.marketOrderTipBuy"):e.$t("trade.operation.inner.marketOrderTipSell"):"",value:e.price},on:{focus:function(t){return e.handleAllPriceInputFocus(2)},blur:function(t){e.priceHelpText=!1},input:e.handlePriceInput}},[r("span",{attrs:{slot:"prepend"},slot:"prepend"},[e._v("\n                        "+e._s("buyer"===e.role?e.$t("trade.operation.inner.buyPrice"):e.$t("trade.operation.inner.sellPrice"))+"\n                    ")]),e._v(" "),r("span",{attrs:{slot:"append"},slot:"append"},[e._v(e._s(e.spotConfig.pricedSymbol))])]),e._v(" "),r("price-type-select",{model:{value:e.priceType,callback:function(t){e.priceType=t},expression:"priceType"}})],1)],e._v(" "),r("div",{staticClass:"trade-order-placer__input"},[r("gl-input",{ref:"amountInput",attrs:{theme:e.theme,slim:"",value:e.amount,error:!!e.amountErrorText,"error-msg":e.amountErrorText},on:{input:e.handleAmountInput,focus:function(t){e.amountErrorText=""}}},[r("span",{attrs:{slot:"prepend"},slot:"prepend"},[e._v("\n                    "+e._s("limit"===e.priceType?"buyer"===e.role?e.$t("trade.operation.inner.buyAmount"):e.$t("trade.operation.inner.sellAmount"):e.$t("trade.operation.inner.total"))+"\n                ")]),e._v(" "),r("span",{attrs:{slot:"append"},slot:"append"},[e._v("\n                    "+e._s("buyer"===e.role?"limit"===e.priceType?e.spotConfig.baseSymbol:e.spotConfig.pricedSymbol:e.spotConfig.baseSymbol)+"\n                ")])])],1),e._v(" "),"normal"===e.orderType?r("div",{staticClass:"trade-order-placer__slider"},[r("gl-slider",{attrs:{points:[0,25,50,75,100],"class-wrapper":e.role,"tooltip-class":"swap",step:1,value:e.percentage,"format-tooltip":function(e){return e.toFixed()+"%"},disabled:"buyer"===e.role?e.rightCoinCount<=0:e.leftCoinCount<=0},on:{change:e.handlePercentageChange}},[r("template",{slot:"leftMarker"},[e._v("0%")]),e._v(" "),r("template",{slot:"rightMarker"},[e._v("100%")])],2)],1):e._e(),e._v(" "),"limit"===e.priceType?r("div",{staticClass:"trade-order-placer__assets"},[r("div",[r("span",[e._v(e._s(e.$t("trade.operation.inner.total")))]),e._v(" "),r("span",[e._v("\n                    "+e._s(e.tradeValue+" "+("limit"===e.priceType?e.spotConfig.pricedSymbol:e.spotConfig.baseSymbol))+"\n                ")])]),e._v(" "),r("div")]):e._e(),e._v(" "),r("div",{staticClass:"trade-order-placer__button"},[r("span",{class:e.role,on:{click:e.doOrder}},[e._v("\n                "+e._s(e.isLogin?e.$t("buyer"===e.role?"common.buy":"common.sell")+" \n                        "+e.spotConfig.baseSymbol:e.$t("trade.operation.inner.sign"))+"\n            ")])])],2)])},o=[]}}]);
//# sourceMappingURL=47aefa1a6316c3991379.js.map